(self.webpackChunktiled=self.webpackChunktiled||[]).push([[503],{1503:(le,Y,v)=>{"use strict";v.r(Y),v.d(Y,{EditorModule:()=>fr});var u=v(6895),I=v(9051),D=v(6451),j=v(8421),Q=v(9751),te=v(5577),ve=v(1144),B=v(576),ie=v(3268);const we=["addListener","removeListener"],ne=["addEventListener","removeEventListener"],xe=["on","off"];function W(n,r,t,i){if((0,B.m)(t)&&(i=t,t=void 0),i)return W(n,r,t).pipe((0,ie.Z)(i));const[o,a]=function ye(n){return(0,B.m)(n.addEventListener)&&(0,B.m)(n.removeEventListener)}(n)?ne.map(s=>l=>n[s](r,l,t)):function Te(n){return(0,B.m)(n.addListener)&&(0,B.m)(n.removeListener)}(n)?we.map(de(n,r)):function ce(n){return(0,B.m)(n.on)&&(0,B.m)(n.off)}(n)?xe.map(de(n,r)):[];if(!o&&(0,ve.z)(n))return(0,te.z)(s=>W(s,r,t))((0,j.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Q.y(s=>{const l=(...d)=>s.next(1<d.length?d:d[0]);return o(l),()=>a(l)})}function de(n,r){return t=>i=>n[t](r,i)}var pe=v(4004),e=v(4650);let f=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["no-internet"]],decls:15,vars:3,consts:[[1,"no-internet-wrapper"],[1,"no-internet-content"],[1,"no-internet-image"],["src","assets\\images\\noint-illustration.svg","width","300","height","300"],[1,"no-internet-text-wrapper"],[1,"no-internet-header","h1"],[1,"no-internet-sub","text-body"],[1,"no-internet-button-wrapper"],[1,"primary-button","text-body"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()()(),e.TgZ(12,"div",7)(13,"button",8),e._uU(14,"Retry"),e.qZA()()()()),2&t&&(e.xp6(6),e.hij(" ","No internet connection!"," "),e.xp6(3),e.Oqu("It looks like you are not having an internet connection."),e.xp6(2),e.Oqu("Please check your connection and try again."))},styles:[".no-internet-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:fixed;top:0;bottom:0;z-index:999;height:100%;width:100%;background-color:#000;padding:80px 24px}@media (max-width: 767.9px){.no-internet-wrapper[_ngcontent-%COMP%]{padding:64px 16px}}.no-internet-wrapper[_ngcontent-%COMP%]   .no-internet-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:56px;max-width:640px}.no-internet-wrapper[_ngcontent-%COMP%]   .no-internet-content[_ngcontent-%COMP%]   .no-internet-text-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0;gap:16px;color:#f9f9f9cc;text-align:center}.no-internet-wrapper[_ngcontent-%COMP%]   .no-internet-content[_ngcontent-%COMP%]   .no-internet-button-wrapper[_ngcontent-%COMP%]{max-width:240px;width:100%}@media (max-width: 767.9px){.no-internet-wrapper[_ngcontent-%COMP%]   .no-internet-content[_ngcontent-%COMP%]   .no-internet-button-wrapper[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 767.9px){.no-internet-wrapper[_ngcontent-%COMP%]   .no-internet-content[_ngcontent-%COMP%]   .no-internet-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:200px}}"]}),n})(),b=(()=>{class n{constructor(){this.isOnline=!0}ngOnInit(){this.checkNetwork$().subscribe(t=>this.isOnline=t)}checkNetwork$(){return(0,D.T)(W(window,"offline").pipe((0,pe.U)(()=>!1)),W(window,"online").pipe((0,pe.U)(()=>!0)),new Q.y(t=>{t.next(navigator.onLine),t.complete()}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor-main"]],decls:2,vars:1,consts:[[3,"hidden"]],template:function(t,i){1&t&&e._UZ(0,"router-outlet")(1,"no-internet",0),2&t&&(e.xp6(1),e.Q6J("hidden",i.isOnline))},dependencies:[I.lC,f]}),n})();var m=v(5861),T=v(7579),S=v(2722),L=v(394),E=v(4195),A=v(131),y=v(8330),w=v(1443),R=v(1481),X=v(4642),oe=v(6449),N=v(6307);const K=function(n){return{active:n}};function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onTileResize(a))}),e._uU(1),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Q6J("@slideInBottomToTop",void 0)("ngClass",e.VKq(4,K,i.activeTileSize===t.label))("title",t.label),e.xp6(1),e.hij(" ",t.label," ")}}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,ae,2,6,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.tileSizeOptions)}}function Ge(n,r){1&n&&e._UZ(0,"div",10)}function je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onTileSelectedOptionClick(a))}),e._UZ(1,"app-svg",14),e.TgZ(2,"div",15),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit;e.Q6J("@slideInOutRightToLeft",void 0)("title",t.label),e.xp6(1),e.Q6J("svgType",t.icon),e.xp6(2),e.Oqu(t.label)}}function Qe(n,r){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,je,4,4,"div",12),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.tileSelectedOptions)}}function qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onOptionsClick(a))}),e._UZ(1,"app-svg",14),e.TgZ(2,"div",22),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit;e.Q6J("@slideInOutLeftToRight",void 0)("title",t.label),e.xp6(1),e.Q6J("svgType",t.icon),e.xp6(2),e.Oqu(t.label)}}function Ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onDeviceToggle(a))}),e._UZ(1,"app-svg",24),e.qZA()}if(2&n){const t=r.$implicit;e.Q6J("ngClass",e.VKq(3,K,t.isActive))("title",t.title),e.xp6(1),e.Q6J("svgType",t.icon)}}function We(n,r){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,qe,4,4,"div",17),e._UZ(2,"div",18),e.TgZ(3,"div",19),e.YNc(4,Ye,2,5,"div",20),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.defaultOptions),e.xp6(3),e.Q6J("ngForOf",t.deviceToggleOptions)}}function Ke(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onHeaderEdit())}),e._UZ(2,"app-svg",27),e.TgZ(3,"div",15),e._uU(4),e.qZA()()()}2&n&&(e.xp6(1),e.Q6J("@slideInOutRightToLeft",void 0),e.xp6(3),e.Oqu("Edit"))}function $e(n,r){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Ie,2,1,"div",2),e.YNc(2,Ge,1,0,"div",3),e.YNc(3,Qe,2,1,"div",4),e.YNc(4,We,5,2,"div",5),e.YNc(5,Ke,5,2,"div",6),e.qZA()),2&n){const t=e.oxw();e.Q6J("@slideInBottomToTop",void 0),e.xp6(1),e.Q6J("ngIf",t.selectedTile&&"group_title"!==t.selectedTile.type&&"mobile"===t.deviceType),e.xp6(1),e.Q6J("ngIf",t.selectedTile&&"group_title"!==t.selectedTile.type&&"mobile"===t.deviceType),e.xp6(1),e.Q6J("ngIf",t.selectedTile&&"mobile"===t.deviceType),e.xp6(1),e.Q6J("ngIf",!t.selectedTile&&!t.headerTileSelected||"mobile"!==t.deviceType),e.xp6(1),e.Q6J("ngIf",t.headerTileSelected&&"mobile"===t.deviceType)}}function Xe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",16)(2,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goBackToMobileView())}),e._uU(3),e.qZA()()()}2&n&&(e.Q6J("@slideInBottomToTop",void 0),e.xp6(3),e.hij(" ","Back to Mobile view"," "))}let et=(()=>{class n{constructor(t,i,o){this.dataCarrier=t,this.supabaseService=i,this.toastService=o,this.isTileSelected=!1,this.isMobileView=!1,this.onScreenToggle=new e.vpe,this.onAddTile=new e.vpe,this.onHeaderEditClick=new e.vpe,this.onPublished=new e.vpe,this.closeDesktopInMobileView=new e.vpe,this.headerTileSelected=!1,this.isDesktopInMobile=!1,this.unsubscribe$=new T.x}ngOnInit(){this.defaultOptions=[{icon:"publish",label:"Publish",action:"publish"},{icon:"add",label:"Add",action:"add"},{icon:"themes",label:"Themes",action:"themes"}],this.deviceToggleOptions=[{icon:"desktop",type:"desktop",title:"Desktop View",isActive:!0},{icon:"mobile",type:"mobile",title:"Mobile View",isActive:!1}],this.tileSizeOptions=[{label:"1x1",w:1,h:1},{label:"1x2",w:1,h:2},{label:"2x1",w:2,h:1},{label:"2x2",w:2,h:2}],this.tileSelectedOptions=[{icon:"delete",label:"Delete",action:"delete"},{icon:"edit",label:"Edit",action:"edit"}]}ngOnChanges(){"mobile"===this.deviceType&&this.setSelectedTileObserver()}setSelectedTileObserver(){this.dataCarrier.getSelectedTileOptions().pipe((0,S.R)(this.unsubscribe$)).subscribe(t=>{this.selectedTile=t,this.setGridBottomPadding(),t&&this.setSelectedTileDetails()})}setSelectedTileDetails(){this.activeTileSize=this.selectedTile.w+"x"+this.selectedTile.h/this.tileWidth}setGridBottomPadding(){this.selectedTile&&"group_title"!==this.selectedTile.type?document.documentElement.style.setProperty("--page-padding-bottom-phone","68px"):document.documentElement.style.setProperty("--page-padding-bottom-phone","0px")}onDeviceToggle(t){this.deviceToggleOptions.forEach(i=>{i.isActive=!1}),t.isActive=!0,this.onScreenToggle.emit(t.type)}onTileResize(t){if(this.activeTileSize!==t.label){this.activeTileSize=t.label;let i=4,o={};"mobile"===this.selectedView&&(i=2),o.id=this.selectedTile.id,o.w=t.w,o.h=t.h*this.tileWidth,o.x=this.selectedTile.x,o.y=this.selectedTile.y,("2x1"===t.label||"2x2"===t.label)&&this.selectedTile.x>=i-1&&(o.x=this.selectedTile.x-1),this.dataCarrier.setTileResizeOptions(o)}}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}onTileSelectedOptionClick(t){switch(t.action){case"delete":this.deleteTile();break;case"edit":this.editTile();break;case"hide":this.hideTile()}}deleteTile(){this.dataCarrier.setDeleteTileEvent(this.selectedTile)}editTile(){this.dataCarrier.setEditTileEvent(this.selectedTile)}hideTile(){}onOptionsClick(t){switch(t.action){case"publish":this.publish();break;case"add":this.addNewTile();break;case"themes":this.openThemes()}}publish(){this.supabaseService.publish().catch(t=>{this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(t=>{if(t&&t.error)this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}});else{this.onPublished.emit();const i={message:"Tiles Published",show:!0,bottom:"110px",action:"open-link",actionLabel:"Open Link"};"mobile"===this.deviceType?i.bottom="98px":"tablet"===this.deviceType&&(i.bottom="102px"),this.dataCarrier.setSnackBarData(i)}})}addNewTile(){this.onAddTile.emit("add")}openThemes(){this.onAddTile.emit("themes")}onHeaderEdit(){this.onHeaderEditClick.emit()}goBackToMobileView(){this.closeDesktopInMobileView.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.H),e.Y36(A.T),e.Y36(w.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bottom-bar"]],inputs:{deviceType:"deviceType",tileWidth:"tileWidth",selectedView:"selectedView",headerTileSelected:"headerTileSelected",isDesktopInMobile:"isDesktopInMobile"},outputs:{onScreenToggle:"onScreenToggle",onAddTile:"onAddTile",onHeaderEditClick:"onHeaderEditClick",onPublished:"onPublished",closeDesktopInMobileView:"closeDesktopInMobileView"},features:[e.TTD],decls:2,vars:2,consts:[["class","bottom-bar-wrapper",4,"ngIf"],[1,"bottom-bar-wrapper"],["class","tile-size-options-wrapper click-in",4,"ngIf"],["class","bottom-horizontal-seperator click-in",4,"ngIf"],["class","bottom-bar bottom-tile-action-bar click-in",4,"ngIf"],["class","bottom-bar bottom-default-bar",4,"ngIf"],["class","bottom-bar bottom-tile-action-bar",4,"ngIf"],[1,"tile-size-options-wrapper","click-in"],["class","tile-size-option click-in",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"tile-size-option","click-in",3,"ngClass","title","click"],[1,"bottom-horizontal-seperator","click-in"],[1,"bottom-bar","bottom-tile-action-bar","click-in"],["class","bottom-options click-in",3,"title","click",4,"ngFor","ngForOf"],[1,"bottom-options","click-in",3,"title","click"],[1,"bottom-option-icon","click-in",3,"svgType"],[1,"bottom-option-label","click-in"],[1,"bottom-bar","bottom-default-bar"],["class","bottom-options",3,"title","click",4,"ngFor","ngForOf"],[1,"bottom-seperator"],[1,"bottom-device-toggle-wrapper"],["class","bottom-toggle",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"bottom-options",3,"title","click"],[1,"bottom-option-label"],[1,"bottom-toggle",3,"ngClass","title","click"],[3,"svgType"],[1,"bottom-bar","bottom-tile-action-bar"],["title","Edit",1,"bottom-options","click-in",3,"click"],["svgType","edit",1,"bottom-option-icon","click-in"],[1,"bottom-options","desktop-in-mobile-option",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,$e,6,6,"div",0),e.YNc(1,Xe,4,2,"div",0)),2&t&&(e.Q6J("ngIf",!i.isDesktopInMobile),e.xp6(1),e.Q6J("ngIf",i.isDesktopInMobile))},dependencies:[u.mk,u.sg,u.O5,N.H],styles:[".bottom-bar-wrapper{padding:16px;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.15);box-shadow:0 4px 8px #10101040;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;margin-bottom:24px;color:#f9f9f9;overflow:hidden}  .bottom-bar-wrapper .bottom-bar{display:flex;flex-direction:row;column-gap:16px;align-items:center}  .bottom-bar-wrapper .bottom-bar .bottom-options{display:flex;flex-direction:row;column-gap:8px;flex:1;background:rgba(255,255,255,.15);border-radius:8px;padding:7px 12px 7px 8px;align-items:center;justify-content:center;font-weight:500;cursor:pointer}  .bottom-bar-wrapper .bottom-bar .bottom-options .bottom-option-icon svg{width:24px;height:24px}  .bottom-bar-wrapper .bottom-bar .bottom-options .bottom-option-label{font-size:18px;line-height:22px;-webkit-user-select:none;-o-user-select:none;user-select:none}@media (hover: hover){  .bottom-bar-wrapper .bottom-bar .bottom-options:hover{background:rgba(255,255,255,.3)}}  .bottom-bar-wrapper .bottom-bar .bottom-options.desktop-in-mobile-option{padding:10px 16px;font-size:22px}  .bottom-bar-wrapper .bottom-bar .bottom-seperator{height:38px;border-left:1px solid rgba(255,255,255,.15)}  .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper{display:flex;flex-direction:row;column-gap:4px;border:1px solid rgba(255,255,255,.15);border-radius:8px;padding:4px}  .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper .bottom-toggle{border-radius:4px;padding:3px;display:grid;place-content:center;cursor:pointer}  .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper .bottom-toggle svg{width:24px;height:24px}  .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper .bottom-toggle.active,   .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper .bottom-toggle.active:hover{background:rgba(255,255,255,.15)}@media (hover: hover){  .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper .bottom-toggle:hover{background:rgba(255,255,255,.05)}}  .bottom-bar-wrapper .tile-size-options-wrapper{display:flex;flex-direction:row;gap:8px}  .bottom-bar-wrapper .tile-size-options-wrapper .tile-size-option{display:flex;justify-content:center;align-items:center;flex-grow:1;padding:7px 8px;border:1px solid rgba(255,255,255,.2);border-radius:8px;font-size:14px;line-height:17px;font-weight:500;cursor:pointer}  .bottom-bar-wrapper .tile-size-options-wrapper .tile-size-option.active{color:#1c1b1f;background-color:#fff}  .bottom-bar-wrapper .bottom-horizontal-seperator{display:block;width:100%;border-top:1px solid rgba(255,255,255,.1);margin:16px 0}@media (max-width: 1279px){  .bottom-bar-wrapper{margin-bottom:16px}  .bottom-bar-wrapper .bottom-bar{column-gap:8px}  .bottom-bar-wrapper .bottom-bar .bottom-seperator,   .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper{display:none}  .bottom-bar-wrapper .bottom-bar .bottom-options{column-gap:4px}  .bottom-bar-wrapper .bottom-bar .bottom-options .bottom-option-icon svg{width:22px;height:22px}  .bottom-bar-wrapper .bottom-bar .bottom-options .bottom-option-label{font-size:14px;line-height:17px}}@media (min-width: 1024px){  .bottom-bar-wrapper .bottom-bar .bottom-seperator,   .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper{display:flex}}@media (max-width: 767.9px){  .bottom-bar-wrapper{padding:16px 16px 24px;column-gap:8px;border:0;border-top:1px solid rgba(255,255,255,.15);box-shadow:0 2px 8px #10101026;border-radius:24px 24px 0 0;max-width:430px;margin:0 auto}  .bottom-bar-wrapper .bottom-bar .bottom-seperator,   .bottom-bar-wrapper .bottom-bar .bottom-device-toggle-wrapper{display:none}}"],data:{animation:[L.MN]}}),n})();const tt=function(n){return{active:n}};function it(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onTileResize(a))}),e._uU(1),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(2,tt,i.activeTileSize===t.label)),e.xp6(1),e.hij(" ",t.label," ")}}const nt=function(n){return{"desktop-in-mobile":n}};function ot(n,r){if(1&n&&(e.TgZ(0,"div",5),e.YNc(1,it,2,4,"div",6),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,nt,t.isDesktopInMobile)),e.xp6(1),e.Q6J("ngForOf",t.tileSizeOptions)}}function at(n,r){1&n&&e._UZ(0,"div",8)}function rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.onTileSelectedOptionClick(a))}),e._UZ(1,"app-svg",12),e.TgZ(2,"div",13),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("svgType",t.icon),e.xp6(2),e.Oqu(t.label)}}function st(n,r){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,rt,4,2,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.tileSelectedOptions)}}function lt(n,r){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,ot,2,4,"div",2),e.YNc(2,at,1,0,"div",3),e.YNc(3,st,2,1,"div",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selectedTile&&"group_title"!==t.selectedTile.type),e.xp6(1),e.Q6J("ngIf",t.selectedTile&&"group_title"!==t.selectedTile.type&&!t.isDesktopInMobile),e.xp6(1),e.Q6J("ngIf",t.selectedTile&&!t.isDesktopInMobile)}}let dt=(()=>{class n{constructor(t){this.dataCarrier=t,this.isTileSelected=!1,this.isMobileView=!1,this.onScreenToggle=new e.vpe,this.isDesktopInMobile=!1,this.unsubscribe$=new T.x}ngOnInit(){this.tileSizeOptions=[{label:"1x1",w:1,h:1},{label:"1x2",w:1,h:2},{label:"2x1",w:2,h:1},{label:"2x2",w:2,h:2}],this.tileSelectedOptions=[{icon:"delete",label:"Delete",action:"delete"},{icon:"edit",label:"Edit",action:"edit"}],this.setSelectedTileObserver()}setSelectedTileObserver(){this.dataCarrier.getSelectedTileOptions().pipe((0,S.R)(this.unsubscribe$)).subscribe(t=>{this.selectedTile=t,this.setGridBottomPadding(),t&&this.setSelectedTileDetails()})}setSelectedTileDetails(){this.activeTileSize=this.selectedTile.w+"x"+this.selectedTile.h/this.tileWidth}setGridBottomPadding(){this.selectedTile?this.isDesktopInMobile?document.documentElement.style.setProperty("--page-padding-bottom-desktop","210px"):document.documentElement.style.setProperty("--page-padding-bottom-desktop","120px"):document.documentElement.style.setProperty("--page-padding-bottom-desktop","0px")}onDeviceToggle(t){this.deviceToggleOptions.forEach(i=>{i.isActive=!1}),t.isActive=!0,this.onScreenToggle.emit(t.type)}onTileResize(t){if(this.activeTileSize!==t.label){this.activeTileSize=t.label;let i=4,o={};"mobile"===this.selectedView&&(i=2),o.id=this.selectedTile.id,o.w=t.w,o.h=t.h*this.tileWidth,o.x=this.selectedTile.x,o.y=this.selectedTile.y,("2x1"===t.label||"2x2"===t.label)&&this.selectedTile.x>=i-1&&(o.x=this.selectedTile.x-1),this.dataCarrier.setTileResizeOptions(o)}}ngOnDestroy(){this.unsubscribe$.next(!0),this.unsubscribe$.complete()}onTileSelectedOptionClick(t){switch(t.action){case"delete":this.deleteTile();break;case"edit":this.editTile();break;case"hide":this.hideTile()}}deleteTile(){this.dataCarrier.setDeleteTileEvent(this.selectedTile)}editTile(){this.dataCarrier.setEditTileEvent(this.selectedTile)}hideTile(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["floating-bar"]],inputs:{deviceType:"deviceType",tileWidth:"tileWidth",selectedView:"selectedView",isDesktopInMobile:"isDesktopInMobile"},outputs:{onScreenToggle:"onScreenToggle"},decls:1,vars:1,consts:[["class","floating-bar-wrapper click-in",4,"ngIf"],[1,"floating-bar-wrapper","click-in"],["class","tile-size-options-wrapper click-in",3,"ngClass",4,"ngIf"],["class","bottom-horizontal-seperator click-in",4,"ngIf"],["class","bottom-bar bottom-tile-action-bar click-in",4,"ngIf"],[1,"tile-size-options-wrapper","click-in",3,"ngClass"],["class","tile-size-option click-in",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tile-size-option","click-in",3,"ngClass","click"],[1,"bottom-horizontal-seperator","click-in"],[1,"bottom-bar","bottom-tile-action-bar","click-in"],["class","bottom-options click-in",3,"click",4,"ngFor","ngForOf"],[1,"bottom-options","click-in",3,"click"],[1,"bottom-option-icon","click-in",3,"svgType"],[1,"bottom-option-label","click-in"]],template:function(t,i){1&t&&e.YNc(0,lt,4,3,"div",0),2&t&&e.Q6J("ngIf",i.selectedTile)},dependencies:[u.mk,u.sg,u.O5,N.H],styles:[".floating-bar-wrapper{padding:16px;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.06);box-shadow:0 4px 8px #10101040;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;margin-bottom:24px;color:#f9f9f9}  .floating-bar-wrapper .bottom-bar{display:flex;flex-direction:row;column-gap:16px;align-items:center}  .floating-bar-wrapper .bottom-bar .bottom-options{display:flex;flex-direction:row;column-gap:8px;flex:1;background:rgba(255,255,255,.15);border-radius:8px;padding:7px 12px 7px 8px;align-items:center;justify-content:center;cursor:pointer;font-weight:500}  .floating-bar-wrapper .bottom-bar .bottom-options .bottom-option-icon svg{width:22px;height:22px}  .floating-bar-wrapper .bottom-bar .bottom-options .bottom-option-label{font-size:14px;line-height:17px}  .floating-bar-wrapper .bottom-bar .bottom-options:hover{background:rgba(255,255,255,.3)}  .floating-bar-wrapper .tile-size-options-wrapper{display:flex;flex-direction:row;gap:8px}  .floating-bar-wrapper .tile-size-options-wrapper .tile-size-option{display:flex;justify-content:center;align-items:center;flex-grow:1;padding:7px 8px;border:1px solid rgba(255,255,255,.2);border-radius:8px;font-size:14px;line-height:17px;font-weight:500;cursor:pointer}  .floating-bar-wrapper .tile-size-options-wrapper .tile-size-option.active{color:#1c1b1f;background-color:#fff}  .floating-bar-wrapper .tile-size-options-wrapper.desktop-in-mobile{width:140px;flex-wrap:wrap}  .floating-bar-wrapper .tile-size-options-wrapper.desktop-in-mobile.tile-size-option{font-size:18px;padding:12px 15px}  .floating-bar-wrapper .bottom-horizontal-seperator{display:block;width:100%;border-top:1px solid rgba(255,255,255,.1);margin:16px 0}@media (max-width: 1279px){  .floating-bar-wrapper{margin-bottom:16px}  .floating-bar-wrapper .bottom-bar{column-gap:8px}  .floating-bar-wrapper .bottom-bar .bottom-options{column-gap:4px}}@media (max-width: 767.9px){  .floating-bar-wrapper{padding:16px 16px 32px;column-gap:8px;border:0;border-top:1px solid rgba(255,255,255,.06);box-shadow:0 2px 8px #10101026;border-radius:24px 24px 0 0;margin-bottom:0}}"]}),n})();var ct=v(3299);let Ce=(()=>{class n{constructor(){this.options={path:"/assets/json/animation_3.json",loop:!0}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["page-loader"]],decls:1,vars:1,consts:[[3,"options"]],template:function(t,i){1&t&&e._UZ(0,"ng-lottie",0),2&t&&e.Q6J("options",i.options)},dependencies:[ct.e$]}),n})();var pt=v(5165),F=(()=>{return(n=F||(F={}))[n.Up=1]="Up",n[n.Down=3]="Down",n[n.Right=6]="Right",n[n.Left=8]="Left",n[n.UpMirrored=2]="UpMirrored",n[n.DownMirrored=4]="DownMirrored",n[n.LeftMirrored=5]="LeftMirrored",n[n.RightMirrored=7]="RightMirrored",n[n.Default=0]="Default",n[n.NotJpeg=-1]="NotJpeg",n[n.NotDefined=-2]="NotDefined",F;var n})();class P{}P.getOrientation=n=>new Promise((r,t)=>{try{const i=new FileReader;i.onload=()=>{const o=new DataView(i.result);if(!o.byteLength||65496!==o.getUint16(0,!1))return r(F.NotDefined);const a=o.byteLength;let s=2;for(;s<a;){const l=o.getUint16(s,!1);if(s+=2,65505===l){if(1165519206!==o.getUint32(s+=2,!1))return r(F.NotJpeg);const d=18761===o.getUint16(s+=6,!1);s+=o.getUint32(s+4,d);const p=o.getUint16(s,d);s+=2;for(let c=0;c<p;c++)if(274===o.getUint16(s+12*c,d))return r(o.getUint16(s+12*c+8,d))}else{if(65280!=(65280&l))break;s+=o.getUint16(s,!1)}}return r(F.NotJpeg)},i.readAsArrayBuffer(n)}catch{return t(F.Default)}}),P.uploadFile=(n,r=!0,t=!1)=>new Promise(function(i,o){const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=/iPad|iPhone|iPod/i.test(navigator.userAgent);Promise.resolve(a||s).then(l=>l?P.generateUploadInputNative(window.document,r,t):P.generateUploadInputRenderer(n,r,t)).then(l=>{const d=l?Array.from(l):[],p=d.map(x=>P.getOrientation(x)),c=d.map(x=>P.fileToDataURL(x));let g=[];Promise.all(p).then(x=>(g=x,Promise.all(c))).then(x=>{const C=x.map((Z,J)=>({image:Z.dataUrl,orientation:g[J],fileName:Z.fileName}));i(r?C:C[0])})}).catch(l=>o(l))}),P.fileToDataURL=n=>new Promise((r,t)=>{const i=new FileReader;i.onload=o=>{r({dataUrl:o.target.result,fileName:n.name})};try{i.readAsDataURL(n)}catch(o){t(`ngx-image-compress - probably no file have been selected: ${o}`)}}),P.generateUploadInputRenderer=(n,r=!0,t=!1)=>{let i=!1;return new Promise((o,a)=>{const s=n.createElement("input");n.setStyle(s,"display","none"),n.setProperty(s,"type","file"),n.setProperty(s,"accept","image/*"),r&&n.setProperty(s,"multiple","true"),n.listen(s,"click",l=>{l.target.value=""}),n.listen(s,"change",l=>{i=!0,o(l.target.files)}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{i||a(new Error("file upload on blur - no file selected"))},300)},{once:!0}),s.click()})},P.generateUploadInputNative=(n,r=!0,t=!1)=>{let i=!1;return new Promise((o,a)=>{const s=n.createElement("input");s.id="upload-input"+new Date,s.style.display="none",s.setAttribute("type","file"),s.setAttribute("accept","image/*"),r&&s.setAttribute("multiple","true"),n.body.appendChild(s),s.addEventListener("change",()=>{i=!0,o(s.files),n.body.removeChild(n.getElementById(s.id))},{once:!0}),t&&window.addEventListener("focus",()=>{setTimeout(()=>{!i&&n.getElementById(s.id)&&(a(new Error("file upload on blur - no file selected")),n.body.removeChild(n.getElementById(s.id)))},300)},{once:!0}),s.click()})},P.compress=(n,r,t,i=50,o=50,a=0,s=0)=>new Promise(function(l,d){o/=100,i/=100;const p=new Image;p.onload=()=>{const c=t.createElement("canvas"),g=c.getContext("2d");if(!g)return d("No canvas context available");let x=p.naturalWidth,C=p.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(r===F.Right||r===F.Left)){const G=x;x=C,C=G}i=Math.min(i,a?a/x:1,s?s/C:1),c.width=x*i,c.height=C*i;const k=Math.PI/180;CSS.supports("image-orientation","from-image")||r===F.Up?g.drawImage(p,0,0,c.width,c.height):r===F.Right?(g.save(),g.rotate(90*k),g.translate(0,-c.width),g.drawImage(p,0,0,c.height,c.width),g.restore()):r===F.Left?(g.save(),g.rotate(-90*k),g.translate(-c.width,0),g.drawImage(p,0,0,c.height,c.width),g.restore()):r===F.Down?(g.save(),g.rotate(180*k),g.translate(-c.width,-c.height),g.drawImage(p,0,0,c.width,c.height),g.restore()):g.drawImage(p,0,0,c.width,c.height);const M=n.substr(5,n.split(";")[0].length-5),U=c.toDataURL(M,o);l(U)},p.onerror=c=>d(c),p.src=n}),P.byteCount=n=>encodeURI(n).split(/%..|./).length-1,P.getImageMaxSize=function(){var n=(0,m.Z)(function*(r,t,i,o=!1){const s=p=>(p/1024/1024).toFixed(2);t&&console.debug("NgxImageCompress - Opening upload window");let d,l=yield P.uploadFile(i,!1,o);for(let p=0;p<10;p++){const c=P.byteCount(l.image);d=yield P.compress(l.image,l.orientation,i,50,100);const g=P.byteCount(d);if(console.debug("NgxImageCompress -","Compression from",s(c),"MB to",s(g),"MB"),g>=c)throw 0===p?(t&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",s(c),"MB large"),l.image):(t&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",s(c),"MB large"),l.image);if(g<1024*r*1024)return t&&console.debug("NgxImageCompress -","Here your file",s(g),"MB large"),d;if(9===p)throw t&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",s(c),"MB large"),l.image;t&&console.debug("NgxImageCompress -","Reached",s(g),"MB large. Trying another time after",p+1,"times"),l.image=d}throw t&&console.debug("NgxImageCompress - Unexpected error"),""});return function(r,t,i){return n.apply(this,arguments)}}();let ut=(()=>{class n{constructor(t){this.DOC_ORIENTATION=F,this.render=t.createRenderer(null,null)}byteCount(t){return P.byteCount(t)}getOrientation(t){return P.getOrientation(t)}uploadFile(){return P.uploadFile(this.render,!1)}uploadMultipleFiles(){return P.uploadFile(this.render,!0)}uploadFileOrReject(){return P.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return P.uploadFile(this.render,!0,!0)}compressFile(t,i,o=50,a=50,s=0,l=0){return P.compress(t,i,this.render,o,a,s,l)}uploadAndGetImageWithMaxSize(t=1,i=!1,o=!1){return P.getImageMaxSize(t,i,this.render,o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),re=(()=>{class n{constructor(t){this.imageCompress=t}compressImage(t,i){var o=this;const a=new Promise((l,d)=>{if(t.size/1e3>200){const p=new FileReader;p.onload=function(){var c=(0,m.Z)(function*(g){const x=g.target.result,C=yield o.imageCompress.compressFile(x,0),Z=yield o.convertToBlob(C);l(Z)});return function(g){return c.apply(this,arguments)}}(),p.readAsDataURL(t)}else l(t)}),s=new Promise((l,d)=>{pt.compressAccurately(t,{size:i,width:3e3}).then(p=>{const c=new File([p],t.name);l(c)}).catch(p=>{l(t)})});return Promise.all([a,s]).then(l=>{const[d,p]=l;return d.size<p.size?d:p})}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ut))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=v(433),V=v(605);function ht(n,r){1&n&&e._UZ(0,"app-loader",8)}let Se=(()=>{class n{constructor(t,i){this.supabaseService=t,this.toastService=i,this.link="",this.label="Link",this.placeholder="Paste any Link",this.onLinkPreview=new e.vpe,this.linkForm=new h.cw({link:new h.NI("",h.kI.compose([h.kI.required]))})}ngOnInit(){this.linkForm.get("link").setValue(this.link)}onContinue(){this.loading=!0,this.linkForm.get("link")?.disable(),this.link=this.linkForm.value.link,/^https?:\/\//i.test(this.link)||(this.link="http://"+this.link),this.getLinkPreview(this.link)}getLinkPreview(t){this.supabaseService.linkPreview(t).catch(i=>{this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}}),this.loading=!1,this.linkForm.get("link")?.enable()}).then(i=>{i&&i.error?(this.toastService.addToast({message:"Please paste a valid url",type:"error",additionalData:{error:new Error("Something went wrong")}}),this.loading=!1,this.linkForm.get("link")?.enable()):this.onLinkPreview.emit({linkThumbnailUrl:i.data.images&&i.data.images.length?i.data.images[0]:"",favIconUrl:i.data.favicons&&i.data.favicons.length?i.data.favicons[0]:"",title:i.data.title?i.data.title:i.data.url,url:i.data.url,enableButton:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-link-input"]],inputs:{link:"link",label:"label",placeholder:"placeholder"},outputs:{onLinkPreview:"onLinkPreview"},decls:10,vars:6,consts:[[1,"add-tile-inner-wrapper",3,"formGroup","submit"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","email"],["type","text","formControlName","link",1,"text-body",3,"placeholder"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],[1,"button-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.onContinue()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.qZA()()(),e.TgZ(7,"button",6),e.YNc(8,ht,1,0,"app-loader",7),e._uU(9),e.qZA()()),2&t&&(e.Q6J("formGroup",i.linkForm),e.xp6(4),e.hij(" ",i.label," "),e.xp6(2),e.Q6J("placeholder",i.placeholder),e.xp6(1),e.Q6J("disabled",!i.linkForm.valid||i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.hij(" ",i.loading?"":"Continue"," "))},dependencies:[u.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,V.R]}),n})();function gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-link-input",2),e.NdJ("onLinkPreview",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onLinkPreview(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("link",t.url)}}function ft(n,r){1&n&&e._UZ(0,"app-loader",42)}function _t(n,r){if(1&n&&e._UZ(0,"img",43),2&n){const t=e.oxw(3);e.Q6J("src",t.linkThumbnailUrl,e.LSH)}}function bt(n,r){1&n&&e._UZ(0,"app-svg",44)}function vt(n,r){1&n&&e._UZ(0,"app-svg",45)}const me=function(n){return{selected:n}},De=function(n){return{"loader-active":n}};function wt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onImageSelection("default"))}),e.TgZ(1,"div",17)(2,"div",18),e.YNc(3,ft,1,0,"app-loader",19),e.YNc(4,_t,1,1,"img",40),e.qZA(),e.TgZ(5,"div",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",41),e.YNc(8,bt,1,0,"app-svg",31),e.YNc(9,vt,1,0,"app-svg",32),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,me,"default"===t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,De,0!==t.imageLoading)),e.xp6(1),e.Q6J("ngIf",0!==t.imageLoading),e.xp6(1),e.Q6J("ngIf",0===t.imageLoading),e.xp6(2),e.hij(" ","Image from link"," "),e.xp6(2),e.Q6J("ngIf","default"===t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType)}}function xt(n,r){1&n&&e._UZ(0,"app-loader",42)}function Tt(n,r){1&n&&(e.TgZ(0,"label",46),e._UZ(1,"app-svg",47),e.qZA())}function yt(n,r){if(1&n&&e._UZ(0,"img",48),2&n){const t=e.oxw(2);e.Q6J("src",t.uploadedImageUrl,e.LSH)}}function It(n,r){1&n&&e._UZ(0,"app-svg",44)}function Ct(n,r){1&n&&e._UZ(0,"app-svg",45)}function St(n,r){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,It,1,0,"app-svg",31),e.YNc(2,Ct,1,0,"app-svg",32),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"===t.selectedImageType)}}function At(n,r){1&n&&e._UZ(0,"app-svg",44)}function kt(n,r){1&n&&e._UZ(0,"app-svg",45)}function Ot(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFavIconVisbility(!0))}),e.TgZ(1,"div",29)(2,"div",30),e.YNc(3,At,1,0,"app-svg",31),e.YNc(4,kt,1,0,"app-svg",32),e.qZA(),e.TgZ(5,"div",33),e._uU(6),e.qZA()(),e.TgZ(7,"div",34),e._UZ(8,"img",49),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(5,me,t.showIcon)),e.xp6(3),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngIf",!t.showIcon),e.xp6(2),e.Oqu("Show Icon"),e.xp6(2),e.Q6J("src",t.favIconUrl,e.LSH)}}function Dt(n,r){1&n&&e._UZ(0,"app-svg",44)}function Et(n,r){1&n&&e._UZ(0,"app-svg",45)}function Pt(n,r){1&n&&e._UZ(0,"app-loader",50)}function Lt(n,r){1&n&&e._UZ(0,"app-svg",51)}function Mt(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}function Nt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e._uU(4),e.qZA(),e.TgZ(5,"div",7)(6,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.url=o)}),e.qZA(),e.TgZ(7,"div",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editLink())}),e._UZ(8,"app-svg",10),e.TgZ(9,"div",11),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",5)(12,"div",6),e._uU(13),e.qZA(),e.TgZ(14,"div",12)(15,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.title=o)}),e.qZA()()(),e.TgZ(16,"div",14)(17,"div",6),e._uU(18),e.qZA(),e.YNc(19,wt,10,11,"div",15),e.TgZ(20,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onImageSelection("custom"))}),e.TgZ(21,"div",17)(22,"div",18),e.YNc(23,xt,1,0,"app-loader",19),e.TgZ(24,"input",20),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectFile(o))}),e.qZA(),e.YNc(25,Tt,2,0,"label",21),e.YNc(26,yt,1,1,"img",22),e.qZA(),e.TgZ(27,"div",23),e._uU(28),e.qZA()(),e.YNc(29,St,3,2,"div",24),e.qZA()(),e.TgZ(30,"div",25)(31,"div",6),e._uU(32),e.qZA(),e.TgZ(33,"div",26),e.YNc(34,Ot,9,7,"div",27),e.TgZ(35,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFavIconVisbility(!1))}),e.TgZ(36,"div",29)(37,"div",30),e.YNc(38,Dt,1,0,"app-svg",31),e.YNc(39,Et,1,0,"app-svg",32),e.qZA(),e.TgZ(40,"div",33),e._uU(41),e.qZA()(),e.TgZ(42,"div",34),e._UZ(43,"div",35),e.qZA()()()()(),e.TgZ(44,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addTile())}),e.YNc(45,Pt,1,0,"app-loader",37),e.YNc(46,Lt,1,0,"app-svg",38),e.YNc(47,Mt,2,1,"span",39),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ","Link"," "),e.xp6(2),e.Q6J("ngModel",t.url),e.xp6(4),e.Oqu("Edit"),e.xp6(3),e.hij(" ","Title"," "),e.xp6(2),e.Q6J("ngModel",t.title),e.xp6(3),e.hij(" ","Thumbnail image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(1),e.Q6J("ngClass",e.VKq(24,me,"default"!==t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(26,De,t.uploadedImageLoading)),e.xp6(1),e.Q6J("ngIf",t.uploadedImageLoading),e.xp6(2),e.Q6J("ngIf",!t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.uploadedImageUrl&&!t.uploadedImageLoading),e.xp6(2),e.hij(" ","Upload custom image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(3),e.hij(" ","Icon"," "),e.xp6(2),e.Q6J("ngIf",t.favIconUrl),e.xp6(1),e.Q6J("ngClass",e.VKq(28,me,!t.showIcon)),e.xp6(3),e.Q6J("ngIf",!t.showIcon),e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(2),e.Oqu("Hide Icon"),e.xp6(3),e.Q6J("disabled",!t.enableButton||t.loading||t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.editTileData&&!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}let Zt=(()=>{class n{constructor(t,i,o,a){this.supabaseService=t,this.toastService=i,this.dataCarrier=o,this.imageCompressionService=a,this.selectedImageType="default",this.imageLoading=0,this.enableButton=!1,this.loading=0,this.imageChanged=!1,this.showIcon=!0,this.uploadedImageLoading=!1}ngOnInit(){this.prefillData(),this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0}prefillData(){this.editTileData&&(this.url=this.editTileData.url,this.tileId=this.editTileData.id)}onImageSelection(t){this.selectedImageType=t,this.enableButton=!("custom"===this.selectedImageType&&!this.uploadedImageUrl)}selectFile(t){var i=this;t.target.files&&t.target.files.item(0)&&(this.uploadedImageLoading=!0,this.uploadedImage=t.target.files.item(0),this.imageCompressionService.compressImage(this.uploadedImage,250).then(a=>{this.uploadedImage=a;const s=new FileReader;s.onload=function(){var l=(0,m.Z)(function*(d){i.uploadedImageUrl=d.target.result,i.imageChanged=!0,i.enableButton=!0,i.uploadedImageLoading=!1});return function(d){return l.apply(this,arguments)}}(),s.readAsDataURL(this.uploadedImage)}).catch(a=>{this.uploadedImageLoading=!1,console.log(a),this.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}addTile(){this.downloadImage()}downloadImage(){var t=this;return(0,m.Z)(function*(){if(t.tileId||(t.tileId=t.userDetails.username+"_link_"+(new Date).valueOf()),"default"===t.selectedImageType){const i=t.linkThumbnailUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i;if(t.loading++,t.showIcon){const a=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),s=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+a;Promise.all([t.supabaseService.downloadImage(t.linkThumbnailUrl),t.supabaseService.downloadImage(t.favIconUrl)]).then(l=>{const d=new FormData,p=t.setImageContentType(i),c=new Blob([l[0].data],{type:"image/"+p});d.append("file",c,o);const g=new FormData,x=t.setImageContentType(a),C=new Blob([l[1].data],{type:"image/"+x});g.append("file",C,s),t.uploadImage([{name:s,file:g},{name:o,file:d}])}).catch(l=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.supabaseService.downloadImage(t.linkThumbnailUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else if(!t.editTileData||t.editTileData&&t.imageChanged){const i=t.uploadedImage.type.replace(/(.*)\//g,""),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i,a=new FormData;if(a.append("file",t.uploadedImage,o),t.loading++,t.showIcon){const s=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),l=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+s;t.supabaseService.downloadImage(t.favIconUrl).then(d=>{const p=new FormData,c=t.setImageContentType(s),g=new Blob([d.data],{type:"image/"+c});p.append("file",g,l),t.uploadImage([{name:l,file:p},{name:o,file:a}])}).catch(d=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.uploadImage([{name:o,file:a}])}else if(t.showIcon){const i=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+i;t.loading++,t.supabaseService.downloadImage(t.favIconUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}})()}setImageContentType(t){let i=t;return"svg"===t?i="svg+xml":"ico"===t&&(i="x-icon"),i}uploadImage(t){var i=this;return(0,m.Z)(function*(){let o=[];t.forEach(a=>{o.push(i.supabaseService.uploadImage(i.userDetails.username+"/"+a.name,a.file))}),i.loading++,Promise.all(o).then(a=>{if(a.length>1){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl,l=i.supabaseService.getImageUrl(a[1].data.path).data.publicUrl;i.insertTileData(s,l)}else if(i.showIcon){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,i.uploadedImageUrl)}else{const s="",l=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,l)}}).catch(a=>{i.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{i.loading--})})()}insertTileData(t,i){this.loading++;const o={favicon_url:t,image_url:i,url:this.url,tile_id:this.tileId,title:this.title,type:"link_tile",is_custom_image:"custom"===this.selectedImageType,og_image_url:this.linkThumbnailUrl,og_favicon_url:this.favIconUrl};this.editTileData?this.dataCarrier.setUpdateTileEvent(o):this.dataCarrier.setAddTileEvent(o)}onLinkPreview(t){t&&(this.linkPreviewData=t,this.url=this.linkPreviewData.url,this.linkThumbnailUrl=this.linkPreviewData.linkThumbnailUrl,this.favIconUrl=this.linkPreviewData.favIconUrl,this.checkImageUrlValidity(),this.title=this.linkPreviewData.title,this.selectedImageType=this.linkThumbnailUrl&&this.linkThumbnailUrl.length?"default":"custom",this.enableButton=!(!this.linkThumbnailUrl||!this.linkThumbnailUrl.length)),this.editTileData&&(this.selectedImageType=this.editTileData.is_custom_image?"custom":"default",this.showIcon=!(!this.editTileData.favicon_url||!this.editTileData.favicon_url.length),"custom"===this.selectedImageType&&(this.uploadedImageUrl=this.editTileData.image_url,this.enableButton=!0))}checkImageUrlValidity(){const t=new Image;t.onerror=()=>{this.linkThumbnailUrl="",this.enableButton=!!this.uploadedImageUrl,this.selectedImageType="custom"},t.src=this.linkThumbnailUrl;const i=new Image;i.onerror=()=>{this.favIconUrl="",this.showIcon=!1},i.src=this.favIconUrl}editLink(){this.linkPreviewData=void 0}toggleFavIconVisbility(t){this.showIcon=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(y.H),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-link"]],inputs:{editTileData:"editTileData"},decls:2,vars:2,consts:[["label","Link","placeholder","Paste any link",3,"link","onLinkPreview",4,"ngIf"],["class","add-tile-inner-wrapper",4,"ngIf"],["label","Link","placeholder","Paste any link",3,"link","onLinkPreview"],[1,"add-tile-inner-wrapper"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","disabled-input"],["type","text","readonly","","disabled","",1,"text-body","pr-82",3,"ngModel","ngModelChange"],[1,"input-icon-wrapper","ab",3,"click"],["svgType","edit"],[1,"input-icon-label"],[1,"input-box"],["type","text",1,"text-body",3,"ngModel","ngModelChange"],[1,"thumbnail-input-wrapper"],["class","image-selection-wrapper",3,"ngClass","click",4,"ngIf"],[1,"image-selection-wrapper",3,"ngClass","click"],[1,"image-selection-left"],[1,"image-preview",3,"ngClass"],["class","image-loader",4,"ngIf"],["hidden","","type","file","id","img","name","img","accept","image/*",3,"change"],["for","img","class","cursor image-upload-icon",4,"ngIf"],[3,"src",4,"ngIf"],[1,"image-label","text-body"],["class","image-selection-right",4,"ngIf"],[1,"favicon-input-wrapper"],[1,"favicon-selection-wrapper"],["class","favicon-selection",3,"ngClass","click",4,"ngIf"],[1,"favicon-selection",3,"ngClass","click"],[1,"favicon-selection-top"],[1,"favicon-checkbox"],["svgType","checkbox-selected",4,"ngIf"],["svgType","checkbox-default",4,"ngIf"],[1,"favicon-selection-text","text-body"],[1,"favicon-selection-preview"],[1,"favicon"],["type","submit",1,"primary-button","text-body",3,"disabled","click"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],["id","image",3,"src",4,"ngIf"],[1,"image-selection-right"],[1,"image-loader"],["id","image",3,"src"],["svgType","checkbox-selected"],["svgType","checkbox-default"],["for","img",1,"cursor","image-upload-icon"],["svgType","browse-image-round"],[3,"src"],[1,"favicon",3,"src"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.YNc(0,gt,1,1,"app-link-input",0),e.YNc(1,Nt,48,30,"div",1)),2&t&&(e.Q6J("ngIf",!i.linkPreviewData),e.xp6(1),e.Q6J("ngIf",i.linkPreviewData))},dependencies:[u.mk,u.O5,h.Fj,h.JJ,h.On,N.H,V.R,Se]}),n})();const Ut=[{name:"Afghanistan",dial_code:"+93",code:"AF",emoji:"\u{1f1e6}\u{1f1eb}"},{name:"Aland Islands",dial_code:"+358",code:"AX",emoji:"\u{1f1e6}\u{1f1fd}"},{name:"Albania",dial_code:"+355",code:"AL",emoji:"\u{1f1e6}\u{1f1f1}"},{name:"Algeria",dial_code:"+213",code:"DZ",emoji:"\u{1f1e9}\u{1f1ff}"},{name:"American Samoa",dial_code:"+1684",code:"AS",emoji:"\u{1f1e6}\u{1f1f8}"},{name:"Andorra",dial_code:"+376",code:"AD",emoji:"\u{1f1e6}\u{1f1e9}"},{name:"Angola",dial_code:"+244",code:"AO",emoji:"\u{1f1e6}\u{1f1f4}"},{name:"Anguilla",dial_code:"+1264",code:"AI",emoji:"\u{1f1e6}\u{1f1ee}"},{name:"Antarctica",dial_code:"+672",code:"AQ",emoji:"\u{1f1e6}\u{1f1f6}"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",emoji:"\u{1f1e6}\u{1f1ec}"},{name:"Argentina",dial_code:"+54",code:"AR",emoji:"\u{1f1e6}\u{1f1f7}"},{name:"Armenia",dial_code:"+374",code:"AM",emoji:"\u{1f1e6}\u{1f1f2}"},{name:"Aruba",dial_code:"+297",code:"AW",emoji:"\u{1f1e6}\u{1f1fc}"},{name:"Australia",dial_code:"+61",code:"AU",emoji:"\u{1f1e6}\u{1f1fa}"},{name:"Austria",dial_code:"+43",code:"AT",emoji:"\u{1f1e6}\u{1f1f9}"},{name:"Azerbaijan",dial_code:"+994",code:"AZ",emoji:"\u{1f1e6}\u{1f1ff}"},{name:"Bahamas",dial_code:"+1242",code:"BS",emoji:"\u{1f1e7}\u{1f1f8}"},{name:"Bahrain",dial_code:"+973",code:"BH",emoji:"\u{1f1e7}\u{1f1ed}"},{name:"Bangladesh",dial_code:"+880",code:"BD",emoji:"\u{1f1e7}\u{1f1e9}"},{name:"Barbados",dial_code:"+1246",code:"BB",emoji:"\u{1f1e7}\u{1f1e7}"},{name:"Belarus",dial_code:"+375",code:"BY",emoji:"\u{1f1e7}\u{1f1fe}"},{name:"Belgium",dial_code:"+32",code:"BE",emoji:"\u{1f1e7}\u{1f1ea}"},{name:"Belize",dial_code:"+501",code:"BZ",emoji:"\u{1f1e7}\u{1f1ff}"},{name:"Benin",dial_code:"+229",code:"BJ",emoji:"\u{1f1e7}\u{1f1ef}"},{name:"Bermuda",dial_code:"+1441",code:"BM",emoji:"\u{1f1e7}\u{1f1f2}"},{name:"Bhutan",dial_code:"+975",code:"BT",emoji:"\u{1f1e7}\u{1f1f9}"},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO",emoji:"\u{1f1e7}\u{1f1f4}"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",emoji:"\u{1f1e7}\u{1f1e6}"},{name:"Botswana",dial_code:"+267",code:"BW",emoji:"\u{1f1e7}\u{1f1fc}"},{name:"Brazil",dial_code:"+55",code:"BR",emoji:"\u{1f1e7}\u{1f1f7}"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",emoji:"\u{1f1ee}\u{1f1f4}"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN",emoji:"\u{1f1e7}\u{1f1f3}"},{name:"Bulgaria",dial_code:"+359",code:"BG",emoji:"\u{1f1e7}\u{1f1ec}"},{name:"Burkina Faso",dial_code:"+226",code:"BF",emoji:"\u{1f1e7}\u{1f1eb}"},{name:"Burundi",dial_code:"+257",code:"BI",emoji:"\u{1f1e7}\u{1f1ee}"},{name:"Cambodia",dial_code:"+855",code:"KH",emoji:"\u{1f1f0}\u{1f1ed}"},{name:"Cameroon",dial_code:"+237",code:"CM",emoji:"\u{1f1e8}\u{1f1f2}"},{name:"Canada",dial_code:"+1",code:"CA",emoji:"\u{1f1e8}\u{1f1e6}"},{name:"Cape Verde",dial_code:"+238",code:"CV",emoji:"\u{1f1e8}\u{1f1fb}"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY",emoji:"\u{1f1f0}\u{1f1fe}"},{name:"Central African Republic",dial_code:"+236",code:"CF",emoji:"\u{1f1e8}\u{1f1eb}"},{name:"Chad",dial_code:"+235",code:"TD",emoji:"\u{1f1f9}\u{1f1e9}"},{name:"Chile",dial_code:"+56",code:"CL",emoji:"\u{1f1e8}\u{1f1f1}"},{name:"China",dial_code:"+86",code:"CN",emoji:"\u{1f1e8}\u{1f1f3}"},{name:"Christmas Island",dial_code:"+61",code:"CX",emoji:"\u{1f1e8}\u{1f1fd}"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",emoji:"\u{1f1e8}\u{1f1e8}"},{name:"Colombia",dial_code:"+57",code:"CO",emoji:"\u{1f1e8}\u{1f1f4}"},{name:"Comoros",dial_code:"+269",code:"KM",emoji:"\u{1f1f0}\u{1f1f2}"},{name:"Congo",dial_code:"+242",code:"CG",emoji:"\u{1f1e8}\u{1f1ec}"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD",emoji:"\u{1f1e8}\u{1f1e9}"},{name:"Cook Islands",dial_code:"+682",code:"CK",emoji:"\u{1f1e8}\u{1f1f0}"},{name:"Costa Rica",dial_code:"+506",code:"CR",emoji:"\u{1f1e8}\u{1f1f7}"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",emoji:"\u{1f1e8}\u{1f1ee}"},{name:"Croatia",dial_code:"+385",code:"HR",emoji:"\u{1f1ed}\u{1f1f7}"},{name:"Cuba",dial_code:"+53",code:"CU",emoji:"\u{1f1e8}\u{1f1fa}"},{name:"Cyprus",dial_code:"+357",code:"CY",emoji:"\u{1f1e8}\u{1f1fe}"},{name:"Czech Republic",dial_code:"+420",code:"CZ",emoji:"\u{1f1e8}\u{1f1ff}"},{name:"Denmark",dial_code:"+45",code:"DK",emoji:"\u{1f1e9}\u{1f1f0}"},{name:"Djibouti",dial_code:"+253",code:"DJ",emoji:"\u{1f1e9}\u{1f1ef}"},{name:"Dominica",dial_code:"+1767",code:"DM",emoji:"\u{1f1e9}\u{1f1f2}"},{name:"Dominican Republic",dial_code:"+1849",code:"DO",emoji:"\u{1f1e9}\u{1f1f4}"},{name:"Ecuador",dial_code:"+593",code:"EC",emoji:"\u{1f1ea}\u{1f1e8}"},{name:"Egypt",dial_code:"+20",code:"EG",emoji:"\u{1f1ea}\u{1f1ec}"},{name:"El Salvador",dial_code:"+503",code:"SV",emoji:"\u{1f1f8}\u{1f1fb}"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",emoji:"\u{1f1ec}\u{1f1f6}"},{name:"Eritrea",dial_code:"+291",code:"ER",emoji:"\u{1f1ea}\u{1f1f7}"},{name:"Estonia",dial_code:"+372",code:"EE",emoji:"\u{1f1ea}\u{1f1ea}"},{name:"Ethiopia",dial_code:"+251",code:"ET",emoji:"\u{1f1ea}\u{1f1f9}"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",emoji:"\u{1f1eb}\u{1f1f0}"},{name:"Faroe Islands",dial_code:"+298",code:"FO",emoji:"\u{1f1eb}\u{1f1f4}"},{name:"Fiji",dial_code:"+679",code:"FJ",emoji:"\u{1f1eb}\u{1f1ef}"},{name:"Finland",dial_code:"+358",code:"FI",emoji:"\u{1f1eb}\u{1f1ee}"},{name:"France",dial_code:"+33",code:"FR",emoji:"\u{1f1eb}\u{1f1f7}"},{name:"French Guiana",dial_code:"+594",code:"GF",emoji:"\u{1f1ec}\u{1f1eb}"},{name:"French Polynesia",dial_code:"+689",code:"PF",emoji:"\u{1f1f5}\u{1f1eb}"},{name:"Gabon",dial_code:"+241",code:"GA",emoji:"\u{1f1ec}\u{1f1e6}"},{name:"Gambia",dial_code:"+220",code:"GM",emoji:"\u{1f1ec}\u{1f1f2}"},{name:"Georgia",dial_code:"+995",code:"GE",emoji:"\u{1f1ec}\u{1f1ea}"},{name:"Germany",dial_code:"+49",code:"DE",emoji:"\u{1f1e9}\u{1f1ea}"},{name:"Ghana",dial_code:"+233",code:"GH",emoji:"\u{1f1ec}\u{1f1ed}"},{name:"Gibraltar",dial_code:"+350",code:"GI",emoji:"\u{1f1ec}\u{1f1ee}"},{name:"Greece",dial_code:"+30",code:"GR",emoji:"\u{1f1ec}\u{1f1f7}"},{name:"Greenland",dial_code:"+299",code:"GL",emoji:"\u{1f1ec}\u{1f1f1}"},{name:"Grenada",dial_code:"+1473",code:"GD",emoji:"\u{1f1ec}\u{1f1e9}"},{name:"Guadeloupe",dial_code:"+590",code:"GP",emoji:"\u{1f1ec}\u{1f1f5}"},{name:"Guam",dial_code:"+1671",code:"GU",emoji:"\u{1f1ec}\u{1f1fa}"},{name:"Guatemala",dial_code:"+502",code:"GT",emoji:"\u{1f1ec}\u{1f1f9}"},{name:"Guernsey",dial_code:"+44",code:"GG",emoji:"\u{1f1ec}\u{1f1ec}"},{name:"Guinea",dial_code:"+224",code:"GN",emoji:"\u{1f1ec}\u{1f1f3}"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW",emoji:"\u{1f1ec}\u{1f1fc}"},{name:"Guyana",dial_code:"+595",code:"GY",emoji:"\u{1f1ec}\u{1f1fe}"},{name:"Haiti",dial_code:"+509",code:"HT",emoji:"\u{1f1ed}\u{1f1f9}"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA",emoji:"\u{1f1fb}\u{1f1e6}"},{name:"Honduras",dial_code:"+504",code:"HN",emoji:"\u{1f1ed}\u{1f1f3}"},{name:"Hong Kong",dial_code:"+852",code:"HK",emoji:"\u{1f1ed}\u{1f1f0}"},{name:"Hungary",dial_code:"+36",code:"HU",emoji:"\u{1f1ed}\u{1f1fa}"},{name:"Iceland",dial_code:"+354",code:"IS",emoji:"\u{1f1ee}\u{1f1f8}"},{name:"India",dial_code:"+91",code:"IN",emoji:"\u{1f1ee}\u{1f1f3}"},{name:"Indonesia",dial_code:"+62",code:"ID",emoji:"\u{1f1ee}\u{1f1e9}"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR",emoji:"\u{1f1ee}\u{1f1f7}"},{name:"Iraq",dial_code:"+964",code:"IQ",emoji:"\u{1f1ee}\u{1f1f6}"},{name:"Ireland",dial_code:"+353",code:"IE",emoji:"\u{1f1ee}\u{1f1ea}"},{name:"Isle of Man",dial_code:"+44",code:"IM",emoji:"\u{1f1ee}\u{1f1f2}"},{name:"Israel",dial_code:"+972",code:"IL",emoji:"\u{1f1ee}\u{1f1f1}"},{name:"Italy",dial_code:"+39",code:"IT",emoji:"\u{1f1ee}\u{1f1f9}"},{name:"Jamaica",dial_code:"+1876",code:"JM",emoji:"\u{1f1ef}\u{1f1f2}"},{name:"Japan",dial_code:"+81",code:"JP",emoji:"\u{1f5fe}"},{name:"Jersey",dial_code:"+44",code:"JE",emoji:"\u{1f1ef}\u{1f1ea}"},{name:"Jordan",dial_code:"+962",code:"JO",emoji:"\u{1f1ef}\u{1f1f4}"},{name:"Kazakhstan",dial_code:"+77",code:"KZ",emoji:"\u{1f1f0}\u{1f1ff}"},{name:"Kenya",dial_code:"+254",code:"KE",emoji:"\u{1f1f0}\u{1f1ea}"},{name:"Kiribati",dial_code:"+686",code:"KI",emoji:"\u{1f1f0}\u{1f1ee}"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP",emoji:"\u{1f1f0}\u{1f1f5}"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR",emoji:"\u{1f1f0}\u{1f1f7}"},{name:"Kuwait",dial_code:"+965",code:"KW",emoji:"\u{1f1f0}\u{1f1fc}"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG",emoji:"\u{1f1f0}\u{1f1ec}"},{name:"Laos",dial_code:"+856",code:"LA",emoji:"\u{1f1f1}\u{1f1e6}"},{name:"Latvia",dial_code:"+371",code:"LV",emoji:"\u{1f1f1}\u{1f1fb}"},{name:"Lebanon",dial_code:"+961",code:"LB",emoji:"\u{1f1f1}\u{1f1e7}"},{name:"Lesotho",dial_code:"+266",code:"LS",emoji:"\u{1f1f1}\u{1f1f8}"},{name:"Liberia",dial_code:"+231",code:"LR",emoji:"\u{1f1f1}\u{1f1f7}"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",emoji:"\u{1f1f1}\u{1f1fe}"},{name:"Liechtenstein",dial_code:"+423",code:"LI",emoji:"\u{1f1f1}\u{1f1ee}"},{name:"Lithuania",dial_code:"+370",code:"LT",emoji:"\u{1f1f1}\u{1f1f9}"},{name:"Luxembourg",dial_code:"+352",code:"LU",emoji:"\u{1f1f1}\u{1f1fa}"},{name:"Macao",dial_code:"+853",code:"MO",emoji:"\u{1f1f2}\u{1f1f4}"},{name:"Macedonia",dial_code:"+389",code:"MK",emoji:"\u{1f1f2}\u{1f1f0}"},{name:"Madagascar",dial_code:"+261",code:"MG",emoji:"\u{1f1f2}\u{1f1ec}"},{name:"Malawi",dial_code:"+265",code:"MW",emoji:"\u{1f1f2}\u{1f1fc}"},{name:"Malaysia",dial_code:"+60",code:"MY",emoji:"\u{1f1f2}\u{1f1fe}"},{name:"Maldives",dial_code:"+960",code:"MV",emoji:"\u{1f1f2}\u{1f1fb}"},{name:"Mali",dial_code:"+223",code:"ML",emoji:"\u{1f1f2}\u{1f1f1}"},{name:"Malta",dial_code:"+356",code:"MT",emoji:"\u{1f1f2}\u{1f1f9}"},{name:"Marshall Islands",dial_code:"+692",code:"MH",emoji:"\u{1f1f2}\u{1f1ed}"},{name:"Martinique",dial_code:"+596",code:"MQ",emoji:"\u{1f1f2}\u{1f1f6}"},{name:"Mauritania",dial_code:"+222",code:"MR",emoji:"\u{1f1f2}\u{1f1f7}"},{name:"Mauritius",dial_code:"+230",code:"MU",emoji:"\u{1f1f2}\u{1f1fa}"},{name:"Mayotte",dial_code:"+262",code:"YT",emoji:"\u{1f1fe}\u{1f1f9}"},{name:"Mexico",dial_code:"+52",code:"MX",emoji:"\u{1f1f2}\u{1f1fd}"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM",emoji:"\u{1f1eb}\u{1f1f2}"},{name:"Moldova",dial_code:"+373",code:"MD",emoji:"\u{1f1f2}\u{1f1e9}"},{name:"Monaco",dial_code:"+377",code:"MC",emoji:"\u{1f1f2}\u{1f1e8}"},{name:"Mongolia",dial_code:"+976",code:"MN",emoji:"\u{1f1f2}\u{1f1f3}"},{name:"Montenegro",dial_code:"+382",code:"ME",emoji:"\u{1f1f2}\u{1f1ea}"},{name:"Montserrat",dial_code:"+1664",code:"MS",emoji:"\u{1f1f2}\u{1f1f8}"},{name:"Morocco",dial_code:"+212",code:"MA",emoji:"\u{1f1f2}\u{1f1e6}"},{name:"Mozambique",dial_code:"+258",code:"MZ",emoji:"\u{1f1f2}\u{1f1ff}"},{name:"Myanmar",dial_code:"+95",code:"MM",emoji:"\u{1f1f2}\u{1f1f2}"},{name:"Namibia",dial_code:"+264",code:"NA",emoji:"\u{1f1f3}\u{1f1e6}"},{name:"Nauru",dial_code:"+674",code:"NR",emoji:"\u{1f1f3}\u{1f1f7}"},{name:"Nepal",dial_code:"+977",code:"NP",emoji:"\u{1f1f3}\u{1f1f5}"},{name:"Netherlands",dial_code:"+31",code:"NL",emoji:"\u{1f1f3}\u{1f1f1}"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN",emoji:"\u{1f1f3}\u{1f1f1}"},{name:"New Caledonia",dial_code:"+687",code:"NC",emoji:"\u{1f1f3}\u{1f1e8}"},{name:"New Zealand",dial_code:"+64",code:"NZ",emoji:"\u{1f1f3}\u{1f1ff}"},{name:"Nicaragua",dial_code:"+505",code:"NI",emoji:"\u{1f1f3}\u{1f1ee}"},{name:"Niger",dial_code:"+227",code:"NE",emoji:"\u{1f1f3}\u{1f1ea}"},{name:"Nigeria",dial_code:"+234",code:"NG",emoji:"\u{1f1f3}\u{1f1ec}"},{name:"Niue",dial_code:"+683",code:"NU",emoji:"\u{1f1f3}\u{1f1fa}"},{name:"Norfolk Island",dial_code:"+672",code:"NF",emoji:"\u{1f1f3}\u{1f1eb}"},{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP",emoji:"\u{1f1f2}\u{1f1f5}"},{name:"Norway",dial_code:"+47",code:"NO",emoji:"\u{1f1f3}\u{1f1f4}"},{name:"Oman",dial_code:"+968",code:"OM",emoji:"\u{1f1f4}\u{1f1f2}"},{name:"Pakistan",dial_code:"+92",code:"PK",emoji:"\u{1f1f5}\u{1f1f0}"},{name:"Palau",dial_code:"+680",code:"PW",emoji:"\u{1f1f5}\u{1f1fc}"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",emoji:"\u{1f1f5}\u{1f1f8}"},{name:"Panama",dial_code:"+507",code:"PA",emoji:"\u{1f1f5}\u{1f1e6}"},{name:"Papua New Guinea",dial_code:"+675",code:"PG",emoji:"\u{1f1f5}\u{1f1ec}"},{name:"Paraguay",dial_code:"+595",code:"PY",emoji:"\u{1f1f5}\u{1f1fe}"},{name:"Peru",dial_code:"+51",code:"PE",emoji:"\u{1f1f5}\u{1f1ea}"},{name:"Philippines",dial_code:"+63",code:"PH",emoji:"\u{1f1f5}\u{1f1ed}"},{name:"Pitcairn",dial_code:"+872",code:"PN",emoji:"\u{1f1f5}\u{1f1f3}"},{name:"Poland",dial_code:"+48",code:"PL",emoji:"\u{1f1f5}\u{1f1f1}"},{name:"Portugal",dial_code:"+351",code:"PT",emoji:"\u{1f1f5}\u{1f1f9}"},{name:"Puerto Rico",dial_code:"+1939",code:"PR",emoji:"\u{1f1f5}\u{1f1f7}"},{name:"Qatar",dial_code:"+974",code:"QA",emoji:"\u{1f1f6}\u{1f1e6}"},{name:"Romania",dial_code:"+40",code:"RO",emoji:"\u{1f1f7}\u{1f1f4}"},{name:"Russia",dial_code:"+7",code:"RU",emoji:"\u{1f1f7}\u{1f1fa}"},{name:"Rwanda",dial_code:"+250",code:"RW",emoji:"\u{1f1f7}\u{1f1fc}"},{name:"Reunion",dial_code:"+262",code:"RE",emoji:"\u{1f1f7}\u{1f1ea}"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL",emoji:"\u{1f1e7}\u{1f1f1}"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH",emoji:"\u{1f1f8}\u{1f1ed}"},{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN",emoji:"\u{1f1f0}\u{1f1f3}"},{name:"Saint Lucia",dial_code:"+1758",code:"LC",emoji:"\u{1f1f1}\u{1f1e8}"},{name:"Saint Martin",dial_code:"+590",code:"MF",emoji:"\u{1f1eb}\u{1f1f7}"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",emoji:"\u{1f1f5}\u{1f1f2}"},{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC",emoji:"\u{1f1fb}\u{1f1e8}"},{name:"Samoa",dial_code:"+685",code:"WS",emoji:"\u{1f1fc}\u{1f1f8}"},{name:"San Marino",dial_code:"+378",code:"SM",emoji:"\u{1f1f8}\u{1f1f2}"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",emoji:"\u{1f1f8}\u{1f1f9}"},{name:"Saudi Arabia",dial_code:"+966",code:"SA",emoji:"\u{1f1f8}\u{1f1e6}"},{name:"Senegal",dial_code:"+221",code:"SN",emoji:"\u{1f1f8}\u{1f1f3}"},{name:"Serbia",dial_code:"+381",code:"RS",emoji:"\u{1f1f7}\u{1f1f8}"},{name:"Seychelles",dial_code:"+248",code:"SC",emoji:"\u{1f1f8}\u{1f1e8}"},{name:"Sierra Leone",dial_code:"+232",code:"SL",emoji:"\u{1f1f8}\u{1f1f1}"},{name:"Singapore",dial_code:"+65",code:"SG",emoji:"\u{1f1f8}\u{1f1ec}"},{name:"Slovakia",dial_code:"+421",code:"SK",emoji:"\u{1f1f8}\u{1f1f0}"},{name:"Slovenia",dial_code:"+386",code:"SI",emoji:"\u{1f1f8}\u{1f1ee}"},{name:"Solomon Islands",dial_code:"+677",code:"SB",emoji:"\u{1f1f8}\u{1f1e7}"},{name:"Somalia",dial_code:"+252",code:"SO",emoji:"\u{1f1f8}\u{1f1f4}"},{name:"South Africa",dial_code:"+27",code:"ZA",emoji:"\u{1f1ff}\u{1f1e6}"},{name:"South Sudan",dial_code:"+211",code:"SS",emoji:"\u{1f1f8}\u{1f1f8}"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS",emoji:"\u{1f1ec}\u{1f1f8}"},{name:"Spain",dial_code:"+34",code:"ES",emoji:"\u{1f1ea}\u{1f1f8}"},{name:"Sri Lanka",dial_code:"+94",code:"LK",emoji:"\u{1f1f1}\u{1f1f0}"},{name:"Sudan",dial_code:"+249",code:"SD",emoji:"\u{1f1f8}\u{1f1e9}"},{name:"Suriname",dial_code:"+597",code:"SR",emoji:"\u{1f1f8}\u{1f1f7}"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ",emoji:"\u{1f1f3}\u{1f1f4}"},{name:"Swaziland",dial_code:"+268",code:"SZ",emoji:"\u{1f1f8}\u{1f1ff}"},{name:"Sweden",dial_code:"+46",code:"SE",emoji:"\u{1f1f8}\u{1f1ea}"},{name:"Switzerland",dial_code:"+41",code:"CH",emoji:"\u{1f1e8}\u{1f1ed}"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",emoji:"\u{1f1f8}\u{1f1fe}"},{name:"Taiwan",dial_code:"+886",code:"TW",emoji:"\u{1f1f9}\u{1f1fc}"},{name:"Tajikistan",dial_code:"+992",code:"TJ",emoji:"\u{1f1f9}\u{1f1ef}"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ",emoji:"\u{1f1f9}\u{1f1ff}"},{name:"Thailand",dial_code:"+66",code:"TH",emoji:"\u{1f1f9}\u{1f1ed}"},{name:"Timor-Leste",dial_code:"+670",code:"TL",emoji:"\u{1f1f9}\u{1f1f1}"},{name:"Togo",dial_code:"+228",code:"TG",emoji:"\u{1f1f9}\u{1f1ec}"},{name:"Tokelau",dial_code:"+690",code:"TK",emoji:"\u{1f1f9}\u{1f1f0}"},{name:"Tonga",dial_code:"+676",code:"TO",emoji:"\u{1f1f9}\u{1f1f4}"},{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT",emoji:"\u{1f1f9}\u{1f1f9}"},{name:"Tunisia",dial_code:"+216",code:"TN",emoji:"\u{1f1f9}\u{1f1f3}"},{name:"Turkey",dial_code:"+90",code:"TR",emoji:"\u{1f1f9}\u{1f1f7}"},{name:"Turkmenistan",dial_code:"+993",code:"TM",emoji:"\u{1f1f9}\u{1f1f2}"},{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC",emoji:"\u{1f1f9}\u{1f1e8}"},{name:"Tuvalu",dial_code:"+688",code:"TV",emoji:"\u{1f1f9}\u{1f1fb}"},{name:"Uganda",dial_code:"+256",code:"UG",emoji:"\u{1f1fa}\u{1f1ec}"},{name:"Ukraine",dial_code:"+380",code:"UA",emoji:"\u{1f1fa}\u{1f1e6}"},{name:"United Arab Emirates",dial_code:"+971",code:"AE",emoji:"\u{1f1e6}\u{1f1ea}"},{name:"United Kingdom",dial_code:"+44",code:"UK",emoji:"\u{1f1ec}\u{1f1e7}"},{name:"United States",dial_code:"+1",code:"US",emoji:"\u{1f1fa}\u{1f1f8}"},{name:"Uruguay",dial_code:"+598",code:"UY",emoji:"\u{1f1fa}\u{1f1fe}"},{name:"Uzbekistan",dial_code:"+998",code:"UZ",emoji:"\u{1f1fa}\u{1f1ff}"},{name:"Vanuatu",dial_code:"+678",code:"VU",emoji:"\u{1f1fb}\u{1f1fa}"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE",emoji:"\u{1f1fb}\u{1f1ea}"},{name:"Vietnam",dial_code:"+84",code:"VN",emoji:"\u{1f1fb}\u{1f1f3}"},{name:"Virgin Islands, British",dial_code:"+1284",code:"VG",emoji:"\u{1f1fb}\u{1f1ec}"},{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI",emoji:"\u{1f1fb}\u{1f1ee}"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF",emoji:"\u{1f1fc}\u{1f1eb}"},{name:"Yemen",dial_code:"+967",code:"YE",emoji:"\u{1f1fe}\u{1f1ea}"},{name:"Zambia",dial_code:"+260",code:"ZM",emoji:"\u{1f1ff}\u{1f1f2}"},{name:"Zimbabwe",dial_code:"+263",code:"ZW",emoji:"\u{1f1ff}\u{1f1fc}"}];class O{static equals(r,t,i){return i?this.resolveFieldData(r,i)===this.resolveFieldData(t,i):this.equalsByValue(r,t)}static equalsByValue(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){var a,s,l,i=Array.isArray(r),o=Array.isArray(t);if(i&&o){if((s=r.length)!=t.length)return!1;for(a=s;0!=a--;)if(!this.equalsByValue(r[a],t[a]))return!1;return!0}if(i!=o)return!1;var d=r instanceof Date,p=t instanceof Date;if(d!=p)return!1;if(d&&p)return r.getTime()==t.getTime();var c=r instanceof RegExp,g=t instanceof RegExp;if(c!=g)return!1;if(c&&g)return r.toString()==t.toString();var x=Object.keys(r);if((s=x.length)!==Object.keys(t).length)return!1;for(a=s;0!=a--;)if(!Object.prototype.hasOwnProperty.call(t,x[a]))return!1;for(a=s;0!=a--;)if(!this.equalsByValue(r[l=x[a]],t[l]))return!1;return!0}return r!=r&&t!=t}static resolveFieldData(r,t){if(r&&t){if(this.isFunction(t))return t(r);if(-1==t.indexOf("."))return r[t];{let i=t.split("."),o=r;for(let a=0,s=i.length;a<s;++a){if(null==o)return null;o=o[i[a]]}return o}}return null}static isFunction(r){return!!(r&&r.constructor&&r.call&&r.apply)}static reorderArray(r,t,i){r&&t!==i&&(i>=r.length&&(i%=r.length,t%=r.length),r.splice(i,0,r.splice(t,1)[0]))}static insertIntoOrderedArray(r,t,i,o){if(i.length>0){let a=!1;for(let s=0;s<i.length;s++)if(this.findIndexInList(i[s],o)>t){i.splice(s,0,r),a=!0;break}a||i.push(r)}else i.push(r)}static findIndexInList(r,t){let i=-1;if(t)for(let o=0;o<t.length;o++)if(t[o]==r){i=o;break}return i}static contains(r,t){if(null!=r&&t&&t.length)for(let i of t)if(this.equals(r,i))return!0;return!1}static removeAccents(r){return r&&r.search(/[\xC0-\xFF]/g)>-1&&(r=r.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),r}static isEmpty(r){return null==r||""===r||Array.isArray(r)&&0===r.length||!(r instanceof Date)&&"object"==typeof r&&0===Object.keys(r).length}static isNotEmpty(r){return!this.isEmpty(r)}static compare(r,t,i,o=1){let a=-1;const s=this.isEmpty(r),l=this.isEmpty(t);return a=s&&l?0:s?o:l?-o:"string"==typeof r&&"string"==typeof t?r.localeCompare(t,i,{numeric:!0}):r<t?-1:r>t?1:0,a}static sort(r,t,i=1,o,a=1){return(1===a?i:a)*O.compare(r,t,o,i)}static merge(r,t){return null!=r&&"object"!=typeof r||null!=t&&"object"!=typeof t?null!=r&&"string"!=typeof r||null!=t&&"string"!=typeof t?t||r:[r||"",t||""].join(" "):{...r||{},...t||{}}}}var Ee=0,ee=function Ft(){let n=[];const o=a=>a&&parseInt(a.style.zIndex,10)||0;return{get:o,set:(a,s,l)=>{s&&(s.style.zIndex=String(((a,s)=>{let l=n.length>0?n[n.length-1]:{key:a,value:s},d=l.value+(l.key===a?0:s)+1;return n.push({key:a,value:d}),d})(a,l)))},clear:a=>{a&&((a=>{n=n.filter(s=>s.value!==a)})(o(a)),a.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();let z=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Rt=(()=>{class n{constructor(){this.filters={startsWith:(t,i,o)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let a=O.removeAccents(i.toString()).toLocaleLowerCase(o);return O.removeAccents(t.toString()).toLocaleLowerCase(o).slice(0,a.length)===a},contains:(t,i,o)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let a=O.removeAccents(i.toString()).toLocaleLowerCase(o);return-1!==O.removeAccents(t.toString()).toLocaleLowerCase(o).indexOf(a)},notContains:(t,i,o)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==t)return!1;let a=O.removeAccents(i.toString()).toLocaleLowerCase(o);return-1===O.removeAccents(t.toString()).toLocaleLowerCase(o).indexOf(a)},endsWith:(t,i,o)=>{if(null==i||""===i.trim())return!0;if(null==t)return!1;let a=O.removeAccents(i.toString()).toLocaleLowerCase(o),s=O.removeAccents(t.toString()).toLocaleLowerCase(o);return-1!==s.indexOf(a,s.length-a.length)},equals:(t,i,o)=>null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():O.removeAccents(t.toString()).toLocaleLowerCase(o)==O.removeAccents(i.toString()).toLocaleLowerCase(o)),notEquals:(t,i,o)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=t&&(t.getTime&&i.getTime?t.getTime()===i.getTime():O.removeAccents(t.toString()).toLocaleLowerCase(o)==O.removeAccents(i.toString()).toLocaleLowerCase(o))),in:(t,i)=>{if(null==i||0===i.length)return!0;for(let o=0;o<i.length;o++)if(O.equals(t,i[o]))return!0;return!1},between:(t,i)=>null==i||null==i[0]||null==i[1]||null!=t&&(t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1]),lt:(t,i,o)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<i.getTime():t<i),lte:(t,i,o)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i),gt:(t,i,o)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>i.getTime():t>i),gte:(t,i,o)=>null==i||null!=t&&(t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i),is:(t,i,o)=>this.filters.equals(t,i,o),isNot:(t,i,o)=>this.filters.notEquals(t,i,o),before:(t,i,o)=>this.filters.lt(t,i,o),after:(t,i,o)=>this.filters.gt(t,i,o),dateIs:(t,i)=>null==i||null!=t&&t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>null==i||null!=t&&t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>null==i||null!=t&&t.getTime()<i.getTime(),dateAfter:(t,i)=>null==i||null!=t&&t.getTime()>i.getTime()}}filter(t,i,o,a,s){let l=[];if(t)for(let d of t)for(let p of i){let c=O.resolveFieldData(d,p);if(this.filters[a](c,o,s)){l.push(d);break}}return l}register(t,i){this.filters[t]=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jt=(()=>{class n{constructor(){this.clickSource=new T.x,this.clickObservable=this.clickSource.asObservable()}add(t){t&&this.clickSource.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ue=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[z.STARTS_WITH,z.CONTAINS,z.NOT_CONTAINS,z.ENDS_WITH,z.EQUALS,z.NOT_EQUALS],numeric:[z.EQUALS,z.NOT_EQUALS,z.LESS_THAN,z.LESS_THAN_OR_EQUAL_TO,z.GREATER_THAN,z.GREATER_THAN_OR_EQUAL_TO],date:[z.DATE_IS,z.DATE_IS_NOT,z.DATE_BEFORE,z.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new T.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),he=(()=>{class n{constructor(t){this.template=t}getType(){return this.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})(),Pe=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),_=(()=>{class n{static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let o=i.trim().split(" ");for(let a=0;a<o.length;a++)t.classList.add(o[a])}else{let o=i.split(" ");for(let a=0;a<o.length;a++)t.className+=" "+o[a]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return t?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,o=0;for(var a=0;a<i.length;a++){if(i[a]==t)return o;1==i[a].nodeType&&o++}return-1}static indexWithinGroup(t,i){let o=t.parentNode?t.parentNode.childNodes:[],a=0;for(var s=0;s<o.length;s++){if(o[s]==t)return a;o[s].attributes&&o[s].attributes[i]&&1==o[s].nodeType&&a++}return-1}static appendOverlay(t,i,o="self"){"self"!==o&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,o="self",a=!0){t&&i&&(a&&(t.style.minWidth||(t.style.minWidth=n.getOuterWidth(i)+"px")),"self"===o?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i){const o=J=>{if(J)return"relative"===getComputedStyle(J).getPropertyValue("position")?J:o(J.parentElement)},a=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.offsetHeight,l=i.getBoundingClientRect(),d=this.getWindowScrollTop(),p=this.getWindowScrollLeft(),c=this.getViewport(),x=o(t)?.getBoundingClientRect()||{top:-1*d,left:-1*p};let C,Z;l.top+s+a.height>c.height?(C=l.top-x.top-a.height,t.style.transformOrigin="bottom",l.top+C<0&&(C=-1*l.top)):(C=s+l.top-x.top,t.style.transformOrigin="top"),Z=a.width>c.width?-1*(l.left-x.left):l.left-x.left+a.width>c.width?-1*(l.left-x.left+a.width-c.width):l.left-x.left,t.style.top=C+"px",t.style.left=Z+"px"}static absolutePosition(t,i){const o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=o.height,s=o.width,l=i.offsetHeight,d=i.offsetWidth,p=i.getBoundingClientRect(),c=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),x=this.getViewport();let C,Z;p.top+l+a>x.height?(C=p.top+c-a,t.style.transformOrigin="bottom",C<0&&(C=c)):(C=l+p.top+c,t.style.transformOrigin="top"),Z=p.left+s>x.width?Math.max(0,p.left+g+d-s):p.left+g,t.style.top=C+"px",t.style.left=Z+"px"}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let o=this.getParents(t);const a=/(auto|scroll)/,s=l=>{let d=window.getComputedStyle(l,null);return a.test(d.getPropertyValue("overflow"))||a.test(d.getPropertyValue("overflowX"))||a.test(d.getPropertyValue("overflowY"))};for(let l of o){let d=1===l.nodeType&&l.dataset.scrollselectors;if(d){let p=d.split(",");for(let c of p){let g=this.findSingle(l,c);g&&s(g)&&i.push(g)}}9!==l.nodeType&&s(l)&&i.push(l)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let o=getComputedStyle(t).getPropertyValue("borderTopWidth"),a=o?parseFloat(o):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),l=s?parseFloat(s):0,d=t.getBoundingClientRect(),c=i.getBoundingClientRect().top+document.body.scrollTop-(d.top+document.body.scrollTop)-a-l,g=t.scrollTop,x=t.clientHeight,C=this.getOuterHeight(i);c<0?t.scrollTop=g+c:c+C>x&&(t.scrollTop=g+c-x+C)}static fadeIn(t,i){t.style.opacity=0;let o=+new Date,a=0,s=function(){a=+t.style.opacity.replace(",",".")+((new Date).getTime()-o)/i,t.style.opacity=a,o=+new Date,+a<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,i){var o=1,l=50/i;let d=setInterval(()=>{(o-=l)<=0&&(o=0,clearInterval(d)),t.style.opacity=o},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var o=Element.prototype;return(o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(t,i)}static getOuterWidth(t,i){let o=t.offsetWidth;if(i){let a=getComputedStyle(t);o+=parseFloat(a.marginLeft)+parseFloat(a.marginRight)}return o}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,o=getComputedStyle(t);return i+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static width(t){let i=t.offsetWidth,o=getComputedStyle(t);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,o=getComputedStyle(t);return i+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),i}static getOuterHeight(t,i){let o=t.offsetHeight;if(i){let a=getComputedStyle(t);o+=parseFloat(a.marginTop)+parseFloat(a.marginBottom)}return o}static getHeight(t){let i=t.offsetHeight,o=getComputedStyle(t);return i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,o=getComputedStyle(t);return i-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),i}static getViewport(){let t=window,i=document,o=i.documentElement,a=i.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||a.clientWidth,height:t.innerHeight||o.clientHeight||a.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let o=t.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(i,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let o=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,o){t[i].apply(t,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableElements(t){let i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),o=[];for(let a of i)"none"!=getComputedStyle(a).display&&"hidden"!=getComputedStyle(a).visibility&&o.push(a);return o}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const o=typeof t;if("string"===o)return document.querySelector(t);if("object"===o&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const s=(l=t)&&l.constructor&&l.call&&l.apply?t():t;return s&&9===s.nodeType||this.isExist(s)?s:null}var l}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class Le{constructor(r,t=(()=>{})){this.element=r,this.listener=t}bindScrollListener(){this.scrollableParents=_.getScrollableParents(this.element);for(let r=0;r<this.scrollableParents.length;r++)this.scrollableParents[r].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let r=0;r<this.scrollableParents.length;r++)this.scrollableParents[r].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Bt=(()=>{class n{constructor(t){this.host=t,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const t=_.getFocusableElements(this.host.nativeElement);0===t.length&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),n})(),Vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})();var H=v(7340);const Ht=["overlay"],Gt=["content"];function jt(n,r){1&n&&e.GkF(0)}const Qt=function(n,r,t){return{showTransitionParams:n,hideTransitionParams:r,transform:t}},qt=function(n){return{value:"visible",params:n}},Yt=function(n){return{mode:n}},Wt=function(n){return{$implicit:n}};function Kt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1,3),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onOverlayContentAnimationDone(o))}),e.Hsn(2),e.YNc(3,jt,1,0,"ng-container",4),e.qZA()}if(2&n){const t=e.oxw(2);e.Tol(t.contentStyleClass),e.Q6J("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",e.VKq(11,qt,e.kEZ(7,Qt,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),e.xp6(3),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",e.VKq(15,Wt,e.VKq(13,Yt,t.overlayMode)))}}const $t=function(n,r,t,i,o,a,s,l,d,p,c,g,x,C){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":r,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":o,"p-overlay-bottom":a,"p-overlay-bottom-start":s,"p-overlay-bottom-end":l,"p-overlay-left":d,"p-overlay-left-start":p,"p-overlay-left-end":c,"p-overlay-right":g,"p-overlay-right-start":x,"p-overlay-right-end":C}};function Xt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onOverlayClick(o))}),e.YNc(2,Kt,4,17,"div",0),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.rFY(5,$t,[t.modal,t.modal&&"center"===t.overlayResponsiveDirection,t.modal&&"top"===t.overlayResponsiveDirection,t.modal&&"top-start"===t.overlayResponsiveDirection,t.modal&&"top-end"===t.overlayResponsiveDirection,t.modal&&"bottom"===t.overlayResponsiveDirection,t.modal&&"bottom-start"===t.overlayResponsiveDirection,t.modal&&"bottom-end"===t.overlayResponsiveDirection,t.modal&&"left"===t.overlayResponsiveDirection,t.modal&&"left-start"===t.overlayResponsiveDirection,t.modal&&"left-end"===t.overlayResponsiveDirection,t.modal&&"right"===t.overlayResponsiveDirection,t.modal&&"right-start"===t.overlayResponsiveDirection,t.modal&&"right-end"===t.overlayResponsiveDirection])),e.xp6(2),e.Q6J("ngIf",t.visible)}}const ei=["*"],ti={provide:h.JU,useExisting:(0,e.Gpc)(()=>Me),multi:!0},ii=(0,H.oQ)([(0,H.oB)({transform:"{{transform}}",opacity:0}),(0,H.jt)("{{showTransitionParams}}")]),ni=(0,H.oQ)([(0,H.jt)("{{hideTransitionParams}}",(0,H.oB)({transform:"{{transform}}",opacity:0}))]);let Me=(()=>{class n{constructor(t,i,o,a,s,l){this.document=t,this.el=i,this.renderer=o,this.config=a,this.overlayService=s,this.cd=l,this.visibleChange=new e.vpe,this.onBeforeShow=new e.vpe,this.onShow=new e.vpe,this.onBeforeHide=new e.vpe,this.onHide=new e.vpe,this.onAnimationStart=new e.vpe,this.onAnimationDone=new e.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return O.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return O.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return O.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return O.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){const t=this._target||this.overlayOptions?.target;return void 0===t?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){const t=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===t||t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){const t=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===t?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){const t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===t?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){const t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===t?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return _.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.contentTemplate=t.template})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&_.focus(this.targetEl),this.modal&&_.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&_.focus(this.targetEl),this.modal&&_.removeClass(this.document?.body,"p-overflow-hidden")}alignOverlay(){!this.modal&&_.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&ee.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),_.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&_.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){const i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),_.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),ee.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&this.config?.overlayOptions[t]&&this.config?.overlayOptions[t](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Le(this.targetEl,t=>{(!this.listener||this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{const o=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target))||this.isOverlayContentClicked);(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:3!==t.which&&o}):o)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen("window","resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!_.isTouchDevice()}):!_.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(_.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),ee.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.K0),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ue),e.Y36(Jt),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-overlay"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,he,4),2&t){let a;e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Ht,5),e.Gf(Gt,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.overlayViewChild=o.first),e.iGM(o=e.CRH())&&(i.contentViewChild=o.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[e._Bn([ti])],ngContentSelectors:ei,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Xt,3,20,"div",0)),2&t&&e.Q6J("ngIf",i.modalVisible)},dependencies:[u.mk,u.O5,u.tP,u.PC],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[(0,H.X$)("overlayContentAnimation",[(0,H.eR)(":enter",[(0,H._7)(ii)]),(0,H.eR)(":leave",[(0,H._7)(ni)])])]},changeDetection:0}),n})(),Ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,ge,ge]}),n})(),oi=(()=>{class n{constructor(t,i,o){this.el=t,this.zone=i,this.config=o}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(_.removeClass(i,"p-ink-active"),!_.getHeight(i)&&!_.getWidth(i)){let l=Math.max(_.getOuterWidth(this.el.nativeElement),_.getOuterHeight(this.el.nativeElement));i.style.height=l+"px",i.style.width=l+"px"}let o=_.getOffset(this.el.nativeElement),a=t.pageX-o.left+document.body.scrollTop-_.getWidth(i)/2,s=t.pageY-o.top+document.body.scrollLeft-_.getHeight(i)/2;i.style.top=s+"px",i.style.left=a+"px",_.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let l=this.getInk();l&&_.removeClass(l,"p-ink-active")},401)}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&_.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),_.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),_.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ue,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})();const ri=["element"],si=["content"];function li(n,r){1&n&&e.GkF(0)}const Ae=function(n,r){return{$implicit:n,options:r}};function di(n,r){if(1&n&&(e.ynx(0),e.YNc(1,li,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",e.WLB(2,Ae,t.loadedItems,t.getContentOptions()))}}function ci(n,r){1&n&&e.GkF(0)}function pi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ci,1,0,"ng-container",7),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.WLB(2,Ae,t,o.getOptions(i)))}}const mi=function(n){return{"p-scroller-loading":n}};function ui(n,r){if(1&n&&(e.TgZ(0,"div",8,9),e.YNc(2,pi,2,5,"ng-container",10),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,mi,t.d_loading))("ngStyle",t.contentStyle),e.xp6(2),e.Q6J("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function hi(n,r){if(1&n&&e._UZ(0,"div",11),2&n){const t=e.oxw(2);e.Q6J("ngStyle",t.spacerStyle)}}function gi(n,r){1&n&&e.GkF(0)}const fi=function(n){return{numCols:n}},Ze=function(n){return{options:n}};function _i(n,r){if(1&n&&(e.ynx(0),e.YNc(1,gi,1,0,"ng-container",7),e.BQk()),2&n){const t=r.index,i=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.VKq(4,Ze,i.getLoaderOptions(t,i.both&&e.VKq(2,fi,i._numItemsInViewport.cols))))}}function bi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_i,2,6,"ng-container",14),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.loaderArr)}}function vi(n,r){1&n&&e.GkF(0)}const wi=function(){return{styleClass:"p-scroller-loading-icon"}};function xi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,vi,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",e.VKq(3,Ze,e.DdM(2,wi)))}}function Ti(n,r){1&n&&e._UZ(0,"i",16)}function yi(n,r){if(1&n&&(e.YNc(0,xi,2,5,"ng-container",0),e.YNc(1,Ti,1,0,"ng-template",null,15,e.W1O)),2&n){const t=e.MAs(2),i=e.oxw(3);e.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}const Ii=function(n){return{"p-component-overlay":n}};function Ci(n,r){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,bi,2,1,"ng-container",0),e.YNc(2,yi,3,2,"ng-template",null,13,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2);e.Q6J("ngClass",e.VKq(3,Ii,!i.loaderTemplate)),e.xp6(1),e.Q6J("ngIf",i.loaderTemplate)("ngIfElse",t)}}const Si=function(n,r,t){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":r,"p-horizontal-scroll":t}};function Ai(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2,3),e.NdJ("scroll",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onContainerScroll(o))}),e.YNc(3,di,2,5,"ng-container",0),e.YNc(4,ui,3,6,"ng-template",null,4,e.W1O),e.YNc(6,hi,1,1,"div",5),e.YNc(7,Ci,4,5,"div",6),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(5),i=e.oxw();e.xp6(1),e.Tol(i._styleClass),e.Q6J("ngStyle",i._style)("ngClass",e.kEZ(10,Si,i.inline,i.both,i.horizontal)),e.uIk("id",i._id)("tabindex",i.tabindex),e.xp6(2),e.Q6J("ngIf",i.contentTemplate)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i._showSpacer),e.xp6(1),e.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function ki(n,r){1&n&&e.GkF(0)}const Oi=function(n,r){return{rows:n,columns:r}};function Di(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ki,1,0,"ng-container",7),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",e.WLB(5,Ae,t.items,e.WLB(2,Oi,t._items,t.loadedColumns)))}}function Ei(n,r){if(1&n&&(e.Hsn(0),e.YNc(1,Di,2,8,"ng-container",17)),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.contentTemplate)}}const Pi=["*"];let Li=(()=>{class n{constructor(t,i){this.cd=t,this.zone=i,this.onLazyLoad=new e.vpe,this.onScroll=new e.vpe,this.onScrollIndexChange=new e.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&"object"==typeof t&&Object.entries(t).forEach(([i,o])=>this[`_${i}`]!==o&&(this[`_${i}`]=o))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){const{previousValue:o,currentValue:a}=t.loading;this.lazy&&o!==a&&a!==this.d_loading&&(this.d_loading=a,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){const{previousValue:o,currentValue:a}=t.numToleratedItems;o!==a&&a!==this.d_numToleratedItems&&(this.d_numToleratedItems=a)}if(t.options){const{previousValue:o,currentValue:a}=t.options;this.lazy&&o?.loading!==a?.loading&&a?.loading!==this.d_loading&&(this.d_loading=a.loading,i=!0),o?.numToleratedItems!==a?.numToleratedItems&&a?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=a.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":default:this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){_.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=_.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=_.getHeight(this.elementViewChild.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||_.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(t){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){const{numToleratedItems:o}=this.calculateNumItems(),a=this.getContentPosition(),s=(p=0,c)=>p<=c?0:p,l=(p,c,g)=>p*c+g,d=(p=0,c=0)=>this.scrollTo({left:p,top:c,behavior:i});this.both?(this.first={rows:s(t[0],o[0]),cols:s(t[1],o[1])},d(l(this.first.cols,this._itemSize[1],a.left),l(this.first.rows,this._itemSize[0],a.top))):(this.first=s(t,o),this.horizontal?d(l(this.first,this._itemSize,a.left),0):d(0,l(this.first,this._itemSize,a.top)))}scrollInView(t,i,o="auto"){if(i){const{first:a,viewport:s}=this.getRenderedRange(),l=(c=0,g=0)=>this.scrollTo({left:c,top:g,behavior:o}),p="to-end"===i;if("to-start"===i){if(this.both)s.first.rows-a.rows>t[0]?l(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-a.cols>t[1]&&l((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-a>t){const c=(s.first-1)*this._itemSize;this.horizontal?l(c,0):l(0,c)}}else if(p)if(this.both)s.last.rows-a.rows<=t[0]+1?l(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-a.cols<=t[1]+1&&l((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-a<=t+1){const c=(s.first+1)*this._itemSize;this.horizontal?l(c,0):l(0,c)}}else this.scrollToIndex(t,o)}getRenderedRange(){const t=(a,s)=>Math.floor(a/(s||a));let i=this.first,o=0;if(this.elementViewChild?.nativeElement){const{scrollTop:a,scrollLeft:s}=this.elementViewChild.nativeElement;this.both?(i={rows:t(a,this._itemSize[0]),cols:t(s,this._itemSize[1])},o={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=t(this.horizontal?s:a,this._itemSize),o=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:o}}}calculateNumItems(){const t=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0,o=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0,a=(p,c)=>Math.ceil(p/(c||p)),s=p=>Math.ceil(p/2),l=this.both?{rows:a(o,this._itemSize[0]),cols:a(i,this._itemSize[1])}:a(this.horizontal?i:o,this._itemSize);return{numItemsInViewport:l,numToleratedItems:this.d_numToleratedItems||(this.both?[s(l.rows),s(l.cols)]:s(l))}}calculateOptions(){const{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),o=(l,d,p,c=!1)=>this.getLast(l+d+(l<p?2:3)*p,c),a=this.first,s=this.both?{rows:o(this.first.rows,t.rows,i[0]),cols:o(this.first.cols,t.cols,i[1],!0)}:o(this.first,t,i);this.last=s,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:a.cols}:0:a,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto";const{offsetWidth:t,offsetHeight:i}=this.contentEl;(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=(t<this.defaultWidth?t:this.defaultWidth)+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=(i<this.defaultHeight?i:this.defaultHeight)+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){const t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),o=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),a=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),s=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:o,top:a,bottom:s,x:i+o,y:a+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,o=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,a=(s,l)=>this.elementViewChild.nativeElement.style[s]=l;this.both||this.horizontal?(a("height",o),a("width",i)):a("height",o)}}setSpacerSize(){if(this._items){const t=this.getContentPosition(),i=(o,a,s,l=0)=>this.spacerStyle={...this.spacerStyle,[`${o}`]:(a||[]).length*s+l+"px"};this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){const i=t?t.first:this.first,o=(s,l)=>s*l,a=(s=0,l=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${s}px, ${l}px, 0)`};if(this.both)a(o(i.cols,this._itemSize[1]),o(i.rows,this._itemSize[0]));else{const s=o(i,this._itemSize);this.horizontal?a(s,0):a(0,s)}}}onScrollPositionChange(t){const i=t.target,o=this.getContentPosition(),a=(k,M)=>k?k>M?k-M:k:0,s=(k,M)=>Math.floor(k/(M||k)),l=(k,M,U,G,q,$)=>k<=q?q:$?U-G-q:M+q-1,d=(k,M,U,G,q,$,be)=>k<=$?0:Math.max(0,be?k<M?U:k-$:k>M?U:k-2*$),p=(k,M,U,G,q,$=!1)=>{let be=M+G+2*q;return k>=q&&(be+=q+1),this.getLast(be,$)},c=a(i.scrollTop,o.top),g=a(i.scrollLeft,o.left);let x=this.both?{rows:0,cols:0}:0,C=this.last,Z=!1,J=this.lastScrollPos;if(this.both){const k=this.lastScrollPos.top<=c,M=this.lastScrollPos.left<=g;if(!this._appendOnly||this._appendOnly&&(k||M)){const U={rows:s(c,this._itemSize[0]),cols:s(g,this._itemSize[1])},G={rows:l(U.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],k),cols:l(U.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],M)};x={rows:d(U.rows,G.rows,this.first.rows,0,0,this.d_numToleratedItems[0],k),cols:d(U.cols,G.cols,this.first.cols,0,0,this.d_numToleratedItems[1],M)},C={rows:p(U.rows,x.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:p(U.cols,x.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},Z=x.rows!==this.first.rows||C.rows!==this.last.rows||x.cols!==this.first.cols||C.cols!==this.last.cols,J={top:c,left:g}}}else{const k=this.horizontal?g:c,M=this.lastScrollPos<=k;if(!this._appendOnly||this._appendOnly&&M){const U=s(k,this._itemSize);x=d(U,l(U,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,M),this.first,0,0,this.d_numToleratedItems,M),C=p(U,x,0,this.numItemsInViewport,this.d_numToleratedItems),Z=x!==this.first||C!==this.last,J=k}}return{first:x,last:C,isRangeChanged:Z,scrollPos:J}}onScrollChange(t){const{first:i,last:o,isRangeChanged:a,scrollPos:s}=this.onScrollPositionChange(t);if(a){const l={first:i,last:o};if(this.setContentPosition(l),this.first=i,this.last=o,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",l),this._lazy&&this.isPageChanged){const d={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:o,this.items.length)};(this.lazyLoadState.first!==d.first||this.lazyLoadState.last!==d.last)&&this.handleEvents("onLazyLoad",d),this.lazyLoadState=d}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(t);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(_.isVisible(this.elementViewChild?.nativeElement)){const[t,i]=[_.getWidth(this.elementViewChild.nativeElement),_.getHeight(this.elementViewChild.nativeElement)],[o,a]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?o||a:this.horizontal?o:this.vertical&&a)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.init()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){const i=(this._items||[]).length,o=this.both?this.first.rows+t:this.first+t;return{index:o,count:i,first:0===o,last:o===i-1,even:o%2==0,odd:o%2!=0}}getLoaderOptions(t,i){const o=this.loaderArr.length;return{index:t,count:o,first:0===t,last:t===o-1,even:t%2==0,odd:t%2!=0,...i}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,he,4),2&t){let a;e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(t,i){if(1&t&&(e.Gf(ri,5),e.Gf(si,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.elementViewChild=o.first),e.iGM(o=e.CRH())&&(i.contentViewChild=o.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[e.TTD],ngContentSelectors:Pi,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(t,i){if(1&t&&(e.F$t(),e.YNc(0,Ai,8,14,"ng-container",0),e.YNc(1,Ei,2,1,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",!i._disabled)("ngIfElse",o)}},dependencies:[u.mk,u.sg,u.O5,u.tP,u.PC],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})(),Mi=(()=>{class n{constructor(t,i,o){this.el=t,this.zone=i,this.config=o,this.escape=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?_.appendChild(this.container,this.el.nativeElement):_.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content")}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),_.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ee.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ee.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+_.getWindowScrollLeft(),top:t.top+_.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),i=t.left+_.getOuterWidth(this.el.nativeElement),o=t.top+(_.getOuterHeight(this.el.nativeElement)-_.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-_.getOuterWidth(this.container),o=t.top+(_.getOuterHeight(this.el.nativeElement)-_.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(_.getOuterWidth(this.el.nativeElement)-_.getOuterWidth(this.container))/2,o=t.top-_.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(_.getOuterWidth(this.el.nativeElement)-_.getOuterWidth(this.container))/2,o=t.top+_.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return _.hasClass(t,"p-inputwrapper")?_.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,o=t.left,a=_.getOuterWidth(this.container),s=_.getOuterHeight(this.container),l=_.getViewport();return o+a>l.width||o<0||i<0||i+s>l.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Le(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):_.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ee.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ue))},n.\u0275dir=e.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[e.TTD]}),n})(),Ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n})();function Zi(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.label||"empty")}}function Ui(n,r){1&n&&e.GkF(0)}const se=function(n){return{height:n}},zi=function(n,r){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":r}},ke=function(n){return{$implicit:n}},Fi=["container"],Ri=["filter"],Ji=["in"],Bi=["editableInput"],Vi=["items"],Hi=["scroller"],Gi=["overlay"];function ji(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.label||"empty")}}function Qi(n,r){1&n&&e.GkF(0)}const qi=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function Yi(n,r){if(1&n&&(e.TgZ(0,"span",14),e.YNc(1,ji,2,1,"ng-container",15),e.YNc(2,Qi,1,0,"ng-container",16),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(9,qi,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),e.uIk("id",t.labelId),e.xp6(1),e.Q6J("ngIf",!t.selectedItemTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",e.VKq(11,ke,t.selectedOption))}}const Wi=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function Ki(n,r){if(1&n&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,Wi,null==t.placeholder||0===t.placeholder.length)),e.xp6(1),e.Oqu(t.placeholder||"empty")}}function $i(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",18,19),e.NdJ("input",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onEditableInputChange(o))})("focus",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onEditableInputFocus(o))})("blur",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onInputBlur(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.disabled),e.uIk("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function Xi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",20),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.clear(o))}),e.qZA()}}function en(n,r){1&n&&e.GkF(0)}function tn(n,r){1&n&&e.GkF(0)}const ze=function(n){return{options:n}};function nn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,tn,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,ze,t.filterOptions))}}function on(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"input",31,32),e.NdJ("keydown.enter",function(o){return o.preventDefault()})("keydown",function(o){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onKeydown(o,!1))})("input",function(o){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onFilterInputChange(o))}),e.qZA(),e._UZ(3,"span",33),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("value",t.filterValue||""),e.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function an(n,r){if(1&n&&(e.TgZ(0,"div",27),e.NdJ("click",function(i){return i.stopPropagation()}),e.YNc(1,nn,2,4,"ng-container",28),e.YNc(2,on,4,4,"ng-template",null,29,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.filterTemplate)("ngIfElse",t)}}function rn(n,r){1&n&&e.GkF(0)}const Fe=function(n,r){return{$implicit:n,options:r}};function sn(n,r){if(1&n&&e.YNc(0,rn,1,0,"ng-container",16),2&n){const t=r.$implicit,i=r.options;e.oxw(2);const o=e.MAs(7);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(2,Fe,t,i))}}function ln(n,r){1&n&&e.GkF(0)}function dn(n,r){if(1&n&&e.YNc(0,ln,1,0,"ng-container",16),2&n){const t=r.options,i=e.oxw(4);e.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,ze,t))}}function cn(n,r){1&n&&(e.ynx(0),e.YNc(1,dn,1,4,"ng-template",36),e.BQk())}function pn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-scroller",34,35),e.NdJ("onLazyLoad",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onLazyLoad.emit(o))}),e.YNc(2,sn,1,5,"ng-template",13),e.YNc(3,cn,2,0,"ng-container",15),e.qZA()}if(2&n){const t=e.oxw(2);e.Akn(e.VKq(8,se,t.scrollHeight)),e.Q6J("items",t.optionsToDisplay)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function mn(n,r){1&n&&e.GkF(0)}const un=function(){return{}};function hn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,mn,1,0,"ng-container",16),e.BQk()),2&n){e.oxw();const t=e.MAs(7),i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.WLB(3,Fe,i.optionsToDisplay,e.DdM(2,un)))}}function gn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(4);e.xp6(1),e.Oqu(i.getOptionGroupLabel(t)||"empty")}}function fn(n,r){1&n&&e.GkF(0)}function _n(n,r){1&n&&e.GkF(0)}const Re=function(n,r){return{$implicit:n,selectedOption:r}};function bn(n,r){if(1&n&&(e.TgZ(0,"li",42),e.YNc(1,gn,2,1,"span",15),e.YNc(2,fn,1,0,"ng-container",16),e.qZA(),e.YNc(3,_n,1,0,"ng-container",16)),2&n){const t=r.$implicit,i=e.oxw(2).options,o=e.MAs(5),a=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,se,i.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!a.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",a.groupTemplate)("ngTemplateOutletContext",e.VKq(8,ke,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(10,Re,a.getOptionGroupChildren(t),a.selectedOption))}}function vn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,bn,4,13,"ng-template",41),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function wn(n,r){1&n&&e.GkF(0)}function xn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,wn,1,0,"ng-container",16),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.MAs(5),o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.WLB(2,Re,t,o.selectedOption))}}function Tn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdownItem",43),e.NdJ("onClick",function(o){e.CHM(t);const a=e.oxw(4);return e.KtG(a.onItemClick(o))}),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw().selectedOption,o=e.oxw(3);e.Q6J("option",t)("selected",i==t)("label",o.getOptionLabel(t))("disabled",o.isOptionDisabled(t))("template",o.itemTemplate)}}function yn(n,r){1&n&&e.YNc(0,Tn,1,5,"ng-template",41),2&n&&e.Q6J("ngForOf",r.$implicit)}function In(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyFilterMessageLabel," ")}}function Cn(n,r){1&n&&e.GkF(0,null,45)}function Sn(n,r){if(1&n&&(e.TgZ(0,"li",44),e.YNc(1,In,2,1,"ng-container",28),e.YNc(2,Cn,2,0,"ng-container",22),e.qZA()),2&n){const t=e.oxw().options,i=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,se,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function An(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function kn(n,r){1&n&&e.GkF(0,null,46)}function On(n,r){if(1&n&&(e.TgZ(0,"li",44),e.YNc(1,An,2,1,"ng-container",28),e.YNc(2,kn,2,0,"ng-container",22),e.qZA()),2&n){const t=e.oxw().options,i=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,se,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function Dn(n,r){if(1&n&&(e.TgZ(0,"ul",37,38),e.YNc(2,vn,2,1,"ng-container",15),e.YNc(3,xn,2,5,"ng-container",15),e.YNc(4,yn,1,1,"ng-template",null,39,e.W1O),e.YNc(6,Sn,3,6,"li",40),e.YNc(7,On,3,6,"li",40),e.qZA()),2&n){const t=r.options,i=e.oxw(2);e.Akn(t.contentStyle),e.Q6J("ngClass",t.contentStyleClass),e.uIk("id",i.listId),e.xp6(2),e.Q6J("ngIf",i.group),e.xp6(1),e.Q6J("ngIf",!i.group),e.xp6(3),e.Q6J("ngIf",i.filterValue&&i.isEmpty()),e.xp6(1),e.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function En(n,r){1&n&&e.GkF(0)}function Pn(n,r){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,en,1,0,"ng-container",22),e.YNc(2,an,4,2,"div",23),e.TgZ(3,"div",24),e.YNc(4,pn,4,10,"p-scroller",25),e.YNc(5,hn,2,6,"ng-container",15),e.YNc(6,Dn,8,8,"ng-template",null,26,e.W1O),e.qZA(),e.YNc(8,En,1,0,"ng-container",22),e.qZA()),2&n){const t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(1),e.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(3),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Ln=function(n,r,t,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":r,"p-focus":t,"p-dropdown-clearable":i}},Mn={provide:h.JU,useExisting:(0,e.Gpc)(()=>Oe),multi:!0};let Nn=(()=>{class n{constructor(){this.onClick=new e.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"li",0),e.NdJ("click",function(a){return i.onOptionClick(a)}),e.YNc(1,Zi,2,1,"span",1),e.YNc(2,Ui,1,0,"ng-container",2),e.qZA()),2&t&&(e.Q6J("ngStyle",e.VKq(8,se,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",e.WLB(10,zi,i.selected,i.disabled)),e.uIk("aria-label",i.label)("aria-selected",i.selected),e.xp6(1),e.Q6J("ngIf",!i.template),e.xp6(1),e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.VKq(13,ke,i.option)))},dependencies:[u.mk,u.O5,u.tP,u.PC,oi],encapsulation:2}),n})(),Oe=(()=>{class n{constructor(t,i,o,a,s,l){this.el=t,this.renderer=i,this.cd=o,this.zone=a,this.filterService=s,this.config=l,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new e.vpe,this.onFilter=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.onClear=new e.vpe,this.onLazyLoad=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=function zt(){return"pr_id_"+ ++Ee}()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&O.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Pe.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Pe.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?O.resolveFieldData(t,this.optionLabel):t&&void 0!==t.label?t.label:t}getOptionValue(t){return this.optionValue?O.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}isOptionDisabled(t){return this.optionDisabled?O.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?O.resolveFieldData(t,this.optionGroupLabel):t&&void 0!==t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?O.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const i=t.option;this.isOptionDisabled(i)||(this.selectItem(t.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(t,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}))}ngAfterViewChecked(){this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper&&(_.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")&&_.scrollInView(this.itemsWrapper,_.findSingle(this.overlayViewChild.el.nativeElement,"li.p-highlight")),this.selectedOptionUpdated=!1)}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(t){return _.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){if("visible"===t.toState){if(this.itemsWrapper=_.findSingle(this.overlayViewChild.el.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=_.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}"void"===t.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t-1;0<=o;o--){let a=this.optionsToDisplay[o];if(!this.isOptionDisabled(a)){i=a;break}}if(!i)for(let o=this.optionsToDisplay.length-1;o>=t;o--){let a=this.optionsToDisplay[o];if(!this.isOptionDisabled(a)){i=a;break}}}return i}findNextEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t+1;o<this.optionsToDisplay.length;o++){let a=this.optionsToDisplay[o];if(!this.isOptionDisabled(a)){i=a;break}}if(!i)for(let o=0;o<t;o++){let a=this.optionsToDisplay[o];if(!this.isOptionDisabled(a)){i=a;break}}}return i}onKeydown(t,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let a=o.itemIndex+1;a<this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[a]),this.selectedOptionUpdated=!0):this.optionsToDisplay[o.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findNextEnabledOption(o);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let a=o.itemIndex-1;if(a>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[a]),this.selectedOptionUpdated=!0;else if(a<0){let s=this.optionsToDisplay[o.groupIndex-1];s&&(this.selectItem(t,this.getOptionGroupChildren(s)[this.getOptionGroupChildren(s).length-1]),this.selectedOptionUpdated=!0)}}}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findPrevEnabledOption(o);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!t.metaKey&&17!==t.which&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=t.key;let o;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(a)}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++a)}o&&!this.isOptionDisabled(o)&&(this.selectItem(t,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let i;return this.searchValue&&(i=this.searchOptionInRange(t,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,t))),i}searchOptionInRange(t,i){for(let o=t;o<i;o++){let a=this.optionsToDisplay[o];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let o=t.groupIndex;o<this.optionsToDisplay.length;o++)for(let a=t.groupIndex===o?t.itemIndex+1:0;a<this.getOptionGroupChildren(this.optionsToDisplay[o]).length;a++){let s=this.getOptionGroupChildren(this.optionsToDisplay[o])[a];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}for(let o=0;o<=t.groupIndex;o++)for(let a=0;a<(t.groupIndex===o?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[o]).length);a++){let s=this.getOptionGroupChildren(this.optionsToDisplay[o])[a];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}}return null}findOptionIndex(t,i){let o=-1;if(i)for(let a=0;a<i.length;a++)if(null==t&&null==this.getOptionValue(i[a])||O.equals(t,this.getOptionValue(i[a]),this.dataKey)){o=a;break}return o}findOptionGroupIndex(t,i){let o,a;if(i)for(let s=0;s<i.length&&(o=s,a=this.findOptionIndex(t,this.getOptionGroupChildren(i[s])),-1===a);s++);return-1!==a?{groupIndex:o,itemIndex:a}:-1}findOption(t,i,o){if(this.group&&!o){let a;if(i&&i.length)for(let s of i)if(a=this.findOption(t,this.getOptionGroupChildren(s),!0),a)break;return a}{let a=this.findOptionIndex(t,i);return-1!=a?i[a]:null}}onFilterInputChange(t){let i=t.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let o of this.options){let a=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);a&&a.length&&i.push({...o,[this.optionGroupChildren]:a})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?_.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():_.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Rt),e.Y36(ue))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,he,4),2&t){let a;e.iGM(a=e.CRH())&&(i.templates=a)}},viewQuery:function(t,i){if(1&t&&(e.Gf(Fi,5),e.Gf(Ri,5),e.Gf(Ji,5),e.Gf(Bi,5),e.Gf(Vi,5),e.Gf(Hi,5),e.Gf(Gi,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.containerViewChild=o.first),e.iGM(o=e.CRH())&&(i.filterViewChild=o.first),e.iGM(o=e.CRH())&&(i.accessibleViewChild=o.first),e.iGM(o=e.CRH())&&(i.editableInputViewChild=o.first),e.iGM(o=e.CRH())&&(i.itemsViewChild=o.first),e.iGM(o=e.CRH())&&(i.scroller=o.first),e.iGM(o=e.CRH())&&(i.overlayViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[e._Bn([Mn])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(a){return i.onMouseclick(a)}),e.TgZ(2,"div",2)(3,"input",3,4),e.NdJ("focus",function(a){return i.onInputFocus(a)})("blur",function(a){return i.onInputBlur(a)})("keydown",function(a){return i.onKeydown(a,!0)}),e.qZA()(),e.YNc(5,Yi,3,13,"span",5),e.YNc(6,Ki,2,4,"span",6),e.YNc(7,$i,2,4,"input",7),e.YNc(8,Xi,1,0,"i",8),e.TgZ(9,"div",9),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"p-overlay",11,12),e.NdJ("visibleChange",function(a){return i.overlayVisible=a})("onAnimationStart",function(a){return i.onOverlayAnimationStart(a)})("onHide",function(){return i.hide()}),e.YNc(13,Pn,9,11,"ng-template",13),e.qZA()()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass",e.l5B(27,Ln,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),e.xp6(3),e.Q6J("disabled",i.disabled)("autofocus",i.autofocus),e.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),e.xp6(2),e.Q6J("ngIf",!i.editable&&null!=i.label),e.xp6(1),e.Q6J("ngIf",!i.editable&&null==i.label),e.xp6(1),e.Q6J("ngIf",i.editable),e.xp6(1),e.Q6J("ngIf",i.isVisibleClearIcon),e.xp6(1),e.uIk("aria-expanded",i.overlayVisible),e.xp6(1),e.Q6J("ngClass",i.dropdownIcon),e.xp6(1),e.Q6J("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[u.mk,u.sg,u.O5,u.tP,u.PC,Me,he,Mi,Li,Bt,Nn],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),n})(),Zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,Ne,ge,Ni,ai,Ue,Vt,Ne,ge,Ue]}),n})();function Un(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.selectSocialOption(a))}),e._UZ(1,"app-svg",7),e.TgZ(2,"div",8),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("svgType",t.icon),e.xp6(2),e.hij(" ",t.label," ")}}function zn(n,r){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,Un,4,2,"div",5),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.socialOptions)}}const Je=function(n){return{disabled:n}};function Fn(n,r){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",15)(4,"div",16),e._uU(5,"@"),e.qZA(),e._UZ(6,"input",17),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Je,t.socialForm.controls.userName.disabled)),e.xp6(2),e.hij(" ",t.selectedOption.label+" Username"," ")}}function Rn(n,r){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"span",19),e.TgZ(2,"span",20),e._uU(3),e.qZA(),e._UZ(4,"span",19),e.qZA()),2&n&&(e.xp6(3),e.Oqu("OR"))}function Jn(n,r){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",15),e._UZ(4,"input",21),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Je,t.socialForm.controls.url.disabled)),e.xp6(2),e.hij(" ",t.selectedOption.label+" Profile link"," ")}}function Bn(n,r){if(1&n&&(e.TgZ(0,"div",22)(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",15),e._UZ(4,"input",23),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.selectedOption.label+" ID"," ")}}function Vn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",14),e._uU(2),e.qZA(),e.TgZ(3,"div",24)(4,"p-dropdown",25),e.NdJ("onChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onCountrySelect(o))}),e.qZA(),e.TgZ(5,"div",26),e._UZ(6,"input",27),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.selectedOption.label+" Number"," "),e.xp6(2),e.Q6J("autoDisplayFirst",!1)("options",t.countryCodes)("filter",!0)}}function Hn(n,r){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,Fn,7,4,"div",10),e.YNc(2,Rn,5,1,"div",11),e.YNc(3,Jn,5,4,"div",10),e.YNc(4,Bn,5,1,"div",12),e.YNc(5,Vn,7,4,"div",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","number"!==t.selectedOption.input&&"email"!==t.selectedOption.social_media),e.xp6(1),e.Q6J("ngIf","number"!==t.selectedOption.input&&"email"!==t.selectedOption.social_media),e.xp6(1),e.Q6J("ngIf","number"!==t.selectedOption.input&&"email"!==t.selectedOption.social_media),e.xp6(1),e.Q6J("ngIf","number"!==t.selectedOption.input&&"email"===t.selectedOption.social_media),e.xp6(1),e.Q6J("ngIf","number"===t.selectedOption.input)}}function Gn(n,r){1&n&&e._UZ(0,"app-loader",32)}function jn(n,r){1&n&&e._UZ(0,"app-svg",33)}function Qn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}function qn(n,r){if(1&n&&(e.TgZ(0,"button",28),e.YNc(1,Gn,1,0,"app-loader",29),e.YNc(2,jn,1,0,"app-svg",30),e.YNc(3,Qn,2,1,"span",31),e.qZA()),2&n){const t=e.oxw();e.Q6J("disabled",t.loading||!t.socialForm.valid),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.editTileData&&!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}let Yn=(()=>{class n{constructor(t){this.dataCarrier=t,this.loading=!1,this.countryCodes=Ut,this.socialForm=new h.cw({dialcode:new h.NI(null,h.kI.required),phoneNumber:new h.NI("",h.kI.required),userName:new h.NI("",h.kI.required),url:new h.NI("",h.kI.required)}),this.isUserNameDisabled=!1}ngOnInit(){this.socialOptions=[{icon:"email-square",label:"Email",social_media:"email",link_prefix:"mailto:",input:"username",regex:null},{icon:"twitter-square",label:"Twitter",social_media:"twitter",link_prefix:"https://www.twitter.com/",input:"username",regex:/twitter\.com\/([^\/]+)/},{icon:"tiktok-square",label:"TikTok",social_media:"tiktok",link_prefix:"https://www.tiktok.com/@",input:"username",regex:/\/\@([^\/]+)/},{icon:"linkedin-square",label:"LinkedIn",social_media:"linkedin",link_prefix:"https://www.linkedin.com/in/",input:"username",regex:/\/in\/([^\/]+)/},{icon:"instagram-square",label:"Instagram",social_media:"instagram",link_prefix:"https://www.instagram.com/",input:"username",regex:/instagram\.com\/([^\/]+)/},{icon:"facebook-square",label:"Facebook",social_media:"facebook",link_prefix:"https://www.facebook.com/",input:"username",regex:/facebook\.com\/([^\/]+)/},{icon:"youtube-square",label:"YouTube",social_media:"youtube",link_prefix:"https://www.youtube.com/@",input:"username",regex:/\/\@([^\/]+)/},{icon:"messenger-square",label:"Messenger",social_media:"messenger",link_prefix:"https://www.messenger.com/t/",input:"username",regex:/\/t\/([^\/]+)/},{icon:"whatsapp-square",label:"WhatsApp",social_media:"whatsapp",link_prefix:"https://wa.me/",input:"number"},{icon:"twitch-square",label:"Twitch",social_media:"twitch",link_prefix:"https://www.twitch.tv/",input:"username",regex:/twitch\.tv\/([^\/]+)/},{icon:"snapchat-square",label:"Snapchat",social_media:"snapchat",link_prefix:"https://www.snapchat.com/add/",input:"username",regex:/add\/([^\/]+)/},{icon:"reddit-square",label:"Reddit",social_media:"reddit",link_prefix:"https://www.reddit.com/user/",input:"username",regex:/user\/([^\/]+)/},{icon:"telegram-square",label:"Telegram",social_media:"telegram",link_prefix:"https://t.me/",input:"username",regex:/t\.me\/([^\/]+)/},{icon:"discord-square",label:"Discord",social_media:"discord",link_prefix:"https://discord.com/users/",input:"username",regex:/users\/([^\/]+)/},{icon:"github-square",label:"Github",social_media:"github",link_prefix:"https://github.com/",input:"username",regex:/github\.com\/([^\/]+)/},{icon:"gitlab-square",label:"GitLab",social_media:"gitlab",link_prefix:"https://gitlab.com/",input:"username",regex:/gitlab\.com\/([^\/]+)/},{icon:"pinterest-square",label:"Pinterest",social_media:"pinterest",link_prefix:"https://www.pinterest.com/",input:"username",regex:/pinterest\.com\/([^\/]+)/},{icon:"wechat-square",label:"WeChat",social_media:"wechat",link_prefix:"weixin://dl/chat?",input:"username",regex:/\/chat\?([^\/]+)/},{icon:"tumblr-square",label:"Tumblr",social_media:"tumblr",link_prefix:"https://www.tumblr.com/blog/",input:"username",regex:/blog\/([^\/]+)/},{icon:"line-square",label:"Line",social_media:"line",link_prefix:"https://line.me/ti/p/",input:"username",regex:/\/p\/([^\/]+)/},{icon:"soundcloud-square",label:"SoundCloud",social_media:"soundcloud",link_prefix:"https://soundcloud.com/",input:"username",regex:/soundcloud\.com\/([^\/]+)/},{icon:"dribble-square",label:"Dribble",social_media:"dribble",link_prefix:"https://dribbble.com/",input:"username",regex:/dribbble\.com\/([^\/]+)/},{icon:"quora-square",label:"Quora",social_media:"quora",link_prefix:"https://www.quora.com/profile/",input:"username",regex:/profile\/([^\/]+)/},{icon:"behance-square",label:"Behance",social_media:"behance",link_prefix:"https://www.behance.net/",input:"username",regex:/behance\.net\/([^\/]+)/}],this.prefillData()}prefillData(){if(this.editTileData)if(this.tileId=this.editTileData.id,this.selectedOption=this.socialOptions.find(t=>t.social_media===this.editTileData.social_media),this.selectSocialOption(this.selectedOption),"number"===this.selectedOption.input){const t=this.countryCodes.find(i=>i.dial_code=this.editTileData.country_code);this.selectedDialCode=this.editTileData.country_code,this.socialForm.get("dialcode")?.setValue(t),this.socialForm.get("phoneNumber")?.setValue(this.editTileData.phone_number)}else this.socialForm.get("userName")?.setValue(this.editTileData.user_id)}selectSocialOption(t){this.selectedOption=t,"number"!==this.selectedOption.input?(this.clearValidators("dialcode"),this.clearValidators("phoneNumber"),this.socialForm.valueChanges.subscribe(()=>{const i=this.socialForm.get("userName"),o=this.socialForm.get("url");this.isUserNameDisabled=!1,i.value||o.value?!i.value&&o.value?(i.disable({emitEvent:!1}),this.isUserNameDisabled=!0):i.value&&!o.value?o.disable({emitEvent:!1}):(i.enable({emitEvent:!1}),o.enable({emitEvent:!1})):(i.enable({emitEvent:!1}),o.enable({emitEvent:!1}))})):"email"===this.selectedOption.social_media?(this.clearValidators("dialcode"),this.clearValidators("phoneNumber"),this.clearValidators("url")):(this.clearValidators("userName"),this.clearValidators("url"))}clearValidators(t){this.socialForm.get(t)?.clearValidators(),this.socialForm.get(t)?.updateValueAndValidity()}addTile(){let t;if(this.loading=!0,"number"===this.selectedOption.input)t=this.selectedDialCode+this.socialForm.value.phoneNumber;else if(this.isUserNameDisabled){const a=this.socialForm.value.url.match(this.selectedOption.regex);a&&(t=a[1])}else t=this.socialForm.value.userName;if(this.editTileData)this.dataCarrier.setUpdateTileEvent({social_media:this.selectedOption.social_media,social_media_label:this.selectedOption.label,icon:this.selectedOption.social_media+"-round",url:this.selectedOption.link_prefix+t,user_id:t,tile_id:this.tileId,type:"social_tile",country_code:this.selectedDialCode,phone_number:""+this.socialForm.value.phoneNumber});else{const i=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0;this.tileId=i.username+"_social_"+(new Date).valueOf(),this.dataCarrier.setAddTileEvent({social_media:this.selectedOption.social_media,social_media_label:this.selectedOption.label,icon:this.selectedOption.social_media+"-round",url:this.selectedOption.link_prefix+t,user_id:t,tile_id:this.tileId,type:"social_tile",country_code:this.selectedDialCode,phone_number:""+this.socialForm.value.phoneNumber})}}onCountrySelect(t){this.selectedDialCode=t.value.dial_code}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-social"]],inputs:{editTileData:"editTileData"},decls:4,vars:4,consts:[[1,"add-tile-inner-wrapper",3,"formGroup","submit"],["class","social-tile-options-wrapper",4,"ngIf"],["class","add-tile-input-wrapper",4,"ngIf"],["class","primary-button text-body","type","submit",3,"disabled",4,"ngIf"],[1,"social-tile-options-wrapper"],["class","social-tile-option",3,"click",4,"ngFor","ngForOf"],[1,"social-tile-option",3,"click"],[3,"svgType"],[1,"social-label"],[1,"add-tile-input-wrapper"],["class","input-wrapper",3,"ngClass",4,"ngIf"],["class","add-tile-divider",4,"ngIf"],["class","input-wrapper",4,"ngIf"],[1,"input-wrapper",3,"ngClass"],[1,"input-label","text-body"],[1,"input-box"],[1,"input-prefix","text-body"],["type","text","placeholder","username","formControlName","userName",1,"text-body","input-prefix-padding"],[1,"add-tile-divider"],[1,"divider-line"],[1,"divider-text"],["type","text","placeholder","Your profile link","formControlName","url",1,"text-body"],[1,"input-wrapper"],["type","text","placeholder","Your email id","formControlName","userName",1,"text-body"],[1,"input-box","social-phone-input"],["appendTo","body","placeholder","code","optionLabel","dial_code","filterPlaceholder","Search","formControlName","dialcode",1,"country-dropdown",3,"autoDisplayFirst","options","filter","onChange"],[1,"input"],["type","number","placeholder","phone number","formControlName","phoneNumber",1,"text-body"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.addTile()}),e.YNc(1,zn,2,1,"div",1),e.YNc(2,Hn,6,5,"div",2),e.YNc(3,qn,4,4,"button",3),e.qZA()),2&t&&(e.Q6J("formGroup",i.socialForm),e.xp6(1),e.Q6J("ngIf",!i.selectedOption),e.xp6(1),e.Q6J("ngIf",i.selectedOption),e.xp6(1),e.Q6J("ngIf",i.selectedOption))},dependencies:[u.mk,u.sg,u.O5,h._Y,h.Fj,h.wV,h.JJ,h.JL,N.H,V.R,Oe,h.sg,h.u],styles:[".social-tile-options-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:8px}.social-tile-options-wrapper[_ngcontent-%COMP%]   .social-tile-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 8px;row-gap:8px;border-radius:8px;flex:none;flex-grow:1;cursor:pointer}.social-tile-options-wrapper[_ngcontent-%COMP%]   .social-tile-option[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.social-tile-options-wrapper[_ngcontent-%COMP%]   .social-tile-option[_ngcontent-%COMP%]   .social-label[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:120%;color:#f9f9f9}.social-phone-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}.social-phone-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{flex:1}  .country-dropdown .p-dropdown{border-radius:0!important;border:0!important;border-right:1px solid rgba(255,255,255,.06)!important;background:transparent!important}  .country-dropdown .p-dropdown .p-inputtext{padding-right:0!important}"]}),n})();const Wn=[{country:"Andorra",abbr:"AD",zones:["Europe/Andorra"]},{country:"United Arab Emirates",abbr:"AE",zones:["Asia/Dubai"]},{country:"Afghanistan",abbr:"AF",zones:["Asia/Kabul"]},{country:"Antigua & Barbuda",abbr:"AG",zones:["America/Puerto_Rico","America/Antigua"]},{country:"Anguilla",abbr:"AI",zones:["America/Puerto_Rico","America/Anguilla"]},{country:"Albania",abbr:"AL",zones:["Europe/Tirane"]},{country:"Armenia",abbr:"AM",zones:["Asia/Yerevan"]},{country:"Angola",abbr:"AO",zones:["Africa/Lagos","Africa/Luanda"]},{country:"Antarctica",abbr:"AQ",zones:["Antarctica/Casey","Antarctica/Davis","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Troll","Asia/Urumqi","Pacific/Auckland","Pacific/Port_Moresby","Asia/Riyadh","Antarctica/McMurdo","Antarctica/DumontDUrville","Antarctica/Syowa","Antarctica/Vostok"]},{country:"Argentina",abbr:"AR",zones:["America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia"]},{country:"Samoa (American)",abbr:"AS",zones:["Pacific/Pago_Pago"]},{country:"Austria",abbr:"AT",zones:["Europe/Vienna"]},{country:"Australia",abbr:"AU",zones:["Australia/Lord_Howe","Antarctica/Macquarie","Australia/Hobart","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Darwin","Australia/Perth","Australia/Eucla"]},{country:"Aruba",abbr:"AW",zones:["America/Puerto_Rico","America/Aruba"]},{country:"\xc5land Islands",abbr:"AX",zones:["Europe/Helsinki","Europe/Mariehamn"]},{country:"Azerbaijan",abbr:"AZ",zones:["Asia/Baku"]},{country:"Bosnia & Herzegovina",abbr:"BA",zones:["Europe/Belgrade","Europe/Sarajevo"]},{country:"Barbados",abbr:"BB",zones:["America/Barbados"]},{country:"Bangladesh",abbr:"BD",zones:["Asia/Dhaka"]},{country:"Belgium",abbr:"BE",zones:["Europe/Brussels"]},{country:"Burkina Faso",abbr:"BF",zones:["Africa/Abidjan","Africa/Ouagadougou"]},{country:"Bulgaria",abbr:"BG",zones:["Europe/Sofia"]},{country:"Bahrain",abbr:"BH",zones:["Asia/Qatar","Asia/Bahrain"]},{country:"Burundi",abbr:"BI",zones:["Africa/Maputo","Africa/Bujumbura"]},{country:"Benin",abbr:"BJ",zones:["Africa/Lagos","Africa/Porto-Novo"]},{country:"St Barthelemy",abbr:"BL",zones:["America/Puerto_Rico","America/St_Barthelemy"]},{country:"Bermuda",abbr:"BM",zones:["Atlantic/Bermuda"]},{country:"Brunei",abbr:"BN",zones:["Asia/Kuching","Asia/Brunei"]},{country:"Bolivia",abbr:"BO",zones:["America/La_Paz"]},{country:"Caribbean NL",abbr:"BQ",zones:["America/Puerto_Rico","America/Kralendijk"]},{country:"Brazil",abbr:"BR",zones:["America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Santarem","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco"]},{country:"Bahamas",abbr:"BS",zones:["America/Toronto","America/Nassau"]},{country:"Bhutan",abbr:"BT",zones:["Asia/Thimphu"]},{country:"Botswana",abbr:"BW",zones:["Africa/Maputo","Africa/Gaborone"]},{country:"Belarus",abbr:"BY",zones:["Europe/Minsk"]},{country:"Belize",abbr:"BZ",zones:["America/Belize"]},{country:"Canada",abbr:"CA",zones:["America/St_Johns","America/Halifax","America/Glace_Bay","America/Moncton","America/Goose_Bay","America/Toronto","America/Iqaluit","America/Winnipeg","America/Resolute","America/Rankin_Inlet","America/Regina","America/Swift_Current","America/Edmonton","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Dawson_Creek","America/Fort_Nelson","America/Whitehorse","America/Dawson","America/Vancouver","America/Panama","America/Puerto_Rico","America/Phoenix","America/Blanc-Sablon","America/Atikokan","America/Creston"]},{country:"Cocos (Keeling) Islands",abbr:"CC",zones:["Asia/Yangon","Indian/Cocos"]},{country:"Congo (Dem. Rep.)",abbr:"CD",zones:["Africa/Maputo","Africa/Lagos","Africa/Kinshasa","Africa/Lubumbashi"]},{country:"Central African Rep.",abbr:"CF",zones:["Africa/Lagos","Africa/Bangui"]},{country:"Congo (Rep.)",abbr:"CG",zones:["Africa/Lagos","Africa/Brazzaville"]},{country:"Switzerland",abbr:"CH",zones:["Europe/Zurich"]},{country:"C\xf4te d'Ivoire",abbr:"CI",zones:["Africa/Abidjan"]},{country:"Cook Islands",abbr:"CK",zones:["Pacific/Rarotonga"]},{country:"Chile",abbr:"CL",zones:["America/Santiago","America/Punta_Arenas","Pacific/Easter"]},{country:"Cameroon",abbr:"CM",zones:["Africa/Lagos","Africa/Douala"]},{country:"China",abbr:"CN",zones:["Asia/Shanghai","Asia/Urumqi"]},{country:"Colombia",abbr:"CO",zones:["America/Bogota"]},{country:"Costa Rica",abbr:"CR",zones:["America/Costa_Rica"]},{country:"Cuba",abbr:"CU",zones:["America/Havana"]},{country:"Cape Verde",abbr:"CV",zones:["Atlantic/Cape_Verde"]},{country:"Cura\xe7ao",abbr:"CW",zones:["America/Puerto_Rico","America/Curacao"]},{country:"Christmas Island",abbr:"CX",zones:["Asia/Bangkok","Indian/Christmas"]},{country:"Cyprus",abbr:"CY",zones:["Asia/Nicosia","Asia/Famagusta"]},{country:"Czech Republic",abbr:"CZ",zones:["Europe/Prague"]},{country:"Germany",abbr:"DE",zones:["Europe/Zurich","Europe/Berlin","Europe/Busingen"]},{country:"Djibouti",abbr:"DJ",zones:["Africa/Nairobi","Africa/Djibouti"]},{country:"Denmark",abbr:"DK",zones:["Europe/Berlin","Europe/Copenhagen"]},{country:"Dominica",abbr:"DM",zones:["America/Puerto_Rico","America/Dominica"]},{country:"Dominican Republic",abbr:"DO",zones:["America/Santo_Domingo"]},{country:"Algeria",abbr:"DZ",zones:["Africa/Algiers"]},{country:"Ecuador",abbr:"EC",zones:["America/Guayaquil","Pacific/Galapagos"]},{country:"Estonia",abbr:"EE",zones:["Europe/Tallinn"]},{country:"Egypt",abbr:"EG",zones:["Africa/Cairo"]},{country:"Western Sahara",abbr:"EH",zones:["Africa/El_Aaiun"]},{country:"Eritrea",abbr:"ER",zones:["Africa/Nairobi","Africa/Asmara"]},{country:"Spain",abbr:"ES",zones:["Europe/Madrid","Africa/Ceuta","Atlantic/Canary"]},{country:"Ethiopia",abbr:"ET",zones:["Africa/Nairobi","Africa/Addis_Ababa"]},{country:"Finland",abbr:"FI",zones:["Europe/Helsinki"]},{country:"Fiji",abbr:"FJ",zones:["Pacific/Fiji"]},{country:"Falkland Islands",abbr:"FK",zones:["Atlantic/Stanley"]},{country:"Micronesia",abbr:"FM",zones:["Pacific/Kosrae","Pacific/Port_Moresby","Pacific/Guadalcanal","Pacific/Chuuk","Pacific/Pohnpei"]},{country:"Faroe Islands",abbr:"FO",zones:["Atlantic/Faroe"]},{country:"France",abbr:"FR",zones:["Europe/Paris"]},{country:"Gabon",abbr:"GA",zones:["Africa/Lagos","Africa/Libreville"]},{country:"Britain (UK)",abbr:"GB",zones:["Europe/London"]},{country:"Grenada",abbr:"GD",zones:["America/Puerto_Rico","America/Grenada"]},{country:"Georgia",abbr:"GE",zones:["Asia/Tbilisi"]},{country:"French Guiana",abbr:"GF",zones:["America/Cayenne"]},{country:"Guernsey",abbr:"GG",zones:["Europe/London","Europe/Guernsey"]},{country:"Ghana",abbr:"GH",zones:["Africa/Abidjan","Africa/Accra"]},{country:"Gibraltar",abbr:"GI",zones:["Europe/Gibraltar"]},{country:"Greenland",abbr:"GL",zones:["America/Nuuk","America/Danmarkshavn","America/Scoresbysund","America/Thule"]},{country:"Gambia",abbr:"GM",zones:["Africa/Abidjan","Africa/Banjul"]},{country:"Guinea",abbr:"GN",zones:["Africa/Abidjan","Africa/Conakry"]},{country:"Guadeloupe",abbr:"GP",zones:["America/Puerto_Rico","America/Guadeloupe"]},{country:"Equatorial Guinea",abbr:"GQ",zones:["Africa/Lagos","Africa/Malabo"]},{country:"Greece",abbr:"GR",zones:["Europe/Athens"]},{country:"South Georgia & the South Sandwich Islands",abbr:"GS",zones:["Atlantic/South_Georgia"]},{country:"Guatemala",abbr:"GT",zones:["America/Guatemala"]},{country:"Guam",abbr:"GU",zones:["Pacific/Guam"]},{country:"Guinea-Bissau",abbr:"GW",zones:["Africa/Bissau"]},{country:"Guyana",abbr:"GY",zones:["America/Guyana"]},{country:"Hong Kong",abbr:"HK",zones:["Asia/Hong_Kong"]},{country:"Honduras",abbr:"HN",zones:["America/Tegucigalpa"]},{country:"Croatia",abbr:"HR",zones:["Europe/Belgrade","Europe/Zagreb"]},{country:"Haiti",abbr:"HT",zones:["America/Port-au-Prince"]},{country:"Hungary",abbr:"HU",zones:["Europe/Budapest"]},{country:"Indonesia",abbr:"ID",zones:["Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura"]},{country:"Ireland",abbr:"IE",zones:["Europe/Dublin"]},{country:"Israel",abbr:"IL",zones:["Asia/Jerusalem"]},{country:"Isle of Man",abbr:"IM",zones:["Europe/London","Europe/Isle_of_Man"]},{country:"India",abbr:"IN",zones:["Asia/Kolkata"]},{country:"British Indian Ocean Territory",abbr:"IO",zones:["Indian/Chagos"]},{country:"Iraq",abbr:"IQ",zones:["Asia/Baghdad"]},{country:"Iran",abbr:"IR",zones:["Asia/Tehran"]},{country:"Iceland",abbr:"IS",zones:["Africa/Abidjan","Atlantic/Reykjavik"]},{country:"Italy",abbr:"IT",zones:["Europe/Rome"]},{country:"Jersey",abbr:"JE",zones:["Europe/London","Europe/Jersey"]},{country:"Jamaica",abbr:"JM",zones:["America/Jamaica"]},{country:"Jordan",abbr:"JO",zones:["Asia/Amman"]},{country:"Japan",abbr:"JP",zones:["Asia/Tokyo"]},{country:"Kenya",abbr:"KE",zones:["Africa/Nairobi"]},{country:"Kyrgyzstan",abbr:"KG",zones:["Asia/Bishkek"]},{country:"Cambodia",abbr:"KH",zones:["Asia/Bangkok","Asia/Phnom_Penh"]},{country:"Kiribati",abbr:"KI",zones:["Pacific/Tarawa","Pacific/Kanton","Pacific/Kiritimati"]},{country:"Comoros",abbr:"KM",zones:["Africa/Nairobi","Indian/Comoro"]},{country:"St Kitts & Nevis",abbr:"KN",zones:["America/Puerto_Rico","America/St_Kitts"]},{country:"Korea (North)",abbr:"KP",zones:["Asia/Pyongyang"]},{country:"Korea (South)",abbr:"KR",zones:["Asia/Seoul"]},{country:"Kuwait",abbr:"KW",zones:["Asia/Riyadh","Asia/Kuwait"]},{country:"Cayman Islands",abbr:"KY",zones:["America/Panama","America/Cayman"]},{country:"Kazakhstan",abbr:"KZ",zones:["Asia/Almaty","Asia/Qyzylorda","Asia/Qostanay","Asia/Aqtobe","Asia/Aqtau","Asia/Atyrau","Asia/Oral"]},{country:"Laos",abbr:"LA",zones:["Asia/Bangkok","Asia/Vientiane"]},{country:"Lebanon",abbr:"LB",zones:["Asia/Beirut"]},{country:"St Lucia",abbr:"LC",zones:["America/Puerto_Rico","America/St_Lucia"]},{country:"Liechtenstein",abbr:"LI",zones:["Europe/Zurich","Europe/Vaduz"]},{country:"Sri Lanka",abbr:"LK",zones:["Asia/Colombo"]},{country:"Liberia",abbr:"LR",zones:["Africa/Monrovia"]},{country:"Lesotho",abbr:"LS",zones:["Africa/Johannesburg","Africa/Maseru"]},{country:"Lithuania",abbr:"LT",zones:["Europe/Vilnius"]},{country:"Luxembourg",abbr:"LU",zones:["Europe/Brussels","Europe/Luxembourg"]},{country:"Latvia",abbr:"LV",zones:["Europe/Riga"]},{country:"Libya",abbr:"LY",zones:["Africa/Tripoli"]},{country:"Morocco",abbr:"MA",zones:["Africa/Casablanca"]},{country:"Monaco",abbr:"MC",zones:["Europe/Paris","Europe/Monaco"]},{country:"Moldova",abbr:"MD",zones:["Europe/Chisinau"]},{country:"Montenegro",abbr:"ME",zones:["Europe/Belgrade","Europe/Podgorica"]},{country:"St Martin (French)",abbr:"MF",zones:["America/Puerto_Rico","America/Marigot"]},{country:"Madagascar",abbr:"MG",zones:["Africa/Nairobi","Indian/Antananarivo"]},{country:"Marshall Islands",abbr:"MH",zones:["Pacific/Tarawa","Pacific/Kwajalein","Pacific/Majuro"]},{country:"North Macedonia",abbr:"MK",zones:["Europe/Belgrade","Europe/Skopje"]},{country:"Mali",abbr:"ML",zones:["Africa/Abidjan","Africa/Bamako"]},{country:"Myanmar (Burma)",abbr:"MM",zones:["Asia/Yangon"]},{country:"Mongolia",abbr:"MN",zones:["Asia/Ulaanbaatar","Asia/Hovd","Asia/Choibalsan"]},{country:"Macau",abbr:"MO",zones:["Asia/Macau"]},{country:"Northern Mariana Islands",abbr:"MP",zones:["Pacific/Guam","Pacific/Saipan"]},{country:"Martinique",abbr:"MQ",zones:["America/Martinique"]},{country:"Mauritania",abbr:"MR",zones:["Africa/Abidjan","Africa/Nouakchott"]},{country:"Montserrat",abbr:"MS",zones:["America/Puerto_Rico","America/Montserrat"]},{country:"Malta",abbr:"MT",zones:["Europe/Malta"]},{country:"Mauritius",abbr:"MU",zones:["Indian/Mauritius"]},{country:"Maldives",abbr:"MV",zones:["Indian/Maldives"]},{country:"Malawi",abbr:"MW",zones:["Africa/Maputo","Africa/Blantyre"]},{country:"Mexico",abbr:"MX",zones:["America/Mexico_City","America/Cancun","America/Merida","America/Monterrey","America/Matamoros","America/Chihuahua","America/Ciudad_Juarez","America/Ojinaga","America/Mazatlan","America/Bahia_Banderas","America/Hermosillo","America/Tijuana"]},{country:"Malaysia",abbr:"MY",zones:["Asia/Kuching","Asia/Singapore","Asia/Kuala_Lumpur"]},{country:"Mozambique",abbr:"MZ",zones:["Africa/Maputo"]},{country:"Namibia",abbr:"NA",zones:["Africa/Windhoek"]},{country:"New Caledonia",abbr:"NC",zones:["Pacific/Noumea"]},{country:"Niger",abbr:"NE",zones:["Africa/Lagos","Africa/Niamey"]},{country:"Norfolk Island",abbr:"NF",zones:["Pacific/Norfolk"]},{country:"Nigeria",abbr:"NG",zones:["Africa/Lagos"]},{country:"Nicaragua",abbr:"NI",zones:["America/Managua"]},{country:"Netherlands",abbr:"NL",zones:["Europe/Brussels","Europe/Amsterdam"]},{country:"Norway",abbr:"NO",zones:["Europe/Berlin","Europe/Oslo"]},{country:"Nepal",abbr:"NP",zones:["Asia/Kathmandu"]},{country:"Nauru",abbr:"NR",zones:["Pacific/Nauru"]},{country:"Niue",abbr:"NU",zones:["Pacific/Niue"]},{country:"New Zealand",abbr:"NZ",zones:["Pacific/Auckland","Pacific/Chatham"]},{country:"Oman",abbr:"OM",zones:["Asia/Dubai","Asia/Muscat"]},{country:"Panama",abbr:"PA",zones:["America/Panama"]},{country:"Peru",abbr:"PE",zones:["America/Lima"]},{country:"French Polynesia",abbr:"PF",zones:["Pacific/Tahiti","Pacific/Marquesas","Pacific/Gambier"]},{country:"Papua New Guinea",abbr:"PG",zones:["Pacific/Port_Moresby","Pacific/Bougainville"]},{country:"Philippines",abbr:"PH",zones:["Asia/Manila"]},{country:"Pakistan",abbr:"PK",zones:["Asia/Karachi"]},{country:"Poland",abbr:"PL",zones:["Europe/Warsaw"]},{country:"St Pierre & Miquelon",abbr:"PM",zones:["America/Miquelon"]},{country:"Pitcairn",abbr:"PN",zones:["Pacific/Pitcairn"]},{country:"Puerto Rico",abbr:"PR",zones:["America/Puerto_Rico"]},{country:"Palestine",abbr:"PS",zones:["Asia/Gaza","Asia/Hebron"]},{country:"Portugal",abbr:"PT",zones:["Europe/Lisbon","Atlantic/Madeira","Atlantic/Azores"]},{country:"Palau",abbr:"PW",zones:["Pacific/Palau"]},{country:"Paraguay",abbr:"PY",zones:["America/Asuncion"]},{country:"Qatar",abbr:"QA",zones:["Asia/Qatar"]},{country:"R\xe9union",abbr:"RE",zones:["Asia/Dubai","Indian/Reunion"]},{country:"Romania",abbr:"RO",zones:["Europe/Bucharest"]},{country:"Serbia",abbr:"RS",zones:["Europe/Belgrade"]},{country:"Russia",abbr:"RU",zones:["Europe/Kaliningrad","Europe/Moscow","Europe/Simferopol","Europe/Kirov","Europe/Volgograd","Europe/Astrakhan","Europe/Saratov","Europe/Ulyanovsk","Europe/Samara","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Barnaul","Asia/Tomsk","Asia/Novokuznetsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Chita","Asia/Yakutsk","Asia/Khandyga","Asia/Vladivostok","Asia/Ust-Nera","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Kamchatka","Asia/Anadyr"]},{country:"Rwanda",abbr:"RW",zones:["Africa/Maputo","Africa/Kigali"]},{country:"Saudi Arabia",abbr:"SA",zones:["Asia/Riyadh"]},{country:"Solomon Islands",abbr:"SB",zones:["Pacific/Guadalcanal"]},{country:"Seychelles",abbr:"SC",zones:["Asia/Dubai","Indian/Mahe"]},{country:"Sudan",abbr:"SD",zones:["Africa/Khartoum"]},{country:"Sweden",abbr:"SE",zones:["Europe/Berlin","Europe/Stockholm"]},{country:"Singapore",abbr:"SG",zones:["Asia/Singapore"]},{country:"St Helena",abbr:"SH",zones:["Africa/Abidjan","Atlantic/St_Helena"]},{country:"Slovenia",abbr:"SI",zones:["Europe/Belgrade","Europe/Ljubljana"]},{country:"Svalbard & Jan Mayen",abbr:"SJ",zones:["Europe/Berlin","Arctic/Longyearbyen"]},{country:"Slovakia",abbr:"SK",zones:["Europe/Prague","Europe/Bratislava"]},{country:"Sierra Leone",abbr:"SL",zones:["Africa/Abidjan","Africa/Freetown"]},{country:"San Marino",abbr:"SM",zones:["Europe/Rome","Europe/San_Marino"]},{country:"Senegal",abbr:"SN",zones:["Africa/Abidjan","Africa/Dakar"]},{country:"Somalia",abbr:"SO",zones:["Africa/Nairobi","Africa/Mogadishu"]},{country:"Suriname",abbr:"SR",zones:["America/Paramaribo"]},{country:"South Sudan",abbr:"SS",zones:["Africa/Juba"]},{country:"Sao Tome & Principe",abbr:"ST",zones:["Africa/Sao_Tome"]},{country:"El Salvador",abbr:"SV",zones:["America/El_Salvador"]},{country:"St Maarten (Dutch)",abbr:"SX",zones:["America/Puerto_Rico","America/Lower_Princes"]},{country:"Syria",abbr:"SY",zones:["Asia/Damascus"]},{country:"Eswatini (Swaziland)",abbr:"SZ",zones:["Africa/Johannesburg","Africa/Mbabane"]},{country:"Turks & Caicos Is",abbr:"TC",zones:["America/Grand_Turk"]},{country:"Chad",abbr:"TD",zones:["Africa/Ndjamena"]},{country:"French Southern Territories",abbr:"TF",zones:["Asia/Dubai","Indian/Maldives","Indian/Kerguelen"]},{country:"Togo",abbr:"TG",zones:["Africa/Abidjan","Africa/Lome"]},{country:"Thailand",abbr:"TH",zones:["Asia/Bangkok"]},{country:"Tajikistan",abbr:"TJ",zones:["Asia/Dushanbe"]},{country:"Tokelau",abbr:"TK",zones:["Pacific/Fakaofo"]},{country:"East Timor",abbr:"TL",zones:["Asia/Dili"]},{country:"Turkmenistan",abbr:"TM",zones:["Asia/Ashgabat"]},{country:"Tunisia",abbr:"TN",zones:["Africa/Tunis"]},{country:"Tonga",abbr:"TO",zones:["Pacific/Tongatapu"]},{country:"Turkey",abbr:"TR",zones:["Europe/Istanbul"]},{country:"Trinidad & Tobago",abbr:"TT",zones:["America/Puerto_Rico","America/Port_of_Spain"]},{country:"Tuvalu",abbr:"TV",zones:["Pacific/Tarawa","Pacific/Funafuti"]},{country:"Taiwan",abbr:"TW",zones:["Asia/Taipei"]},{country:"Tanzania",abbr:"TZ",zones:["Africa/Nairobi","Africa/Dar_es_Salaam"]},{country:"Ukraine",abbr:"UA",zones:["Europe/Simferopol","Europe/Kyiv"]},{country:"Uganda",abbr:"UG",zones:["Africa/Nairobi","Africa/Kampala"]},{country:"US minor outlying islands",abbr:"UM",zones:["Pacific/Pago_Pago","Pacific/Tarawa","Pacific/Honolulu","Pacific/Midway","Pacific/Wake"]},{country:"United States",abbr:"US",zones:["America/New_York","America/Detroit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Indiana/Indianapolis","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Chicago","America/Indiana/Tell_City","America/Indiana/Knox","America/Menominee","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/North_Dakota/Beulah","America/Denver","America/Boise","America/Phoenix","America/Los_Angeles","America/Anchorage","America/Juneau","America/Sitka","America/Metlakatla","America/Yakutat","America/Nome","America/Adak","Pacific/Honolulu"]},{country:"Uruguay",abbr:"UY",zones:["America/Montevideo"]},{country:"Uzbekistan",abbr:"UZ",zones:["Asia/Samarkand","Asia/Tashkent"]},{country:"Vatican City",abbr:"VA",zones:["Europe/Rome","Europe/Vatican"]},{country:"St Vincent",abbr:"VC",zones:["America/Puerto_Rico","America/St_Vincent"]},{country:"Venezuela",abbr:"VE",zones:["America/Caracas"]},{country:"Virgin Islands (UK)",abbr:"VG",zones:["America/Puerto_Rico","America/Tortola"]},{country:"Virgin Islands (US)",abbr:"VI",zones:["America/Puerto_Rico","America/St_Thomas"]},{country:"Vietnam",abbr:"VN",zones:["Asia/Bangkok","Asia/Ho_Chi_Minh"]},{country:"Vanuatu",abbr:"VU",zones:["Pacific/Efate"]},{country:"Wallis & Futuna",abbr:"WF",zones:["Pacific/Tarawa","Pacific/Wallis"]},{country:"Samoa (western)",abbr:"WS",zones:["Pacific/Apia"]},{country:"Yemen",abbr:"YE",zones:["Asia/Riyadh","Asia/Aden"]},{country:"Mayotte",abbr:"YT",zones:["Africa/Nairobi","Indian/Mayotte"]},{country:"South Africa",abbr:"ZA",zones:["Africa/Johannesburg"]},{country:"Zambia",abbr:"ZM",zones:["Africa/Maputo","Africa/Lusaka"]},{country:"Zimbabwe",abbr:"ZW",zones:["Africa/Maputo","Africa/Harare"]}];function Kn(n,r){1&n&&e._UZ(0,"app-loader",15)}function $n(n,r){1&n&&e._UZ(0,"app-svg",16)}function Xn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}const eo=function(n){return{disabled:n}};let to=(()=>{class n{constructor(t){this.dataCarrier=t,this.countryList=Wn,this.loading=!1}ngOnInit(){this.editTileData&&this.prefillData()}prefillData(){this.selectedCountry=this.countryList.find(t=>t.country===this.editTileData.country),this.timeZoneList=this.selectedCountry.zones,this.city=this.editTileData.city,this.selectedTimeZone=this.editTileData.timezone,this.url=this.editTileData.url?this.editTileData.url:"",this.tileId=this.editTileData.id}onCountrySelect(t){this.selectedCountry&&(this.timeZoneList=this.selectedCountry.zones)}onZoneSelect(t){}inserTileData(){if(this.loading=!0,this.editTileData)this.updateTileData();else{const t=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0;this.tileId=t.username+"_location_"+(new Date).valueOf(),this.dataCarrier.setAddTileEvent({city:this.city,country:this.selectedCountry.country,timezone:this.selectedTimeZone,url:this.url,tile_id:this.tileId,type:"location_tile"})}}updateTileData(){this.dataCarrier.setUpdateTileEvent({city:this.city,country:this.selectedCountry.country,timezone:this.selectedTimeZone,url:this.url,tile_id:this.tileId,type:"location_tile"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-location"]],inputs:{editTileData:"editTileData"},decls:24,vars:21,consts:[[1,"add-tile-inner-wrapper"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","email"],["type","text","placeholder","Your city name",1,"text-body",3,"ngModel","ngModelChange"],["placeholder","Select your country","filterPlaceholder","Search","optionLabel","country",3,"autoDisplayFirst","options","ngModel","filter","ngModelChange","onChange"],[1,"input-label","text-body",3,"ngClass"],["placeholder","Select your time zone","scrollHeight","100px","optionLabel","","filterPlaceholder","Search",3,"disabled","options","autoDisplayFirst","ngModel","ngModelChange","onChange"],[1,"input-box"],["type","text","placeholder","Paste your location link",1,"text-body",3,"ngModel","ngModelChange"],["type","submit",1,"primary-button","text-body",3,"disabled","click"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"input",5),e.NdJ("ngModelChange",function(a){return i.city=a}),e.qZA()()(),e.TgZ(7,"div",2)(8,"div",3),e._uU(9),e.qZA(),e.TgZ(10,"p-dropdown",6),e.NdJ("ngModelChange",function(a){return i.selectedCountry=a})("onChange",function(a){return i.onCountrySelect(a)}),e.qZA()(),e.TgZ(11,"div",2)(12,"div",7),e._uU(13),e.qZA(),e.TgZ(14,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return i.selectedTimeZone=a})("onChange",function(a){return i.onZoneSelect(a)}),e.qZA()(),e.TgZ(15,"div",2)(16,"div",3),e._uU(17),e.qZA(),e.TgZ(18,"div",9)(19,"input",10),e.NdJ("ngModelChange",function(a){return i.url=a}),e.qZA()()()(),e.TgZ(20,"button",11),e.NdJ("click",function(){return i.inserTileData()}),e.YNc(21,Kn,1,0,"app-loader",12),e.YNc(22,$n,1,0,"app-svg",13),e.YNc(23,Xn,2,1,"span",14),e.qZA()()),2&t&&(e.xp6(4),e.hij(" ","City"," "),e.xp6(2),e.Q6J("ngModel",i.city),e.xp6(3),e.hij(" ","Country"," "),e.xp6(1),e.Q6J("autoDisplayFirst",!1)("options",i.countryList)("ngModel",i.selectedCountry)("filter",!0),e.xp6(2),e.Q6J("ngClass",e.VKq(19,eo,!i.timeZoneList)),e.xp6(1),e.hij(" ","Time zone"," "),e.xp6(1),e.Q6J("disabled",!i.timeZoneList)("options",i.timeZoneList)("autoDisplayFirst",!1)("ngModel",i.selectedTimeZone),e.xp6(3),e.hij(" ","Location link (optional)"," "),e.xp6(2),e.Q6J("ngModel",i.url),e.xp6(1),e.Q6J("disabled",!(i.city&&i.selectedCountry&&i.selectedTimeZone)||i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.editTileData&&!i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.mk,u.O5,h.Fj,h.JJ,h.On,N.H,V.R,Oe]}),n})();function io(n,r){1&n&&e._UZ(0,"app-loader",20)}function no(n,r){if(1&n&&e._UZ(0,"img",21),2&n){const t=e.oxw();e.Q6J("src",t.imageUrl,e.LSH)}}function oo(n,r){1&n&&e._UZ(0,"app-loader",22)}function ao(n,r){1&n&&e._UZ(0,"app-svg",23)}function ro(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}const so=function(n){return{"loader-active":n}};let lo=(()=>{class n{constructor(t,i,o,a){this.supabaseService=t,this.toastService=i,this.dataCarrier=o,this.imageCompressionService=a,this.imageUploadHeader="Choose an image",this.imageUploadBtnText="Browse image",this.imageUrl="/assets/images/image-placeholder.svg",this.enableButton=!1,this.imageLoading=0,this.loading=0,this.isImageChanged=!1,this.imageForm=new h.cw({caption:new h.NI("")})}ngOnInit(){this.prefillData(),this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0}prefillData(){this.editTileData&&(this.tileId=this.editTileData.id,this.imageUrl=this.editTileData.image_url,this.imageUploadHeader=this.editTileData.image_name,this.imageUploadBtnText="Change image",this.imageForm.get("caption")?.setValue(this.editTileData.caption?this.editTileData.caption:""),this.enableButton=!0)}selectFile(t){var i=this;return(0,m.Z)(function*(){t.target.files&&t.target.files.item(0)&&(i.imageLoading=1,i.uploadedImage=t.target.files.item(0),i.imageUploadHeader=i.uploadedImage.name,i.imageUploadBtnText="Change image",i.imageCompressionService.compressImage(i.uploadedImage,250).then(a=>{i.uploadedImage=a;const s=new FileReader;s.onload=l=>{i.imageUrl=l.target.result,i.isImageChanged=!0,i.enableButton=!0,i.imageLoading=0},s.readAsDataURL(i.uploadedImage)}).catch(a=>{i.imageLoading=0,i.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))})()}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}downloadImage(){var t=this;return(0,m.Z)(function*(){t.editTileData||(t.tileId=t.userDetails.username+"_photo_"+(new Date).valueOf()),t.loading++;const i=t.uploadedImage.type.replace(/(.*)\//g,""),o=t.tileId+(t.editTileData?(new Date).valueOf():"")+"."+i,a=new FormData;a.append("file",t.uploadedImage,o),t.supabaseService.uploadImage(t.userDetails.username+"/"+o,a).then(s=>{const l=t.supabaseService.getImageUrl(s.data.path).data.publicUrl;t.editTileData?t.updateTileData(l):t.insertTileData(l)}).catch(s=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})})()}addTile(){this.isImageChanged?this.downloadImage():this.editTileData?this.updateTileData(this.imageUrl):this.insertTileData(this.imageUrl)}updateTileData(t){this.loading++,this.dataCarrier.setUpdateTileEvent({caption:this.imageForm.value.caption,image_url:t,tile_id:this.tileId,type:"photo_tile",image_name:this.isImageChanged?this.imageUploadHeader:this.editTileData.image_name})}insertTileData(t){this.loading++,this.dataCarrier.setAddTileEvent({caption:this.imageForm.value.caption,image_url:t,tile_id:this.tileId,type:"photo_tile",image_name:this.imageUploadHeader})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(y.H),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-photo"]],inputs:{editTileData:"editTileData"},decls:25,vars:14,consts:[[1,"add-tile-inner-wrapper",3,"formGroup","submit"],[1,"add-tile-input-wrapper"],[1,"thumbnail-input-wrapper"],[1,"input-label","text-body"],[1,"image-upload-wrapper"],[1,"image-upload-left",3,"ngClass"],["class","image-loader",4,"ngIf"],[3,"src",4,"ngIf"],["for","img",1,"image-upload-right"],["hidden","","type","file","id","img","name","img","accept","image/*",3,"change"],[1,"image-upload-text","text-caption"],[1,"image-upload-button","text-caption"],["svgType","browse-image"],[1,"input-wrapper"],[1,"input-box"],["type","text","placeholder","Image caption","formControlName","caption",1,"text-body"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],[1,"image-loader"],[3,"src"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.addTile()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e.YNc(7,io,1,0,"app-loader",6),e.YNc(8,no,1,1,"img",7),e.qZA(),e.TgZ(9,"label",8)(10,"input",9),e.NdJ("change",function(a){return i.selectFile(a)}),e.qZA(),e.TgZ(11,"div",10),e._uU(12),e.qZA(),e.TgZ(13,"div",11),e._UZ(14,"app-svg",12),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",13)(17,"div",3),e._uU(18),e.qZA(),e.TgZ(19,"div",14),e._UZ(20,"input",15),e.qZA()()(),e.TgZ(21,"button",16),e.YNc(22,oo,1,0,"app-loader",17),e.YNc(23,ao,1,0,"app-svg",18),e.YNc(24,ro,2,1,"span",19),e.qZA()()),2&t&&(e.Q6J("formGroup",i.imageForm),e.xp6(4),e.hij(" ","Image"," "),e.xp6(2),e.Q6J("ngClass",e.VKq(12,so,0!==i.imageLoading)),e.xp6(1),e.Q6J("ngIf",0!==i.imageLoading),e.xp6(1),e.Q6J("ngIf",0===i.imageLoading),e.xp6(4),e.hij(" ",i.imageUploadHeader," "),e.xp6(3),e.hij(" ",i.imageUploadBtnText," "),e.xp6(3),e.hij(" ","Caption (optional)"," "),e.xp6(3),e.Q6J("disabled",!i.enableButton||!i.imageForm.valid||i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.editTileData&&!i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.mk,u.O5,h._Y,h.Fj,h.JJ,h.JL,N.H,V.R,h.sg,h.u],styles:[".image-upload-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;column-gap:12px}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-left[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.06);border-radius:8px;width:96px;height:96px;overflow:hidden;flex-shrink:0}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-left.loader-active[_ngcontent-%COMP%]{display:grid;place-content:center;background:rgba(255,255,255,.1)}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-left[_ngcontent-%COMP%]   .image-loader[_ngcontent-%COMP%]{display:grid;place-content:center;width:24px;height:24px;position:relative}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8px 8px 8px 12px;row-gap:12px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.06);border-radius:8px;order:1;align-self:stretch;flex-grow:1;cursor:pointer;text-align:center}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-right[_ngcontent-%COMP%]   .image-upload-text[_ngcontent-%COMP%]{color:#f9f9f966;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;line-break:anywhere}.image-upload-wrapper[_ngcontent-%COMP%]   .image-upload-right[_ngcontent-%COMP%]   .image-upload-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:6px 8px;column-gap:4px;border-radius:4px;color:#f9f9f9cc}"]}),n})();function co(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-link-input",2),e.NdJ("onLinkPreview",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onLinkPreview(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("link",t.url)}}function po(n,r){1&n&&e._UZ(0,"app-loader",42)}function mo(n,r){if(1&n&&e._UZ(0,"img",43),2&n){const t=e.oxw(3);e.Q6J("src",t.linkThumbnailUrl,e.LSH)}}function uo(n,r){1&n&&e._UZ(0,"app-svg",44)}function ho(n,r){1&n&&e._UZ(0,"app-svg",45)}const fe=function(n){return{selected:n}},Be=function(n){return{"loader-active":n}};function go(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onImageSelection("default"))}),e.TgZ(1,"div",17)(2,"div",18),e.YNc(3,po,1,0,"app-loader",19),e.YNc(4,mo,1,1,"img",40),e.qZA(),e.TgZ(5,"div",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",41),e.YNc(8,uo,1,0,"app-svg",31),e.YNc(9,ho,1,0,"app-svg",32),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,fe,"default"===t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,Be,0!==t.imageLoading)),e.xp6(1),e.Q6J("ngIf",0!==t.imageLoading),e.xp6(1),e.Q6J("ngIf",0===t.imageLoading),e.xp6(2),e.hij(" ","Image from link"," "),e.xp6(2),e.Q6J("ngIf","default"===t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType)}}function fo(n,r){1&n&&e._UZ(0,"app-loader",42)}function _o(n,r){1&n&&(e.TgZ(0,"label",46),e._UZ(1,"app-svg",47),e.qZA())}function bo(n,r){if(1&n&&e._UZ(0,"img",48),2&n){const t=e.oxw(2);e.Q6J("src",t.uploadedImageUrl,e.LSH)}}function vo(n,r){1&n&&e._UZ(0,"app-svg",44)}function wo(n,r){1&n&&e._UZ(0,"app-svg",45)}function xo(n,r){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,vo,1,0,"app-svg",31),e.YNc(2,wo,1,0,"app-svg",32),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"===t.selectedImageType)}}function To(n,r){1&n&&e._UZ(0,"app-svg",44)}function yo(n,r){1&n&&e._UZ(0,"app-svg",45)}function Io(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFavIconVisbility(!0))}),e.TgZ(1,"div",29)(2,"div",30),e.YNc(3,To,1,0,"app-svg",31),e.YNc(4,yo,1,0,"app-svg",32),e.qZA(),e.TgZ(5,"div",33),e._uU(6),e.qZA()(),e.TgZ(7,"div",34),e._UZ(8,"img",49),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(5,fe,t.showIcon)),e.xp6(3),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngIf",!t.showIcon),e.xp6(2),e.Oqu("Show Icon"),e.xp6(2),e.Q6J("src",t.favIconUrl,e.LSH)}}function Co(n,r){1&n&&e._UZ(0,"app-svg",44)}function So(n,r){1&n&&e._UZ(0,"app-svg",45)}function Ao(n,r){1&n&&e._UZ(0,"app-loader",50)}function ko(n,r){1&n&&e._UZ(0,"app-svg",51)}function Oo(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}function Do(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e._uU(4),e.qZA(),e.TgZ(5,"div",7)(6,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.url=o)}),e.qZA(),e.TgZ(7,"div",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editLink())}),e._UZ(8,"app-svg",10),e.TgZ(9,"div",11),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",5)(12,"div",6),e._uU(13),e.qZA(),e.TgZ(14,"div",12)(15,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.title=o)}),e.qZA()()(),e.TgZ(16,"div",14)(17,"div",6),e._uU(18),e.qZA(),e.YNc(19,go,10,11,"div",15),e.TgZ(20,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onImageSelection("custom"))}),e.TgZ(21,"div",17)(22,"div",18),e.YNc(23,fo,1,0,"app-loader",19),e.TgZ(24,"input",20),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectFile(o))}),e.qZA(),e.YNc(25,_o,2,0,"label",21),e.YNc(26,bo,1,1,"img",22),e.qZA(),e.TgZ(27,"div",23),e._uU(28),e.qZA()(),e.YNc(29,xo,3,2,"div",24),e.qZA()(),e.TgZ(30,"div",25)(31,"div",6),e._uU(32),e.qZA(),e.TgZ(33,"div",26),e.YNc(34,Io,9,7,"div",27),e.TgZ(35,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFavIconVisbility(!1))}),e.TgZ(36,"div",29)(37,"div",30),e.YNc(38,Co,1,0,"app-svg",31),e.YNc(39,So,1,0,"app-svg",32),e.qZA(),e.TgZ(40,"div",33),e._uU(41),e.qZA()(),e.TgZ(42,"div",34),e._UZ(43,"div",35),e.qZA()()()()(),e.TgZ(44,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addTile())}),e.YNc(45,Ao,1,0,"app-loader",37),e.YNc(46,ko,1,0,"app-svg",38),e.YNc(47,Oo,2,1,"span",39),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ","Video link"," "),e.xp6(2),e.Q6J("ngModel",t.url),e.xp6(4),e.Oqu("Edit"),e.xp6(3),e.hij(" ","Title"," "),e.xp6(2),e.Q6J("ngModel",t.title),e.xp6(3),e.hij(" ","Thumbnail image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(1),e.Q6J("ngClass",e.VKq(24,fe,"default"!==t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(26,Be,t.uploadedImageLoading)),e.xp6(1),e.Q6J("ngIf",t.uploadedImageLoading),e.xp6(2),e.Q6J("ngIf",!t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.uploadedImageUrl&&!t.uploadedImageLoading),e.xp6(2),e.hij(" ","Upload custom image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(3),e.hij(" ","Icon"," "),e.xp6(2),e.Q6J("ngIf",t.favIconUrl),e.xp6(1),e.Q6J("ngClass",e.VKq(28,fe,!t.showIcon)),e.xp6(3),e.Q6J("ngIf",!t.showIcon),e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(2),e.Oqu("Hide Icon"),e.xp6(3),e.Q6J("disabled",!t.enableButton||t.loading||t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.editTileData&&!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}let Eo=(()=>{class n{constructor(t,i,o,a){this.supabaseService=t,this.toastService=i,this.dataCarrier=o,this.imageCompressionService=a,this.selectedImageType="default",this.imageLoading=0,this.enableButton=!1,this.loading=0,this.imageChanged=!1,this.showIcon=!0,this.uploadedImageLoading=!1}ngOnInit(){this.prefillData(),this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0}prefillData(){this.editTileData&&(this.url=this.editTileData.url,this.tileId=this.editTileData.id)}onImageSelection(t){this.selectedImageType=t,this.enableButton=!("custom"===this.selectedImageType&&!this.uploadedImageUrl)}selectFile(t){var i=this;t.target.files&&t.target.files.item(0)&&(this.uploadedImageLoading=!0,this.uploadedImage=t.target.files.item(0),this.imageCompressionService.compressImage(this.uploadedImage,250).then(a=>{this.uploadedImage=a;const s=new FileReader;s.onload=function(){var l=(0,m.Z)(function*(d){i.uploadedImageUrl=d.target.result,i.imageChanged=!0,i.enableButton=!0,i.uploadedImageLoading=!1});return function(d){return l.apply(this,arguments)}}(),s.readAsDataURL(this.uploadedImage)}).catch(a=>{this.uploadedImageLoading=!1,console.log(a),this.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}addTile(){this.downloadImage()}downloadImage(){var t=this;return(0,m.Z)(function*(){if(t.tileId||(t.tileId=t.userDetails.username+"_video_"+(new Date).valueOf()),"default"===t.selectedImageType){const i=t.linkThumbnailUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i;if(t.loading++,t.showIcon){const a=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),s=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+a;Promise.all([t.supabaseService.downloadImage(t.linkThumbnailUrl),t.supabaseService.downloadImage(t.favIconUrl)]).then(l=>{const d=new FormData,p=t.setImageContentType(i),c=new Blob([l[0].data],{type:"image/"+p});d.append("file",c,o);const g=new FormData,x=t.setImageContentType(a),C=new Blob([l[1].data],{type:"image/"+x});g.append("file",C,s),t.uploadImage([{name:s,file:g},{name:o,file:d}])}).catch(l=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.supabaseService.downloadImage(t.linkThumbnailUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else if(!t.editTileData||t.editTileData&&t.imageChanged){const i=t.uploadedImage.type.replace(/(.*)\//g,""),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i,a=new FormData;if(a.append("file",t.uploadedImage,o),t.loading++,t.showIcon){const s=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),l=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+s;t.supabaseService.downloadImage(t.favIconUrl).then(d=>{const p=new FormData,c=t.setImageContentType(s),g=new Blob([d.data],{type:"image/"+c});p.append("file",g,l),t.uploadImage([{name:l,file:p},{name:o,file:a}])}).catch(d=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.uploadImage([{name:o,file:a}])}else if(t.showIcon){const i=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+i;t.loading++,t.supabaseService.downloadImage(t.favIconUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}})()}setImageContentType(t){let i=t;return"svg"===t?i="svg+xml":"ico"===t&&(i="x-icon"),i}uploadImage(t){var i=this;return(0,m.Z)(function*(){let o=[];t.forEach(a=>{o.push(i.supabaseService.uploadImage(i.userDetails.username+"/"+a.name,a.file))}),i.loading++,Promise.all(o).then(a=>{if(a.length>1){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl,l=i.supabaseService.getImageUrl(a[1].data.path).data.publicUrl;i.insertTileData(s,l)}else if(i.showIcon){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,i.uploadedImageUrl)}else{const s="",l=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,l)}}).catch(a=>{i.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{i.loading--})})()}insertTileData(t,i){this.loading++;const o={favicon_url:t,image_url:i,url:this.url,tile_id:this.tileId,title:this.title,type:"video_tile",is_custom_image:"custom"===this.selectedImageType,og_image_url:this.linkThumbnailUrl,og_favicon_url:this.favIconUrl};this.editTileData?this.dataCarrier.setUpdateTileEvent(o):this.dataCarrier.setAddTileEvent(o)}onLinkPreview(t){t&&(this.linkPreviewData=t,this.url=this.linkPreviewData.url,this.linkThumbnailUrl=this.linkPreviewData.linkThumbnailUrl,this.favIconUrl=this.linkPreviewData.favIconUrl,this.checkImageUrlValidity(),this.title=this.linkPreviewData.title,this.selectedImageType=this.linkThumbnailUrl&&this.linkThumbnailUrl.length?"default":"custom",this.enableButton=!(!this.linkThumbnailUrl||!this.linkThumbnailUrl.length)),this.editTileData&&(this.selectedImageType=this.editTileData.is_custom_image?"custom":"default",this.showIcon=!(!this.editTileData.favicon_url||!this.editTileData.favicon_url.length),"custom"===this.selectedImageType&&(this.uploadedImageUrl=this.editTileData.image_url,this.enableButton=!0))}checkImageUrlValidity(){const t=new Image;t.onerror=()=>{this.linkThumbnailUrl="",this.enableButton=!!this.uploadedImageUrl,this.selectedImageType="custom"},t.src=this.linkThumbnailUrl;const i=new Image;i.onerror=()=>{this.favIconUrl="",this.showIcon=!1},i.src=this.favIconUrl}editLink(){this.linkPreviewData=void 0}toggleFavIconVisbility(t){this.showIcon=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(y.H),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-video"]],inputs:{editTileData:"editTileData"},decls:2,vars:2,consts:[["label","Video link","placeholder","Paste video link",3,"link","onLinkPreview",4,"ngIf"],["class","add-tile-inner-wrapper",4,"ngIf"],["label","Video link","placeholder","Paste video link",3,"link","onLinkPreview"],[1,"add-tile-inner-wrapper"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","disabled-input"],["type","text","readonly","","disbled","",1,"text-body","pr-82",3,"ngModel","ngModelChange"],[1,"input-icon-wrapper","ab",3,"click"],["svgType","edit"],[1,"input-icon-label"],[1,"input-box"],["type","text",1,"text-body",3,"ngModel","ngModelChange"],[1,"thumbnail-input-wrapper"],["class","image-selection-wrapper",3,"ngClass","click",4,"ngIf"],[1,"image-selection-wrapper",3,"ngClass","click"],[1,"image-selection-left"],[1,"image-preview",3,"ngClass"],["class","image-loader",4,"ngIf"],["hidden","","type","file","id","img","name","img","accept","image/*",3,"change"],["for","img","class","cursor image-upload-icon",4,"ngIf"],[3,"src",4,"ngIf"],[1,"image-label","text-body"],["class","image-selection-right",4,"ngIf"],[1,"favicon-input-wrapper"],[1,"favicon-selection-wrapper"],["class","favicon-selection",3,"ngClass","click",4,"ngIf"],[1,"favicon-selection",3,"ngClass","click"],[1,"favicon-selection-top"],[1,"favicon-checkbox"],["svgType","checkbox-selected",4,"ngIf"],["svgType","checkbox-default",4,"ngIf"],[1,"favicon-selection-text","text-body"],[1,"favicon-selection-preview"],[1,"favicon"],["type","submit",1,"primary-button","text-body",3,"disabled","click"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],["id","image",3,"src",4,"ngIf"],[1,"image-selection-right"],[1,"image-loader"],["id","image",3,"src"],["svgType","checkbox-selected"],["svgType","checkbox-default"],["for","img",1,"cursor","image-upload-icon"],["svgType","browse-image-round"],[3,"src"],[1,"favicon",3,"src"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.YNc(0,co,1,1,"app-link-input",0),e.YNc(1,Do,48,30,"div",1)),2&t&&(e.Q6J("ngIf",!i.linkPreviewData),e.xp6(1),e.Q6J("ngIf",i.linkPreviewData))},dependencies:[u.mk,u.O5,h.Fj,h.JJ,h.On,N.H,V.R,Se]}),n})();function Po(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-link-input",2),e.NdJ("onLinkPreview",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onLinkPreview(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("link",t.url)}}function Lo(n,r){1&n&&e._UZ(0,"app-loader",42)}function Mo(n,r){if(1&n&&e._UZ(0,"img",43),2&n){const t=e.oxw(3);e.Q6J("src",t.linkThumbnailUrl,e.LSH)}}function No(n,r){1&n&&e._UZ(0,"app-svg",44)}function Zo(n,r){1&n&&e._UZ(0,"app-svg",45)}const _e=function(n){return{selected:n}},Ve=function(n){return{"loader-active":n}};function Uo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onImageSelection("default"))}),e.TgZ(1,"div",17)(2,"div",18),e.YNc(3,Lo,1,0,"app-loader",19),e.YNc(4,Mo,1,1,"img",40),e.qZA(),e.TgZ(5,"div",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",41),e.YNc(8,No,1,0,"app-svg",31),e.YNc(9,Zo,1,0,"app-svg",32),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,_e,"default"===t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,Ve,0!==t.imageLoading)),e.xp6(1),e.Q6J("ngIf",0!==t.imageLoading),e.xp6(1),e.Q6J("ngIf",0===t.imageLoading),e.xp6(2),e.hij(" ","Image from link"," "),e.xp6(2),e.Q6J("ngIf","default"===t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType)}}function zo(n,r){1&n&&e._UZ(0,"app-loader",42)}function Fo(n,r){1&n&&(e.TgZ(0,"label",46),e._UZ(1,"app-svg",47),e.qZA())}function Ro(n,r){if(1&n&&e._UZ(0,"img",48),2&n){const t=e.oxw(2);e.Q6J("src",t.uploadedImageUrl,e.LSH)}}function Jo(n,r){1&n&&e._UZ(0,"app-svg",44)}function Bo(n,r){1&n&&e._UZ(0,"app-svg",45)}function Vo(n,r){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,Jo,1,0,"app-svg",31),e.YNc(2,Bo,1,0,"app-svg",32),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","default"!==t.selectedImageType),e.xp6(1),e.Q6J("ngIf","default"===t.selectedImageType)}}function Ho(n,r){1&n&&e._UZ(0,"app-svg",44)}function Go(n,r){1&n&&e._UZ(0,"app-svg",45)}function jo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleFavIconVisbility(!0))}),e.TgZ(1,"div",29)(2,"div",30),e.YNc(3,Ho,1,0,"app-svg",31),e.YNc(4,Go,1,0,"app-svg",32),e.qZA(),e.TgZ(5,"div",33),e._uU(6),e.qZA()(),e.TgZ(7,"div",34),e._UZ(8,"img",49),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(5,_e,t.showIcon)),e.xp6(3),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngIf",!t.showIcon),e.xp6(2),e.Oqu("Show Icon"),e.xp6(2),e.Q6J("src",t.favIconUrl,e.LSH)}}function Qo(n,r){1&n&&e._UZ(0,"app-svg",44)}function qo(n,r){1&n&&e._UZ(0,"app-svg",45)}function Yo(n,r){1&n&&e._UZ(0,"app-loader",50)}function Wo(n,r){1&n&&e._UZ(0,"app-svg",51)}function Ko(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}function $o(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e._uU(4),e.qZA(),e.TgZ(5,"div",7)(6,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.url=o)}),e.qZA(),e.TgZ(7,"div",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editLink())}),e._UZ(8,"app-svg",10),e.TgZ(9,"div",11),e._uU(10),e.qZA()()()(),e.TgZ(11,"div",5)(12,"div",6),e._uU(13),e.qZA(),e.TgZ(14,"div",12)(15,"input",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.title=o)}),e.qZA()()(),e.TgZ(16,"div",14)(17,"div",6),e._uU(18),e.qZA(),e.YNc(19,Uo,10,11,"div",15),e.TgZ(20,"div",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onImageSelection("custom"))}),e.TgZ(21,"div",17)(22,"div",18),e.YNc(23,zo,1,0,"app-loader",19),e.TgZ(24,"input",20),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.selectFile(o))}),e.qZA(),e.YNc(25,Fo,2,0,"label",21),e.YNc(26,Ro,1,1,"img",22),e.qZA(),e.TgZ(27,"div",23),e._uU(28),e.qZA()(),e.YNc(29,Vo,3,2,"div",24),e.qZA()(),e.TgZ(30,"div",25)(31,"div",6),e._uU(32),e.qZA(),e.TgZ(33,"div",26),e.YNc(34,jo,9,7,"div",27),e.TgZ(35,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFavIconVisbility(!1))}),e.TgZ(36,"div",29)(37,"div",30),e.YNc(38,Qo,1,0,"app-svg",31),e.YNc(39,qo,1,0,"app-svg",32),e.qZA(),e.TgZ(40,"div",33),e._uU(41),e.qZA()(),e.TgZ(42,"div",34),e._UZ(43,"div",35),e.qZA()()()()(),e.TgZ(44,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addTile())}),e.YNc(45,Yo,1,0,"app-loader",37),e.YNc(46,Wo,1,0,"app-svg",38),e.YNc(47,Ko,2,1,"span",39),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ","Music link"," "),e.xp6(2),e.Q6J("ngModel",t.url),e.xp6(4),e.Oqu("Edit"),e.xp6(3),e.hij(" ","Title"," "),e.xp6(2),e.Q6J("ngModel",t.title),e.xp6(3),e.hij(" ","Thumbnail image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(1),e.Q6J("ngClass",e.VKq(24,_e,"default"!==t.selectedImageType)),e.xp6(2),e.Q6J("ngClass",e.VKq(26,Ve,t.uploadedImageLoading)),e.xp6(1),e.Q6J("ngIf",t.uploadedImageLoading),e.xp6(2),e.Q6J("ngIf",!t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.uploadedImageUrl&&!t.uploadedImageLoading),e.xp6(2),e.hij(" ","Upload custom image"," "),e.xp6(1),e.Q6J("ngIf",t.linkThumbnailUrl&&t.linkThumbnailUrl.length),e.xp6(3),e.hij(" ","Icon"," "),e.xp6(2),e.Q6J("ngIf",t.favIconUrl),e.xp6(1),e.Q6J("ngClass",e.VKq(28,_e,!t.showIcon)),e.xp6(3),e.Q6J("ngIf",!t.showIcon),e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(2),e.Oqu("Hide Icon"),e.xp6(3),e.Q6J("disabled",!t.enableButton||t.loading||t.uploadedImageLoading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.editTileData&&!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}let Xo=(()=>{class n{constructor(t,i,o,a){this.supabaseService=t,this.toastService=i,this.dataCarrier=o,this.imageCompressionService=a,this.selectedImageType="default",this.imageLoading=0,this.enableButton=!1,this.loading=0,this.imageChanged=!1,this.showIcon=!0,this.uploadedImageLoading=!1}ngOnInit(){this.prefillData(),this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0}prefillData(){this.editTileData&&(this.url=this.editTileData.url,this.tileId=this.editTileData.id)}onImageSelection(t){this.selectedImageType=t,this.enableButton=!("custom"===this.selectedImageType&&!this.uploadedImageUrl)}selectFile(t){var i=this;t.target.files&&t.target.files.item(0)&&(this.uploadedImageLoading=!0,this.uploadedImage=t.target.files.item(0),this.imageCompressionService.compressImage(this.uploadedImage,250).then(a=>{this.uploadedImage=a;const s=new FileReader;s.onload=function(){var l=(0,m.Z)(function*(d){i.uploadedImageUrl=d.target.result,i.imageChanged=!0,i.enableButton=!0,i.uploadedImageLoading=!1});return function(d){return l.apply(this,arguments)}}(),s.readAsDataURL(this.uploadedImage)}).catch(a=>{this.uploadedImageLoading=!1,console.log(a),this.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}addTile(){this.downloadImage()}downloadImage(){var t=this;return(0,m.Z)(function*(){if(t.tileId||(t.tileId=t.userDetails.username+"_music_"+(new Date).valueOf()),"default"===t.selectedImageType){const i=t.linkThumbnailUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i;if(t.loading++,t.showIcon){const a=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),s=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+a;Promise.all([t.supabaseService.downloadImage(t.linkThumbnailUrl),t.supabaseService.downloadImage(t.favIconUrl)]).then(l=>{const d=new FormData,p=t.setImageContentType(i),c=new Blob([l[0].data],{type:"image/"+p});d.append("file",c,o);const g=new FormData,x=t.setImageContentType(a),C=new Blob([l[1].data],{type:"image/"+x});g.append("file",C,s),t.uploadImage([{name:s,file:g},{name:o,file:d}])}).catch(l=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.supabaseService.downloadImage(t.linkThumbnailUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else if(!t.editTileData||t.editTileData&&t.imageChanged){const i=t.uploadedImage.type.replace(/(.*)\//g,""),o=t.tileId+"_image"+(t.editTileData?(new Date).valueOf():"")+"."+i,a=new FormData;if(a.append("file",t.uploadedImage,o),t.loading++,t.showIcon){const s=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),l=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+s;t.supabaseService.downloadImage(t.favIconUrl).then(d=>{const p=new FormData,c=t.setImageContentType(s),g=new Blob([d.data],{type:"image/"+c});p.append("file",g,l),t.uploadImage([{name:l,file:p},{name:o,file:a}])}).catch(d=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}else t.uploadImage([{name:o,file:a}])}else if(t.showIcon){const i=t.favIconUrl.match(/\.(\w+)(?:$|\?|#)/)?.[1].trim(),o=t.tileId+"_favicon"+(t.editTileData?(new Date).valueOf():"")+"."+i;t.loading++,t.supabaseService.downloadImage(t.favIconUrl).then(a=>{const s=new FormData,l=t.setImageContentType(i),d=new Blob([a.data],{type:"image/"+l});s.append("file",d,o),t.uploadImage([{name:o,file:s}])}).catch(a=>{t.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{t.loading--})}})()}setImageContentType(t){let i=t;return"svg"===t?i="svg+xml":"ico"===t&&(i="x-icon"),i}uploadImage(t){var i=this;return(0,m.Z)(function*(){let o=[];t.forEach(a=>{o.push(i.supabaseService.uploadImage(i.userDetails.username+"/"+a.name,a.file))}),i.loading++,Promise.all(o).then(a=>{if(a.length>1){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl,l=i.supabaseService.getImageUrl(a[1].data.path).data.publicUrl;i.insertTileData(s,l)}else if(i.showIcon){const s=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,i.uploadedImageUrl)}else{const s="",l=i.supabaseService.getImageUrl(a[0].data.path).data.publicUrl;i.insertTileData(s,l)}}).catch(a=>{i.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{i.loading--})})()}insertTileData(t,i){this.loading++;const o={favicon_url:t,image_url:i,url:this.url,tile_id:this.tileId,title:this.title,type:"music_tile",is_custom_image:"custom"===this.selectedImageType,og_image_url:this.linkThumbnailUrl,og_favicon_url:this.favIconUrl};this.editTileData?this.dataCarrier.setUpdateTileEvent(o):this.dataCarrier.setAddTileEvent(o)}onLinkPreview(t){t&&(this.linkPreviewData=t,this.url=this.linkPreviewData.url,this.linkThumbnailUrl=this.linkPreviewData.linkThumbnailUrl,this.favIconUrl=this.linkPreviewData.favIconUrl,this.checkImageUrlValidity(),this.title=this.linkPreviewData.title,this.selectedImageType=this.linkThumbnailUrl&&this.linkThumbnailUrl.length?"default":"custom",this.enableButton=!(!this.linkThumbnailUrl||!this.linkThumbnailUrl.length)),this.editTileData&&(this.selectedImageType=this.editTileData.is_custom_image?"custom":"default",this.showIcon=!(!this.editTileData.favicon_url||!this.editTileData.favicon_url.length),"custom"===this.selectedImageType&&(this.uploadedImageUrl=this.editTileData.image_url,this.enableButton=!0))}checkImageUrlValidity(){const t=new Image;t.onerror=()=>{this.linkThumbnailUrl="",this.enableButton=!!this.uploadedImageUrl,this.selectedImageType="custom"},t.src=this.linkThumbnailUrl;const i=new Image;i.onerror=()=>{this.favIconUrl="",this.showIcon=!1},i.src=this.favIconUrl}editLink(){this.linkPreviewData=void 0}toggleFavIconVisbility(t){this.showIcon=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(y.H),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-music"]],inputs:{editTileData:"editTileData"},decls:2,vars:2,consts:[["label","Music link","placeholder","Music link from Spotify, Apple music...",3,"link","onLinkPreview",4,"ngIf"],["class","add-tile-inner-wrapper",4,"ngIf"],["label","Music link","placeholder","Music link from Spotify, Apple music...",3,"link","onLinkPreview"],[1,"add-tile-inner-wrapper"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","disabled-input"],["readonly","","disabled","",1,"text-body","pr-82",3,"ngModel","ngModelChange"],[1,"input-icon-wrapper","ab",3,"click"],["svgType","edit"],[1,"input-icon-label"],[1,"input-box"],["type","text",1,"text-body",3,"ngModel","ngModelChange"],[1,"thumbnail-input-wrapper"],["class","image-selection-wrapper",3,"ngClass","click",4,"ngIf"],[1,"image-selection-wrapper",3,"ngClass","click"],[1,"image-selection-left"],[1,"image-preview",3,"ngClass"],["class","image-loader",4,"ngIf"],["hidden","","type","file","id","img","name","img","accept","image/*",3,"change"],["for","img","class","cursor image-upload-icon",4,"ngIf"],[3,"src",4,"ngIf"],[1,"image-label","text-body"],["class","image-selection-right",4,"ngIf"],[1,"favicon-input-wrapper"],[1,"favicon-selection-wrapper"],["class","favicon-selection",3,"ngClass","click",4,"ngIf"],[1,"favicon-selection",3,"ngClass","click"],[1,"favicon-selection-top"],[1,"favicon-checkbox"],["svgType","checkbox-selected",4,"ngIf"],["svgType","checkbox-default",4,"ngIf"],[1,"favicon-selection-text","text-body"],[1,"favicon-selection-preview"],[1,"favicon"],["type","submit",1,"primary-button","text-body",3,"disabled","click"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],["id","image",3,"src",4,"ngIf"],[1,"image-selection-right"],[1,"image-loader"],["id","image",3,"src"],["svgType","checkbox-selected"],["svgType","checkbox-default"],["for","img",1,"cursor","image-upload-icon"],["svgType","browse-image-round"],[3,"src"],[1,"favicon",3,"src"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.YNc(0,Po,1,1,"app-link-input",0),e.YNc(1,$o,48,30,"div",1)),2&t&&(e.Q6J("ngIf",!i.linkPreviewData),e.xp6(1),e.Q6J("ngIf",i.linkPreviewData))},dependencies:[u.mk,u.O5,h.Fj,h.JJ,h.On,N.H,V.R,Se]}),n})();function ea(n,r){1&n&&e._UZ(0,"app-loader",10)}function ta(n,r){1&n&&e._UZ(0,"app-svg",11)}function ia(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.editTileData?"Save changes":"Add Tile")}}let na=(()=>{class n{constructor(t){this.dataCarrier=t,this.loading=!1,this.groupForm=new h.cw({groupTitle:new h.NI("",h.kI.compose([h.kI.required]))})}ngOnInit(){this.editTileData&&this.setPrefillData()}setPrefillData(){this.groupForm.get("groupTitle").setValue(this.editTileData.title)}inserTileData(){if(this.loading=!0,this.editTileData)this.updateTileData();else{const t=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0;this.tileId=t.username+"_group_title_"+(new Date).valueOf(),this.dataCarrier.setAddTileEvent({title:this.groupForm.value.groupTitle,tile_id:this.tileId,type:"group_title"})}}updateTileData(){this.dataCarrier.setUpdateTileEvent({title:this.groupForm.value.groupTitle,tile_id:this.editTileData.id,type:"group_title"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-group-title"]],inputs:{editTileData:"editTileData"},decls:11,vars:6,consts:[[1,"add-tile-inner-wrapper",3,"formGroup","submit"],[1,"add-tile-input-wrapper"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box","email"],["type","text","placeholder","Name group title","formControlName","groupTitle",1,"text-body"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],["class","button-icon","svgType","add-tile-black",4,"ngIf"],[4,"ngIf"],[1,"button-loader"],["svgType","add-tile-black",1,"button-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.inserTileData()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"input",5),e.qZA()()(),e.TgZ(7,"button",6),e.YNc(8,ea,1,0,"app-loader",7),e.YNc(9,ta,1,0,"app-svg",8),e.YNc(10,ia,2,1,"span",9),e.qZA()()),2&t&&(e.Q6J("formGroup",i.groupForm),e.xp6(4),e.hij(" ","Title"," "),e.xp6(3),e.Q6J("disabled",!i.groupForm.valid||i.loading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.editTileData&&!i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.O5,h._Y,h.Fj,h.JJ,h.JL,N.H,V.R,h.sg,h.u]}),n})();function oa(n,r){1&n&&(e.TgZ(0,"label",21),e._UZ(1,"app-svg",22),e.qZA())}function aa(n,r){1&n&&e._UZ(0,"app-loader",23)}function ra(n,r){1&n&&(e.TgZ(0,"label",24),e._UZ(1,"app-svg",22),e.qZA())}function sa(n,r){1&n&&e._UZ(0,"app-loader",23)}function la(n,r){1&n&&e._UZ(0,"app-loader",25)}function da(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("Save changes"))}const He=function(n){return{"background-image":n}};let ca=(()=>{class n{constructor(t,i,o,a){this.supabaseService=t,this.toastService=i,this.dataCarrier=o,this.imageCompressionService=a,this.headerForm=new h.cw({bio:new h.NI(""),name:new h.NI("",h.kI.required)}),this.loading=!1,this.coverPicUrl="assets/images/default-cover.png",this.avatarUrl="assets/images/default-avatar.png",this.avatarLoading=!1,this.coverLoading=!1}ngOnInit(){this.userDetails=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0,this.tileId=this.userDetails.username+"_header_"+(new Date).valueOf(),this.prefillData()}prefillData(){if(this.editTileData){let t="";this.editTileData.user_bio&&this.editTileData.user_bio.length&&(t=this.editTileData.user_bio.substring(0,200)),this.headerForm.get("name")?.setValue(this.editTileData.full_name),this.headerForm.get("bio")?.setValue(t),this.avatarUrl=this.editTileData.avatar_url?this.editTileData.avatar_url:this.avatarUrl,this.coverPicUrl=this.editTileData.cover_url?this.editTileData.cover_url:this.coverPicUrl}}selectAvatar(t){var i=this;return(0,m.Z)(function*(){t.target.files&&t.target.files.item(0)&&(i.avatarLoading=!0,i.uploadedAvatar=t.target.files.item(0),i.imageCompressionService.compressImage(i.uploadedAvatar,250).then(a=>{i.uploadedAvatar=a;const s=new FileReader;s.onload=function(){var l=(0,m.Z)(function*(d){i.avatarUrl=d.target.result,i.avatarLoading=!1});return function(d){return l.apply(this,arguments)}}(),s.readAsDataURL(i.uploadedAvatar)}).catch(a=>{i.avatarLoading=!1,console.log(a),i.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))})()}convertToBlob(t){return(0,m.Z)(function*(){return(yield fetch(t)).blob()})()}selectCover(t){var i=this;t.target.files&&t.target.files.item(0)&&(this.coverLoading=!0,this.uploadedCover=t.target.files.item(0),this.imageCompressionService.compressImage(this.uploadedCover,250).then(a=>{this.uploadedCover=a;const s=new FileReader;s.onload=function(){var l=(0,m.Z)(function*(d){i.coverPicUrl=d.target.result,i.coverLoading=!1});return function(d){return l.apply(this,arguments)}}(),s.readAsDataURL(this.uploadedCover)}).catch(a=>{this.coverLoading=!1,console.log(a),this.toastService.addToast({message:"Image compression failed. Please try with a reduced size image.",type:"error",additionalData:{error:new Error("Something went wrong")}})}))}editHeader(){this.loading=!0;let t,i,o=[];if(this.uploadedAvatar){const a=this.uploadedAvatar.type.replace(/(.*)\//g,""),s=this.tileId+"_avatar."+a;t=new FormData,t.append("file",this.uploadedAvatar,s),o.push(this.supabaseService.uploadImage(this.userDetails.username+"/"+s,t))}if(this.uploadedCover){const a=this.uploadedCover.type.replace(/(.*)\//g,""),s=this.tileId+"_cover."+a;i=new FormData,i.append("file",this.uploadedCover,s),o.push(this.supabaseService.uploadImage(this.userDetails.username+"/"+s,i))}o.length>0?this.uploadImage(o):this.updateHeaderData()}uploadImage(t){var i=this;return(0,m.Z)(function*(){Promise.all(t).then(o=>{o.length>1?(i.avatarUrl=i.supabaseService.getImageUrl(o[0].data.path).data.publicUrl,i.coverPicUrl=i.supabaseService.getImageUrl(o[1].data.path).data.publicUrl):i.uploadedAvatar?i.avatarUrl=i.supabaseService.getImageUrl(o[0].data.path).data.publicUrl:i.uploadedCover&&(i.coverPicUrl=i.supabaseService.getImageUrl(o[0].data.path).data.publicUrl),i.updateHeaderData()}).catch(o=>{i.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).finally(()=>{i.loading=!1})})()}updateHeaderData(){const t=this.editTileData;t.full_name=this.headerForm.value.name,t.user_bio=this.headerForm.value.bio,t.cover_url=this.coverPicUrl,t.avatar_url=this.avatarUrl,delete t.type,this.dataCarrier.setUpdateTileEvent(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(y.H),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["edit-header"]],inputs:{editTileData:"editTileData"},decls:27,vars:16,consts:[[1,"add-tile-inner-wrapper","header-editor-inner",3,"formGroup","submit"],[1,"add-tile-input-wrapper"],[1,"profile-images-wrapper"],[1,"profile-images-inner",3,"ngStyle"],[1,"avatar-wrapper"],[1,"avatar",3,"ngStyle"],[1,"avatar-pic-selector","image-selector"],["hidden","","type","file","id","img","name","img","accept","image/*",3,"change"],["for","img","class","cursor",4,"ngIf"],["class","image-loader",4,"ngIf"],[1,"cover-pic-selector","image-selector"],["hidden","","type","file","id","cover-img","name","cover-img","accept","image/*",3,"change"],["for","cover-img","class","cursor",4,"ngIf"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box"],["type","text","placeholder","Your full name","formControlName","name",1,"text-body"],["rows","5","type","text","placeholder","Introduce yourself to your visitors","formControlName","bio","maxlength","200",1,"text-body"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],[4,"ngIf"],["for","img",1,"cursor"],["svgType","browse-image-round"],[1,"image-loader"],["for","cover-img",1,"cursor"],[1,"button-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(){return i.editHeader()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"input",7),e.NdJ("change",function(a){return i.selectAvatar(a)}),e.qZA(),e.YNc(8,oa,2,0,"label",8),e.YNc(9,aa,1,0,"app-loader",9),e.qZA()()(),e.TgZ(10,"div",10)(11,"input",11),e.NdJ("change",function(a){return i.selectCover(a)}),e.qZA(),e.YNc(12,ra,2,0,"label",12),e.YNc(13,sa,1,0,"app-loader",9),e.qZA()()(),e.TgZ(14,"div",13)(15,"div",14),e._uU(16),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"input",16),e.qZA()(),e.TgZ(19,"div",13)(20,"div",14),e._uU(21),e.qZA(),e.TgZ(22,"div",15),e._UZ(23,"textarea",17),e.qZA()()(),e.TgZ(24,"button",18),e.YNc(25,la,1,0,"app-loader",19),e.YNc(26,da,2,1,"span",20),e.qZA()()),2&t&&(e.Q6J("formGroup",i.headerForm),e.xp6(3),e.Q6J("ngStyle",e.VKq(12,He,"url("+i.coverPicUrl+")")),e.xp6(2),e.Q6J("ngStyle",e.VKq(14,He,"url("+i.avatarUrl+")")),e.xp6(3),e.Q6J("ngIf",!i.avatarLoading),e.xp6(1),e.Q6J("ngIf",i.avatarLoading),e.xp6(3),e.Q6J("ngIf",!i.coverLoading),e.xp6(1),e.Q6J("ngIf",i.coverLoading),e.xp6(3),e.hij(" ","Name"," "),e.xp6(5),e.hij(" ","Bio"," "),e.xp6(3),e.Q6J("disabled",!i.headerForm.valid||i.loading||i.avatarLoading||i.coverLoading),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.O5,u.PC,h._Y,h.Fj,h.JJ,h.JL,h.nD,N.H,V.R,h.sg,h.u],styles:[".header-editor-inner[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:transparent;padding:8px 8px 8px 12px}.header-editor-inner[_ngcontent-%COMP%]   .profile-images-wrapper[_ngcontent-%COMP%]{width:100%;height:120px;border:1px solid rgba(255,255,255,.06);border-radius:24px 24px 8px 8px;overflow:hidden;position:relative}.header-editor-inner[_ngcontent-%COMP%]   .profile-images-wrapper[_ngcontent-%COMP%]   .profile-images-inner[_ngcontent-%COMP%]{width:100%;height:100%;background-repeat:no-repeat;background-size:cover;display:grid;place-content:center}.header-editor-inner[_ngcontent-%COMP%]   .profile-images-wrapper[_ngcontent-%COMP%]   .profile-images-inner[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:absolute;width:88px;height:88px;left:24px;top:24px;border:2px solid rgba(255,255,255,.6);border-radius:500px;overflow:hidden}.header-editor-inner[_ngcontent-%COMP%]   .profile-images-wrapper[_ngcontent-%COMP%]   .profile-images-inner[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100%;height:100%;background-repeat:no-repeat;background-size:cover;background-position:center;display:grid;place-content:center}.header-editor-inner[_ngcontent-%COMP%]   .image-loader[_ngcontent-%COMP%]{display:grid;place-content:center;width:24px;height:24px;position:relative}"]}),n})();const pa=function(n){return{active:n}};function ma(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.setTheme(a.theme))}),e.TgZ(1,"div",6),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(2,pa,i.selectedTheme===t.theme)),e.xp6(2),e.hij(" ",t.label," ")}}function ua(n,r){1&n&&e._UZ(0,"app-loader",7)}function ha(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("Save"))}let ga=(()=>{class n{constructor(t,i,o,a){this.themeService=t,this.dataCarrier=i,this.supabaseService=o,this.toastService=a,this.selectedTheme="default",this.isDarkThemeActive=!1,this.systemTheme="light",this.loading=!1}ngOnInit(){this.themesOptions=[{theme:"default",label:"Default"},{theme:"light",label:"Light"},{theme:"dark",label:"Dark"}],this.checkDefaultTheme()}checkDefaultTheme(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.systemTheme="dark",this.isDarkThemeActive=!0)}setTheme(t){this.selectedTheme=t;let i="default"===t?this.systemTheme:t;"dark"!==i?this.themeService.setLightTheme():this.themeService.setDarkTheme(),this.dataCarrier.setThemChangeEvent(i)}saveTheme(){this.loading=!0,this.supabaseService.saveTheme(this.selectedTheme).then(t=>{this.loading=!1,null===t||t&&t.error?(this.loading=!1,this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}})):this.dataCarrier.setThemSavedEvent(this.selectedTheme)}).catch(t=>{this.loading=!1,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.f),e.Y36(y.H),e.Y36(A.T),e.Y36(w.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["select-theme"]],inputs:{themeData:"themeData",selectedTheme:"selectedTheme"},decls:5,vars:4,consts:[[1,"themes-wrapper"],["class","themes-options",3,"ngClass","click",4,"ngFor","ngForOf"],["type","submit",1,"primary-button","text-body",3,"disabled","click"],["class","button-loader",4,"ngIf"],[4,"ngIf"],[1,"themes-options",3,"ngClass","click"],[1,"themes-label"],[1,"button-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ma,3,4,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return i.saveTheme()}),e.YNc(3,ua,1,0,"app-loader",3),e.YNc(4,ha,2,1,"span",4),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.themesOptions),e.xp6(1),e.Q6J("disabled",!1),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.mk,u.sg,u.O5,V.R],styles:[".themes-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:16px;overflow-y:auto;flex:1;overflow-x:hidden}.themes-wrapper[_ngcontent-%COMP%]   .themes-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:16px;column-gap:16px;border-radius:8px;cursor:pointer;flex:none}.themes-wrapper[_ngcontent-%COMP%]   .themes-options[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.themes-wrapper[_ngcontent-%COMP%]   .themes-options.active[_ngcontent-%COMP%]{background:rgba(255,255,255,.4)}"]}),n})();function fa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onOptionSelection(a))}),e.TgZ(1,"div",12),e._UZ(2,"app-svg",4),e.qZA(),e.TgZ(3,"div",13),e._uU(4),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("svgType",t.icon),e.xp6(2),e.hij(" ",t.label," ")}}function _a(n,r){if(1&n&&(e.TgZ(0,"div",9),e.YNc(1,fa,5,2,"div",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.addTileOptions)}}function ba(n,r){if(1&n&&e._UZ(0,"add-link",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function va(n,r){if(1&n&&e._UZ(0,"add-group-title",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function wa(n,r){if(1&n&&e._UZ(0,"add-location",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function xa(n,r){if(1&n&&e._UZ(0,"add-music",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function Ta(n,r){if(1&n&&e._UZ(0,"add-photo",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function ya(n,r){if(1&n&&e._UZ(0,"add-social",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function Ia(n,r){if(1&n&&e._UZ(0,"add-video",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function Ca(n,r){if(1&n&&e._UZ(0,"edit-header",17),2&n){const t=e.oxw(2);e.Q6J("editTileData",t.editTileData)}}function Sa(n,r){if(1&n&&e._UZ(0,"select-theme",18),2&n){const t=e.oxw(2);e.Q6J("themeData",t.editTileData)("selectedTheme",t.selectedTheme)}}function Aa(n,r){if(1&n&&(e.TgZ(0,"div",9),e.ynx(1,14),e.YNc(2,ba,1,1,"add-link",15),e.YNc(3,va,1,1,"add-group-title",15),e.YNc(4,wa,1,1,"add-location",15),e.YNc(5,xa,1,1,"add-music",15),e.YNc(6,Ta,1,1,"add-photo",15),e.YNc(7,ya,1,1,"add-social",15),e.YNc(8,Ia,1,1,"add-video",15),e.YNc(9,Ca,1,1,"edit-header",15),e.YNc(10,Sa,1,2,"select-theme",16),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.selectedOption.type),e.xp6(1),e.Q6J("ngSwitchCase","link_tile"),e.xp6(1),e.Q6J("ngSwitchCase","group_title"),e.xp6(1),e.Q6J("ngSwitchCase","location_tile"),e.xp6(1),e.Q6J("ngSwitchCase","music_tile"),e.xp6(1),e.Q6J("ngSwitchCase","photo_tile"),e.xp6(1),e.Q6J("ngSwitchCase","social_tile"),e.xp6(1),e.Q6J("ngSwitchCase","video_tile"),e.xp6(1),e.Q6J("ngSwitchCase","header"),e.xp6(1),e.Q6J("ngSwitchCase","themes")}}let ka=(()=>{class n{constructor(){this.headerText="Add Tile",this.headerIcon="add-tile",this.isHeaderSelected=!1,this.onClosed=new e.vpe,this.selectedTheme="default"}ngOnInit(){this.addTileOptions=[{type:"link_tile",label:"Link",icon:"add-link",header:"Add Link",edit_header:"Edit Link"},{type:"social_tile",label:"Social",icon:"add-social",header:"Add Social",edit_header:"Edit Social"},{type:"location_tile",label:"Location",icon:"add-location",header:"Add Location",edit_header:"Edit Location"},{type:"photo_tile",label:"Image",icon:"add-photo",header:"Add Image",edit_header:"Edit Image"},{type:"video_tile",label:"Video",icon:"add-video",header:"Add Video",edit_header:"Edit Video"},{type:"music_tile",label:"Music",icon:"add-music",header:"Add Music",edit_header:"Edit Music"},{type:"group_title",label:"Group Title",icon:"add-group-title",header:"Add Group Title",edit_header:"Edit Group Title"}],this.setEditTileData()}setEditTileData(){this.editTileData&&("header"===this.editTileData.type?(this.selectedOption={type:"header"},this.headerText="Edit Header",this.headerIcon="edit-tile"):"themes"===this.editTileData.type?(this.selectedOption={type:"themes"},this.headerText="Themes",this.headerIcon="themes"):(this.selectedOption=this.addTileOptions.find(t=>t.type===this.editTileData.type),this.headerText=this.selectedOption.edit_header,this.headerIcon="edit-tile"))}onOptionSelection(t){this.selectedOption=t,this.headerText=t.header,this.headerIcon="back"}onBackClick(){"back"===this.headerIcon&&(this.headerText="Add Tile",this.headerIcon="add",this.selectedOption=void 0)}close(){this.onClosed.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["add-tile-main"]],inputs:{editTileData:"editTileData",isHeaderSelected:"isHeaderSelected",selectedTheme:"selectedTheme"},outputs:{onClosed:"onClosed"},decls:11,vars:5,consts:[[1,"add-tile-main-wrapper"],[1,"add-tile-top-wrapper"],[1,"add-tile-top-left"],[1,"add-tile-header-icon",3,"ngClass","click"],[3,"svgType"],[1,"add-tile-header-text","h3"],[1,"add-tile-top-right",3,"click"],["svgType","close"],["class","add-tile-content-wrapper",4,"ngIf"],[1,"add-tile-content-wrapper"],["class","add-tile-option",3,"click",4,"ngFor","ngForOf"],[1,"add-tile-option",3,"click"],[1,"add-tile-icon"],[1,"add-tile-label","h4"],[3,"ngSwitch"],["class","add-tile-content",3,"editTileData",4,"ngSwitchCase"],["class","add-tile-content",3,"themeData","selectedTheme",4,"ngSwitchCase"],[1,"add-tile-content",3,"editTileData"],[1,"add-tile-content",3,"themeData","selectedTheme"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return i.onBackClick()}),e._UZ(4,"app-svg",4),e.qZA(),e.TgZ(5,"div",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6),e.NdJ("click",function(){return i.close()}),e._UZ(8,"app-svg",7),e.qZA()(),e.YNc(9,_a,2,1,"div",8),e.YNc(10,Aa,11,10,"div",8),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngClass",i.headerIcon),e.xp6(1),e.Q6J("svgType",i.headerIcon),e.xp6(2),e.hij(" ",i.headerText," "),e.xp6(3),e.Q6J("ngIf",!i.selectedOption),e.xp6(1),e.Q6J("ngIf",i.selectedOption))},dependencies:[u.mk,u.sg,u.O5,u.RF,u.n9,N.H,Zt,Yn,to,lo,Eo,Xo,na,ca,ga],styles:[".add-tile-main-wrapper{display:flex;flex-direction:column;padding:0;background:rgba(0,0,0,.9);border-left:1px solid rgba(255,255,255,.15);box-shadow:-4px 0 16px #00000080;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px 0 0 24px;width:440px;overflow:hidden}  .add-tile-main-wrapper .add-tile-top-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:24px;column-gap:8px;border-bottom:1px solid rgba(255,255,255,.1)}  .add-tile-main-wrapper .add-tile-top-wrapper .add-tile-top-left{display:flex;flex-direction:row;align-items:center;padding:0;column-gap:8px}  .add-tile-main-wrapper .add-tile-top-wrapper .add-tile-top-left .add-tile-header-icon.back{cursor:pointer}  .add-tile-main-wrapper .add-tile-top-wrapper .add-tile-top-left .add-tile-header-text{color:#fff}  .add-tile-main-wrapper .add-tile-top-wrapper .add-tile-top-right{cursor:pointer}  .add-tile-main-wrapper .add-tile-top-wrapper svg{width:32px;height:32px}  .add-tile-main-wrapper .add-tile-content-wrapper{display:flex;flex-direction:column;padding:16px 24px 32px;row-gap:16px;overflow-y:auto;flex:1;overflow-x:hidden}  .add-tile-main-wrapper .add-tile-content-wrapper .add-tile-content{flex:1}  .add-tile-main-wrapper .add-tile-content-wrapper .add-tile-option{display:flex;flex-direction:row;align-items:center;padding:8px;column-gap:16px;border-radius:16px;cursor:pointer;flex:none}  .add-tile-main-wrapper .add-tile-content-wrapper .add-tile-option:hover{background:rgba(255,255,255,.1)}  .add-tile-main-wrapper .add-tile-content-wrapper .add-tile-option .add-tile-label{color:#f9f9f9cc}@media (max-width: 767.9px){  .add-tile-main-wrapper{max-width:430px;margin:0 auto;border-top:1px solid rgba(255,255,255,.15);box-shadow:0 -4px 16px #00000080;border-radius:24px 24px 0 0;border-left:0;width:100%}  .add-tile-main-wrapper .add-tile-top-wrapper svg{width:24px;height:24px}}  .add-tile-inner-wrapper{width:100%;display:flex;flex-direction:column;row-gap:32px}  .add-tile-inner-wrapper .add-tile-input-wrapper{display:flex;flex-direction:column;row-gap:16px}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown{width:100%;border:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.1);border-radius:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown.p-disabled{background:rgba(255,255,255,.05)}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-dropdown-label.p-placeholder{color:#f9f9f966}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-inputtext,   .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-component{font-family:Inter}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-inputtext{color:#f9f9f9;font-weight:400;font-size:20px;line-height:32px}@media (max-width: 1279px){  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-inputtext{font-size:16px;line-height:26px}}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown .p-overlay{max-width:100%;left:-1px!important}  .add-tile-inner-wrapper .add-tile-input-wrapper .p-dropdown:not(.p-disabled).p-focus{box-shadow:none}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper{display:flex;flex-direction:column;row-gap:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .input-label{color:#f9f9f9cc}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:8px 12px 8px 8px;column-gap:12px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.06);border-radius:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper.selected{background:rgba(255,255,255,.2)}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left{display:flex;flex-direction:row;column-gap:12px;color:#f9f9f9cc;align-items:center}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left .image-preview{width:64px;height:64px;background:rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.06);border-radius:2px;overflow:hidden;position:relative}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left .image-preview .image-upload-icon{display:grid;position:absolute;z-index:1;width:100%;height:100%;place-content:center}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left .image-preview.loader-active{display:grid;place-content:center}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left .image-preview img{width:100%;height:100%;object-fit:cover;border-radius:2px}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-left .image-preview .image-loader{display:grid;place-content:center;width:24px;height:24px;position:relative}  .add-tile-inner-wrapper .add-tile-input-wrapper .thumbnail-input-wrapper .image-selection-wrapper .image-selection-right{cursor:pointer}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper{display:flex;flex-direction:column;row-gap:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .input-label{color:#f9f9f9cc}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper{display:grid;grid-template-columns:1fr 1fr;gap:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:8px 0 0;gap:8px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.06);border-radius:8px;flex:none;flex-grow:1;overflow:hidden;cursor:pointer}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection.selected{background:rgba(255,255,255,.2)}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection .favicon-selection-top{display:flex;flex-direction:row;align-items:center;padding:0 8px;gap:4px}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection .favicon-selection-top .favicon-selection-text{color:#f9f9f9cc;flex-shrink:0}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection .favicon-selection-preview{position:relative;right:16px;width:100%;display:flex;flex-direction:column;align-items:flex-end;padding:16px 16px 32px;background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.06);border-radius:0 24px 0 0;flex:none}  .add-tile-inner-wrapper .add-tile-input-wrapper .favicon-input-wrapper .favicon-selection-wrapper .favicon-selection .favicon-selection-preview .favicon{width:32px;height:32px;border-radius:8px}  .add-tile-inner-wrapper .add-tile-input-wrapper .add-tile-divider{display:flex;flex-direction:row;align-items:center;font-weight:500;font-size:12px;line-height:17px;color:#fff3;column-gap:8px;margin:8px 0;width:100%}  .add-tile-inner-wrapper .add-tile-input-wrapper .add-tile-divider .divider-line{flex:1;border-top:1px solid rgba(255,255,255,.1)}  .p-dropdown-panel{background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.06);box-shadow:0 0 8px #00000080;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:8px;padding:8px}  .p-dropdown-panel .p-dropdown-header{background:transparent;border-bottom:0;padding:0}  .p-dropdown-panel .p-dropdown-header .p-dropdown-filter{padding-left:32px;margin-right:-32px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.06);border-radius:4px}  .p-dropdown-panel .p-dropdown-header .p-dropdown-filter.p-inputtext:enabled:focus{box-shadow:none}  .p-dropdown-panel .p-dropdown-header .p-dropdown-filter-icon{left:8px;right:auto;color:#f9f9f966}  .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:6px 8px;margin:0 0 4px;border:0 none;color:#f9f9f9cc;background:transparent;transition:box-shadow .15s;font-size:20px;line-height:32px;border-radius:4px}  .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background:rgba(255,255,255,.1);color:#f9f9f9cc}@media (max-width: 1279px){  .p-dropdown-panel .p-dropdown-items .p-dropdown-item{font-size:16px;line-height:26px}}"]}),n})();function Oa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.shareMyUrl())}),e._UZ(1,"app-svg",12),e.qZA()}}const Da=function(n){return{active:n}};function Ea(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"header-tile",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onHeaderClick())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,Da,t.isHeaderSelected))("tileData",t.profileData)}}const Pa=function(n){return{top:n}};function La(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onHeaderEdit())}),e._UZ(2,"app-svg",16),e.TgZ(3,"div",17),e._uU(4),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngStyle",e.VKq(2,Pa,t.headerHeight)),e.xp6(4),e.Oqu("Edit")}}function Ma(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-gridstack",18,19),e.NdJ("changeCB",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onChange(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("options",t.gridOptions)("tiles",t.tiles)("deviceType",t.deviceType)}}function Na(n,r){1&n&&e._UZ(0,"img",29)}function Za(n,r){1&n&&e._UZ(0,"img",30)}function Ua(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.toggleView())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Oqu("mobile"===t.selectedDeviceToggleView?"Desktop View":"Mobile View")}}function za(n,r){1&n&&e._UZ(0,"div",25)}function Fa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",21),e.YNc(2,Na,1,0,"img",22),e.YNc(3,Za,1,0,"img",23),e.TgZ(4,"span",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToMyProfile())}),e._uU(5),e.qZA()(),e._UZ(6,"div",25),e.YNc(7,Ua,2,1,"div",26),e.YNc(8,za,1,0,"div",27),e.TgZ(9,"div",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.signOut())}),e._uU(10),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","default"===t.selectedTheme?"light"===t.systemTheme:"light"===t.selectedTheme),e.xp6(1),e.Q6J("ngIf","default"===t.selectedTheme?"light"!==t.systemTheme:"light"!==t.selectedTheme),e.xp6(2),e.hij(" ","View my profile"," "),e.xp6(2),e.Q6J("ngIf",t.showMobileDeviceToggle),e.xp6(1),e.Q6J("ngIf",t.showMobileDeviceToggle),e.xp6(2),e.Oqu("Sign out")}}function Ra(n,r){if(1&n&&e._UZ(0,"floating-bar",31),2&n){const t=e.oxw();e.Q6J("deviceType",t.deviceType)("tileWidth",t.tileWidth)("selectedView",t.selectedView)("isDesktopInMobile","desktop"===t.selectedDeviceToggleView)}}function Ja(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"bottom-bar",32),e.NdJ("onScreenToggle",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onScreenToggle(o))})("onHeaderEditClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onHeaderEdit())})("onAddTile",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onAddTileClick(o))})("onPublished",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onTilesPublished())})("closeDesktopInMobileView",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleView())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("deviceType",t.deviceType)("tileWidth",t.tileWidth)("selectedView",t.selectedView)("headerTileSelected",t.isHeaderSelected)("isDesktopInMobile","desktop"===t.selectedDeviceToggleView)}}function Ba(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddtileClose())}),e.qZA()}2&n&&e.Q6J("@fadeInOutAnimation",void 0)}function Va(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"add-tile-main",34),e.NdJ("onClosed",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddtileClose())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("@slideInBottomToTop",void 0)("editTileData",t.editTileData)("selectedTheme",t.selectedTheme)}}function Ha(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"add-tile-main",34),e.NdJ("onClosed",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAddtileClose())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("@slideInOutRightToLeft",void 0)("editTileData",t.editTileData)("selectedTheme",t.selectedTheme)}}function Ga(n,r){1&n&&(e.TgZ(0,"div",35),e._UZ(1,"page-loader"),e.qZA())}const ja=function(n,r){return{mobile:n,"touch-device":r}};let Qa=(()=>{class n{constructor(t,i,o,a,s,l,d){this.themeService=t,this.supabaseService=i,this.router=o,this.dataCarrier=a,this.toastService=s,this.renderer=l,this.meta=d,this.tiles=[],this.tileItemOptions={mobile:[],desktop:[]},this.isAddTileActive=!1,this.deviceType="desktop",this.selectedView="desktop",this.isMobileViewSelected=!1,this.isHeaderSelected=!1,this.loading=!1,this.systemTheme="light",this.selectedTheme="default",this.selectedDeviceToggleView="mobile",this.ngUnsubscribe=new T.x,this.showMobileDeviceToggle=!1,this.isTouchDevice=this.checkIsTouchDevice()}ngOnInit(){this.checkDefaultTheme(),this.getEditorData(),this.setObs()}setObs(){this.setAddTileObs(),this.setEditTileObs(),this.setUpdateTileObs(),this.setThemeSaveObs(),this.openLinkObs()}ngAfterViewInit(){this.windowWidth=document.documentElement.clientWidth,this.renderer.listen("window","click",t=>{const i=document.getElementById("header");(!i||!i||!i.contains(t.target))&&(this.isHeaderSelected=!1,i?.classList.contains("header-active")&&i.classList.remove("header-active"))})}getEditorData(){this.loading=!0,this.tileItemOptions.mobile=[],this.tileItemOptions.desktop=[],this.supabaseService.getEditorData().catch(t=>{this.loading=!1,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(t=>{if(this.loading=!1,t&&t.error)this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}});else{if(this.profileData=t.data[0].profile_data[0],!(this.profileData&&this.profileData.username&&this.profileData.username.length))return void this.router.navigate(["editor/set-username"]);if(!this.profileData.selected_template&&this.tileItemOptions.mobile.length<1)return this.setUserDetails(),void this.router.navigate(["editor/select-template"]);this.publishedProfileData=t.data[0].published_profile_data[0],this.tiles=t.data[0].tiles?t.data[0].tiles:[],t.data[0].mobile_layout&&(this.tileItemOptions.mobile=this.removeInvalidLayouts(this.tiles,t.data[0].mobile_layout)),t.data[0].desktop_layout&&(this.tileItemOptions.desktop=this.removeInvalidLayouts(this.tiles,t.data[0].desktop_layout)),this.selectedTheme=t.data[0].selected_theme?t.data[0].selected_theme:"default",this.setTheme(),this.setUserDetails(),this.dataCarrier.setProfileData(this.profileData),this.setDeviceTypes()}})}removeInvalidLayouts(t,i){const o=new Set(t.map(s=>s.id));return i.filter(s=>o.has(s.id))}setUserDetails(){const t={};t.username=this.profileData.username,t.email=this.profileData.email,localStorage.setItem("userDetails",JSON.stringify(t))}setAddTileObs(){this.dataCarrier.getAddTileEvent().pipe((0,S.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.addNewTile(t)})}setEditTileObs(){this.dataCarrier.getEditTileEvent().pipe((0,S.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.editTile(t)})}setUpdateTileObs(){this.dataCarrier.getUpdateTileEvent().pipe((0,S.R)(this.ngUnsubscribe)).subscribe(t=>{t&&this.updateTile(t)})}openLinkObs(){this.dataCarrier.getOpenLinkEvent().pipe((0,S.R)(this.ngUnsubscribe)).subscribe(t=>{t&&(this.router.navigate([this.profileData.username]),this.dataCarrier.setOpenLinkEvent(!1))})}setThemeSaveObs(){this.dataCarrier.getThemeSavedEvent().pipe((0,S.R)(this.ngUnsubscribe)).subscribe(t=>{t&&(this.isAddTileActive=!1,this.selectedTheme=t,this.dataCarrier.setSnackBarData({message:"Theme saved",show:!0,bottom:"110px"}),this.dataCarrier.setThemSavedEvent(void 0))})}addNewTile(t){let i=0,o=0,a=0,s=0;if(this.tileItemOptions.mobile&&this.tileItemOptions.desktop&&this.tileItemOptions.mobile.length&&this.tileItemOptions.desktop.length){const c=this.tileItemOptions.mobile[this.tileItemOptions.mobile.length-1];c.width<2&&0===c.x_axis?(o=1,i=c.y_axis):i=c.y_axis+c.height,[s,a]=this.findNextPosition(this.tileItemOptions.desktop)}const l={tile_id:t.tile_id,width:"group_title"===t.type?4:1,height:1,x_axis:s,y_axis:a,type:t.type},d={tile_id:t.tile_id,width:"group_title"===t.type?2:1,height:1,x_axis:o,y_axis:i,type:t.type},p={};p[t.type+"s"]=[t],p.mobile_layout=[d],p.desktop_layout=[l],this.supabaseService.insertUserData(p).catch(c=>{this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(c=>{c&&c.error?this.toastService.addToast({message:c.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}}):(t.id=t.tile_id,d.id=d.tile_id,l.id=l.tile_id,this.tileItemOptions.mobile.push(d),this.tileItemOptions.desktop.push(l),this.tiles.push(t),this.isMobileViewSelected?this.setTileWidth("mobile",362):this.setDeviceTypes(),this.refreshGridStack(),setTimeout(()=>{const g=document.getElementById("gridContainer");this.onAddtileClose(),g.scrollTo({top:g?.scrollHeight-100,behavior:"smooth"})},2))})}findNextPosition(t){let i=0,o=0,a=[];t.forEach(d=>{const p=d.y_axis+d.height;p!==i?(o=d.x_axis+d.width,p>i&&(a=[d])):(o=Math.max(o,d.x_axis+d.width),a.push(d)),i=Math.max(i,p)});let l,s=[];return a.forEach(d=>{s.push(d.x_axis),d.width>1&&s.push(d.x_axis+1)}),s.length<4?([3,2,1,0].forEach(d=>{s.includes(d)||(o=d)}),l=[o,i-1]):l=[0,i],l}editTile(t){this.isAddTileActive=!0,this.editTileData=this.tiles.find(i=>i.id===t.id)}updateTile(t){const i={};t.type?i[t.type+"s"]=[t]:i.profile_data=[t],this.supabaseService.updateUserData(i).catch(o=>{this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(o=>{o&&o.error?this.toastService.addToast({message:o.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}}):t.type?(t.id=t.tile_id,this.tiles.forEach((a,s)=>{a.id===t.id&&(this.tiles[s]=t)}),this.isMobileViewSelected?this.setTileWidth("mobile",362):this.setDeviceTypes(),this.refreshGridStack()):(this.profileData=t,this.dataCarrier.setProfileData(this.profileData),this.onAddtileClose())})}checkIsTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}setDeviceTypes(){this.selectedView="desktop",this.showMobileDeviceToggle=!1,document.documentElement.clientWidth<767.9?(this.deviceType="mobile",this.selectedView="mobile"):this.deviceType=document.documentElement.clientWidth<1280?"tablet":"desktop",screen.width<767.9&&document.documentElement.clientWidth<767.9?this.showMobileDeviceToggle=!0:screen.width<767.9&&document.documentElement.clientWidth>767.9&&(this.showMobileDeviceToggle=!0,this.selectedDeviceToggleView="desktop"),this.setTileWidth(this.deviceType)}setTileWidth(t,i){if("mobile"===t){const a=i||430,s=2;this.tileWidth=Math.round((document.documentElement.clientWidth-16)/s),document.documentElement.clientWidth>a?(this.tileWidth=(a-16)/s,document.documentElement.style.setProperty("--page-padding-side-phone",(document.documentElement.clientWidth-(a-16))/2+"px")):document.documentElement.style.setProperty("--page-padding-side-phone","8px")}else"tablet"===t?(this.tileWidth=(document.documentElement.clientWidth-20)/4,document.documentElement.clientWidth>860?(this.tileWidth=210,document.documentElement.style.setProperty("--page-padding-side-tablet",(document.documentElement.clientWidth-840)/2+"px")):document.documentElement.style.setProperty("--page-padding-side-tablet","10px")):(this.tileWidth=(document.documentElement.clientWidth-60)/4,document.documentElement.clientWidth>1280&&(this.tileWidth=305,document.documentElement.style.setProperty("--page-padding-side",(document.documentElement.clientWidth-1220)/2+"px")));this.setGridOptions(t)}setGridOptions(t){let i=4,o=91,a=10,s="desktop";"mobile"===t?(i=2,o=64,a=8,s="mobile"):"tablet"===t&&(o=64);let l=0,d=[];this.tileItemOptions[s].forEach(p=>{let c={};c.id=p.id,c.x=p.x_axis,c.y=Math.round(p.y_axis*this.tileWidth)+l,c.w=p.width,c.h=Math.round(p.height*this.tileWidth),c.type=p.type,c.tile_id=p.id,"group_title"===p.type&&(l+=o,c.h=o,c.w=i),d.push(c)}),this.gridOptions={cellHeight:1,margin:a,float:!1,column:i,disableOneColumnMode:!0,alwaysShowResizeHandle:!1,disableResize:!0,children:d},this.setTileSizes()}setTileSizes(){this.tileSizes=[],this.tileItemOptions[this.selectedView].forEach(t=>{this.tiles.find(l=>l.id==t.id).size="s"+t.width+"x"+t.height})}onChange(t){let i=0;this.editedTileItemOptions=[],t.items.forEach(s=>{let l={};l.id=s.id,l.x_axis=s.x,l.y_axis=Math.round((s.y-i)/this.tileWidth),l.width=s.w,l.height=Math.round(s.h/this.tileWidth),l.type=s.type,"group_title"===l.type&&(i+=s.h,l.height=1),l.y_axis<0&&(l.y_axis=0),this.editedTileItemOptions.push(l)}),this.editedTileItemOptions.sort((s,l)=>s.y_axis-l.y_axis);const o=(s,l)=>"object"==typeof s&&Object.keys(s).length>0?Object.keys(s).length===Object.keys(l).length&&Object.keys(s).every(d=>o(s[d],l[d])):s===l;if((s=this.editedTileItemOptions).length!==(l=this.tileItemOptions[this.selectedView]).length||!s.every((d,p)=>o(d,l[p]))){this.tileItemOptions[this.selectedView]=this.editedTileItemOptions;for(let s=0;s<this.tileItemOptions.mobile.length;s++){const l=this.tileItemOptions.mobile[s].id;-1===this.tileItemOptions.desktop.findIndex(p=>p.id===l)&&(this.tileItemOptions.mobile.splice(s,1),s--)}for(let s=0;s<this.tileItemOptions.desktop.length;s++){const l=this.tileItemOptions.desktop[s].id;-1===this.tileItemOptions.mobile.findIndex(p=>p.id===l)&&(this.tileItemOptions.desktop.splice(s,1),s--)}this.setTileSizes(),this.updateTileSizes()}var s,l}updateTileSizes(){this.supabaseService.updateLayouts(this.tileItemOptions).catch(t=>{this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(t=>{t&&t.error&&this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}})})}checkDefaultTheme(){this.systemTheme=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}setTheme(){let t="default"===this.selectedTheme?this.systemTheme:this.selectedTheme;"dark"!==t?this.themeService.setLightTheme():this.themeService.setDarkTheme(),this.dataCarrier.setThemChangeEvent(t)}onScreenToggle(t){this.selectedView!==t&&(this.isMobileViewSelected="mobile"===t,this.selectedView=t,"tablet"===this.deviceType&&"desktop"===this.selectedView?this.setTileWidth("tablet"):this.setTileWidth(t,362),this.refreshGridStack())}onResize(t){window.addEventListener("resize",i=>{document.documentElement.clientWidth!=this.windowWidth&&(this.windowWidth=document.documentElement.clientWidth,this.resizeGrid())})}resizeGrid(){this.isMobileViewSelected?this.setTileWidth("mobile",362):this.setDeviceTypes(),this.refreshGridStack()}refreshGridStack(){let t=this.gridOptions;this.gridOptions=void 0,setTimeout(()=>{this.gridOptions=t,this.onAddtileClose()})}onAddTileClick(t){"themes"===t?(this.editTileData={type:"themes"},this.isAddTileActive=!0):"add"===t&&(this.editTileData=void 0,this.tileItemOptions.desktop&&this.tileItemOptions.desktop.length>=30?this.toastService.addToast({message:"Limit exceeded. You can only add a maximum of 30 tiles",type:"error",additionalData:{error:new Error("Something went wrong")}}):this.isAddTileActive=!0)}signOut(){this.loading=!0,this.supabaseService.signOut().then(t=>{this.loading=!1,this.router.navigate(["auth"])})}onAddtileClose(){this.isAddTileActive=!1,this.editTileData=void 0}onHeaderClick(){const t=document.getElementById("header");this.headerHeight=t?.offsetHeight+t?.offsetTop+"px";let i=!1;const o=document.getElementsByClassName("grid-stack-item")?document.getElementsByClassName("grid-stack-item"):[];for(let a of o)a.classList&&a.classList.contains("tile-active")&&(a.classList.remove("tile-active"),this.dataCarrier.setSelectedTileOptions(void 0),i=!0);if(!i){this.isHeaderSelected=!this.isHeaderSelected;const a=document.getElementById("header");a?.classList.contains("header-active")?a.classList.remove("header-active"):a?.classList.add("header-active")}}onHeaderEdit(){this.isAddTileActive=!0,this.editTileData=this.profileData,this.editTileData.type="header"}goToMyProfile(){this.router.navigate([this.profileData.username])}toggleView(){"mobile"===this.selectedDeviceToggleView?(this.selectedDeviceToggleView="desktop",this.meta.updateTag({name:"viewport",content:"width= 768"})):(this.selectedDeviceToggleView="mobile",this.meta.updateTag({name:"viewport",content:"width=device-width,height=device-height,initial-scale=1,minimum-scale=1"})),this.resizeGrid()}onTilesPublished(){this.publishedProfileData.full_name=this.profileData.full_name}shareMyUrl(){navigator.share?navigator.share({title:"",text:"View "+this.publishedProfileData.full_name+"'s tiles.\n",url:location.origin+"/"+this.publishedProfileData.username}).then().catch(t=>{}):this.copyUrl()}copyUrl(){var t=this;return(0,m.Z)(function*(){try{yield navigator.clipboard.writeText(location.origin+"/"+t.publishedProfileData.username),t.dataCarrier.setSnackBarData({message:"Link copied to clipboard",show:!0,bottom:"110px"})}catch{t.toastService.addToast({message:"Browser not supported. Please copy the url from your Profile page",type:"error",additionalData:{error:new Error("Something went wrong")}})}})()}ngOnDestroy(){this.dataCarrier.clearCarriers(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.f),e.Y36(A.T),e.Y36(I.F0),e.Y36(y.H),e.Y36(w.k),e.Y36(e.Qsj),e.Y36(R.h_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor-main"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},decls:12,vars:15,consts:[["id","gridContainer",1,"grid-container",3,"ngClass"],["class","header-share-icon",3,"click",4,"ngIf"],["class","header-outer magic-hover-item","id","header",3,"ngClass","tileData","click",4,"ngIf"],["class","header-floating-bar click-in",3,"ngStyle",4,"ngIf"],["class","gridstack-outer",3,"options","tiles","deviceType","changeCB",4,"ngIf"],["class","footer",4,"ngIf"],["class","floating-bar","id","tileBar",3,"deviceType","tileWidth","selectedView","isDesktopInMobile",4,"ngIf"],["class","bottom-bar",3,"deviceType","tileWidth","selectedView","headerTileSelected","isDesktopInMobile","onScreenToggle","onHeaderEditClick","onAddTile","onPublished","closeDesktopInMobileView",4,"ngIf"],["class","add-tile-backdrop",3,"click",4,"ngIf"],["class","add-tile",3,"editTileData","selectedTheme","onClosed",4,"ngIf"],["class","page-loader",4,"ngIf"],[1,"header-share-icon",3,"click"],["svgType","share"],["id","header",1,"header-outer","magic-hover-item",3,"ngClass","tileData","click"],[1,"header-floating-bar","click-in",3,"ngStyle"],[1,"header-options","click-in",3,"click"],["svgType","edit",1,"bottom-option-icon","click-in"],[1,"bottom-option-label","click-in"],[1,"gridstack-outer",3,"options","tiles","deviceType","changeCB"],["gridComp",""],[1,"footer"],[1,"footer-logo"],["src","assets\\images\\logo\\logo-blkt.png","alt","Logo",4,"ngIf"],["src","assets\\images\\logo\\logo-darkbg.png","alt","Logo",4,"ngIf"],[3,"click"],[1,"footer-separator"],["class","footer-options",3,"click",4,"ngIf"],["class","footer-separator",4,"ngIf"],[1,"footer-options",3,"click"],["src","assets\\images\\logo\\logo-blkt.png","alt","Logo"],["src","assets\\images\\logo\\logo-darkbg.png","alt","Logo"],["id","tileBar",1,"floating-bar",3,"deviceType","tileWidth","selectedView","isDesktopInMobile"],[1,"bottom-bar",3,"deviceType","tileWidth","selectedView","headerTileSelected","isDesktopInMobile","onScreenToggle","onHeaderEditClick","onAddTile","onPublished","closeDesktopInMobileView"],[1,"add-tile-backdrop",3,"click"],[1,"add-tile",3,"editTileData","selectedTheme","onClosed"],[1,"page-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Oa,2,0,"div",1),e.YNc(2,Ea,1,4,"header-tile",2),e.YNc(3,La,5,4,"div",3),e.YNc(4,Ma,2,3,"app-gridstack",4),e.YNc(5,Fa,11,6,"div",5),e.YNc(6,Ra,1,4,"floating-bar",6),e.qZA(),e.YNc(7,Ja,1,5,"bottom-bar",7),e.YNc(8,Ba,1,1,"div",8),e.YNc(9,Va,1,3,"add-tile-main",9),e.YNc(10,Ha,1,3,"add-tile-main",9),e.YNc(11,Ga,2,0,"div",10)),2&t&&(e.Q6J("ngClass",e.WLB(12,ja,i.isMobileViewSelected,i.isTouchDevice)),e.xp6(1),e.Q6J("ngIf",i.gridOptions),e.xp6(1),e.Q6J("ngIf",i.gridOptions),e.xp6(1),e.Q6J("ngIf",i.isHeaderSelected&&"mobile"!==i.deviceType),e.xp6(1),e.Q6J("ngIf",i.gridOptions),e.xp6(1),e.Q6J("ngIf",i.gridOptions&&"desktop"!==i.selectedDeviceToggleView),e.xp6(1),e.Q6J("ngIf",i.gridOptions&&"mobile"!==i.deviceType),e.xp6(1),e.Q6J("ngIf",i.profileData),e.xp6(1),e.Q6J("ngIf",i.isAddTileActive),e.xp6(1),e.Q6J("ngIf",i.isAddTileActive&&"mobile"===i.deviceType),e.xp6(1),e.Q6J("ngIf",i.isAddTileActive&&"mobile"!==i.deviceType),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.mk,u.O5,u.PC,X.s,oe.G,et,dt,N.H,Ce,ka],styles:['.grid-container{padding:64px var(--page-padding-side) 0;height:100%;overflow-y:auto;scroll-behavior:auto;position:relative;overflow-x:hidden;display:flex;flex-direction:column;align-items:center}  .grid-container .header-outer{width:100%;border:9px solid transparent;border-radius:32px}  .grid-container .gridstack-outer{flex:1;width:100%;margin-bottom:var(--page-padding-bottom-desktop)}@media (max-width: 767.9px){  .grid-container .gridstack-outer{margin-bottom:0}}  .grid-container .footer{display:flex;margin:24px calc(0px - var(--page-padding-side)) 0;flex-direction:row;align-items:center;padding:48px 10px 40px;column-gap:16px;max-width:1200px;width:100%;border-top:var(--footer-border);color:var(--font-tertiary);font-weight:500;font-size:14px;line-height:120%;flex-wrap:wrap}  .grid-container .footer .footer-logo{display:flex;flex-direction:row;align-items:center;padding:0;gap:4px;flex-shrink:0}  .grid-container .footer .footer-logo span{cursor:pointer}  .grid-container .footer .footer-logo img{width:20px;height:20px}  .grid-container .footer .footer-separator{border-left:var(--seperator-border);height:18px}  .grid-container .footer .footer-options{flex-shrink:0;cursor:pointer}@media (max-width: 1279px){  .grid-container .footer{padding:40px 0;margin:24px calc(0px - var(--page-padding-side-tablet)) 0}}@media (max-width: 767.9px){  .grid-container .footer{justify-content:center;padding:24px 16px 32px;gap:8px;margin:24px calc(0px - var(--page-padding-side-phone)) 76px}  .grid-container .footer .footer-logo img{width:18px;height:18px}}  .grid-container .floating-bar{display:none;z-index:2}  .grid-container::-webkit-scrollbar{width:0px}  .grid-container.touch-device .grid-stack-item .grid-stack-item-content{pointer-events:none}  .grid-container.touch-device .grid-stack-item.tile-active .grid-stack-item-content{pointer-events:all}  .grid-container header-tile.active .header-wrapper{box-shadow:var(--active-tile-shadow);border:var(--active-cards-border)}  .grid-container header-tile.active .header-wrapper .header-content-wrapper{border:0}  .grid-container .header-floating-bar{position:absolute;transform:translate(-50%);left:50%;z-index:2;top:auto;padding:16px;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.06);box-shadow:0 4px 8px #10101040;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;margin-bottom:24px;color:#f9f9f9}  .grid-container .header-floating-bar .header-options{display:flex;flex-direction:row;column-gap:8px;flex:1;background:rgba(255,255,255,.15);border-radius:8px;padding:7px 12px 7px 8px;align-items:center;justify-content:center;cursor:pointer;font-weight:500}  .grid-container .header-floating-bar .header-options .bottom-option-icon svg{width:22px;height:22px}  .grid-container .header-floating-bar .header-options .bottom-option-label{font-size:14px;line-height:17px}  .grid-container .header-floating-bar .header-options:hover{background:rgba(255,255,255,.3)}  .grid-container .header-share-icon{position:absolute;top:96px;right:calc(var(--page-padding-side) + 42px);z-index:10;border-radius:50%;background:rgba(36,41,46,.4);padding:4px;cursor:pointer}  .grid-container .header-share-icon:hover{background:rgba(36,41,46,.8)}@media (max-width: 1279px){  .grid-container .header-share-icon{top:68px;right:calc(var(--page-padding-side-tablet) + 38px)}  .grid-container .header-share-icon svg{width:28px;height:28px}}@media (max-width: 767.9px){  .grid-container .header-share-icon{top:48px;right:calc(var(--page-padding-side-phone) + 32px)}  .grid-container .header-share-icon svg{width:24px;height:24px}}.bottom-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;z-index:100;transform:translate(-50%)}.add-tile[_ngcontent-%COMP%]{position:absolute;display:flex;right:0;top:0;bottom:0;z-index:101;height:100%;justify-content:flex-end}.add-tile-backdrop[_ngcontent-%COMP%]{position:absolute;display:flex;right:0;top:0;bottom:0;z-index:101;height:100%;background:rgba(21,21,21,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:100%}@media (max-width: 1279px){.grid-container[_ngcontent-%COMP%]{padding:40px var(--page-padding-side-tablet) 0}}@media (max-width: 767.9px){.grid-container[_ngcontent-%COMP%]{padding:24px var(--page-padding-side-phone) var(--page-padding-bottom-phone)}.grid-container[_ngcontent-%COMP%]   .header-outer[_ngcontent-%COMP%]{border:7px solid transparent;border-radius:24px}.bottom-bar[_ngcontent-%COMP%]{width:100%;left:0;transform:translate(0)}.add-tile[_ngcontent-%COMP%]{width:100%;left:0;top:auto;right:auto;max-height:90%;height:auto}}  .mobile.grid-container{margin:24px calc(var(--page-padding-side-phone) - 18px) 150px;box-shadow:0 63px 316px #0000002e,0 45.8227px 212.991px #00000026,0 31.8937px 137.756px #0000001f,0 20.918px 85.4805px #0000001a,0 6.64453px 30.5508px #00000014;border-radius:40px;background:linear-gradient(var(--background-primary) 0 0) padding-box,radial-gradient(#9A9A9A,#484848) border-box;border:10px solid transparent;padding:16px 8px 24px;height:calc(100% - 174px)}  .mobile.grid-container .header-outer{border:7px solid transparent;border-radius:24px}  .mobile.grid-container .grid-stack .grid-stack-item{border-radius:24px}  .mobile.grid-container .grid-stack .grid-stack-item .grid-stack-item-content{border-radius:24px}  .mobile.grid-container .grid-stack .grid-stack-item[gs-w="2"]{width:100%;min-width:100%}  .mobile.grid-container .grid-stack .grid-stack-item[gs-w="1"]{width:50%;min-width:50%}  .mobile.grid-container .grid-stack .grid-stack-item[gs-x="2"]{left:100%}  .mobile.grid-container .grid-stack .grid-stack-item[gs-x="1"]{left:50%}  .mobile.grid-container .bottom-bar,   .mobile.grid-container .add-tile{width:100%;left:0;transform:translate(0)}  .mobile.grid-container .add-tile{display:flex;max-height:80%}  .mobile.grid-container .footer{justify-content:center;padding:24px 16px 32px;gap:8px;margin:24px calc(0px - var(--page-padding-side-phone)) 0}  .mobile.grid-container .footer .footer-logo img{width:18px;height:18px}  .mobile.grid-container .header-share-icon{top:40px;right:40px}  .mobile.grid-container .header-share-icon svg{width:24px;height:24px}  .grid-container.mobile .h1{font-size:24px;line-height:34px}  .grid-container.mobile .h2{font-size:20px;line-height:32px}  .grid-container.mobile .h3{font-size:18px;line-height:22px}  .grid-container.mobile .h4{font-size:16px;line-height:22px}  .grid-container.mobile .text-body{font-size:16px;line-height:26px}  .grid-container.mobile .text-caption{font-size:14px;line-height:17px}  .grid-stack-placeholder>.placeholder-content{border-radius:32px!important;inset:0!important;background-color:var(--cards-placeholder)!important;z-index:0}@media (max-width: 1279px){  .grid-stack-placeholder>.placeholder-content{border-radius:24px!important}}  .grid-stack .grid-stack-item{border-radius:32px;border:9px solid transparent}  .grid-stack .grid-stack-item.group_title .grid-stack-item-content{inset:0!important;background-color:var(--background-primary);border:none!important}  .grid-stack .grid-stack-item .grid-stack-item-content{border-radius:32px;overflow-y:hidden;inset:0!important;z-index:1}@media (max-width: 1279px){  .grid-stack .grid-stack-item{border-radius:24px}  .grid-stack .grid-stack-item .grid-stack-item-content{border-radius:24px;overflow-y:hidden}}  .grid-stack .grid-stack-item[gs-w="1"]{width:25%;min-width:25%}  .grid-stack .grid-stack-item[gs-w="2"]{width:50%;min-width:50%}  .grid-stack .grid-stack-item[gs-w="3"]{width:75%;min-width:75%}  .grid-stack .grid-stack-item[gs-w="4"]{width:100%;min-width:100%}  .grid-stack .grid-stack-item[gs-x="1"]{left:25%}  .grid-stack .grid-stack-item[gs-x="2"]{left:50%}  .grid-stack .grid-stack-item[gs-x="3"]{left:75%}  .grid-stack .grid-stack-item[gs-x="4"]{left:100%}@media (max-width: 767.9px){  .grid-stack .grid-stack-item{border:7px solid transparent}  .grid-stack .grid-stack-item[gs-w="2"]{width:100%;min-width:100%}  .grid-stack .grid-stack-item[gs-w="1"]{width:50%;min-width:50%}  .grid-stack .grid-stack-item[gs-x="2"]{left:100%}  .grid-stack .grid-stack-item[gs-x="1"]{left:50%}}.btn[_ngcontent-%COMP%]{color:var(--font-primary)}'],data:{animation:[L.MN,L.Ae]}}),n})();function qa(n,r){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"app-svg",20),e.TgZ(2,"div",21),e._uU(3),e.qZA()()),2&n&&(e.xp6(3),e.Oqu("Taken"))}function Ya(n,r){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"app-svg",23),e.qZA())}function Wa(n,r){1&n&&e._UZ(0,"app-loader",24)}function Ka(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.Oqu("Let's go!"))}let $a=(()=>{class n{constructor(t,i,o){this.supabaseService=t,this.toastService=i,this.router=o,this.usernameForm=new h.cw({username:new h.NI("",h.kI.compose([h.kI.required,h.kI.pattern("[A-Za-z0-9_]+"),h.kI.minLength(2)]))}),this.usernameTaken=!1,this.usernameAvailable=!1,this.loading=!1}ngOnInit(){const t=localStorage.getItem("selectedUsername")?localStorage.getItem("selectedUsername"):void 0;t&&(this.usernameForm.get("username").setValue(t),localStorage.removeItem("selectedUsername"));const i=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):void 0;i&&i.username&&this.router.navigate(["editor"])}onInputChange(t){this.usernameTaken=!1}setUserName(){this.loading=!0,this.usernameTaken=!1,this.usernameAvailable=!1,this.supabaseService.checkUsernameExists(this.usernameForm.value.username.toLowerCase()).then(t=>{t&&t.error?(this.loading=!1,this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}})):t?(this.usernameTaken=!0,this.loading=!1):(this.usernameAvailable=!0,this.insertUsername())}).catch(t=>{this.loading=!1,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})})}insertUsername(){this.supabaseService.setUsername(this.usernameForm.value.username.toLowerCase()).then(t=>{if(null===t||t&&t.error)this.loading=!1,this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}});else{const i=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):{};i.username=this.usernameForm.value.username?.toLowerCase(),localStorage.setItem("userDetails",JSON.stringify(i)),this.router.navigate(["editor/select-template"])}}).catch(t=>{this.loading=!1,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(I.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-set-username"]],decls:23,vars:8,consts:[[1,"sign-in-outer-wrapper"],[1,"sign-in-side-wrapper"],[1,"sign-in-logo"],["src","assets\\images\\logo\\logo-white.png","width","200","height","160"],[1,"header","h2"],[1,"sign-in-seperator"],[1,"sign-in-content-wrapper",3,"formGroup","ngSubmit","input"],[1,"inputs-container"],[1,"input-wrapper"],[1,"input-label","text-body"],[1,"input-box"],[1,"input-prefix","text-body"],["type","text","placeholder","username","formControlName","username",1,"text-body","pr-82","input-prefix-padding"],["class","input-icon-wrapper ab",4,"ngIf"],["class","input-valid",4,"ngIf"],[1,"buttons-wrapper"],["type","submit",1,"primary-button","text-body",3,"disabled"],["class","button-loader",4,"ngIf"],[4,"ngIf"],[1,"input-icon-wrapper","ab"],["svgType","warning","svgColor","#FF453A"],[1,"input-icon-label","warning"],[1,"input-valid"],["svgType","green-tick"],[1,"button-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.TgZ(4,"div",4),e._uU(5),e.qZA()()(),e._UZ(6,"div",5),e.TgZ(7,"div",1)(8,"form",6),e.NdJ("ngSubmit",function(){return i.setUserName()})("input",function(a){return i.onInputChange(a)}),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9),e._uU(12),e.qZA(),e.TgZ(13,"div",10)(14,"div",11),e._uU(15,"@"),e.qZA(),e._UZ(16,"input",12),e.YNc(17,qa,4,1,"div",13),e.YNc(18,Ya,2,0,"div",14),e.qZA()()(),e.TgZ(19,"div",15)(20,"button",16),e.YNc(21,Wa,1,0,"app-loader",17),e.YNc(22,Ka,2,1,"span",18),e.qZA()()()()()),2&t&&(e.xp6(5),e.hij(" ","Set your username"," "),e.xp6(3),e.Q6J("formGroup",i.usernameForm),e.xp6(4),e.hij(" ","Username"," "),e.xp6(5),e.Q6J("ngIf",i.usernameTaken),e.xp6(1),e.Q6J("ngIf",i.usernameAvailable),e.xp6(2),e.Q6J("disabled",!i.usernameForm.valid||i.loading||i.usernameTaken),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[u.O5,h._Y,h.Fj,h.JJ,h.JL,N.H,V.R,h.sg,h.u],styles:[".sign-in-outer-wrapper{display:flex;flex-direction:row;align-items:center;padding:80px;column-gap:64px;background:#000000;height:100%;overflow-y:auto}  .sign-in-outer-wrapper .sign-in-seperator{height:100%;width:1px;border-left:1px solid rgba(255,255,255,.1)}  .sign-in-outer-wrapper .sign-in-side-wrapper{display:flex;align-items:center;justify-content:center;flex:1 0 calc(50% - 64.5px)}  .sign-in-outer-wrapper .sign-in-logo{display:flex;flex-direction:column;row-gap:16px;justify-content:center;align-items:center;flex:none;max-width:440px;width:100%}  .sign-in-outer-wrapper .sign-in-logo img{width:200px;height:160px}  .sign-in-outer-wrapper .sign-in-logo .header{display:flex;flex-direction:column;color:#f9f9f9;align-items:center}  .sign-in-outer-wrapper .sign-in-logo .header .header-sub{color:#f9f9f966;margin-top:4px;text-align:center;display:flex;flex-direction:row;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:center}  .sign-in-outer-wrapper .sign-in-logo .header .header-sub.mobile-only{display:none}  .sign-in-outer-wrapper .sign-in-logo .header .header-sub .sign-in{color:#f9f9f9cc;font-weight:500;margin-left:4px;cursor:pointer}  .sign-in-outer-wrapper .sign-in-content-wrapper{display:flex;flex-direction:column;row-gap:32px;flex-shrink:0;flex-grow:1;width:100%;box-sizing:content-box;max-width:400px}  .sign-in-outer-wrapper .sign-in-content-wrapper .inputs-container{display:flex;flex-direction:column;row-gap:16px;width:100%}  .sign-in-outer-wrapper .sign-in-content-wrapper .buttons-wrapper{display:flex;flex-direction:column;padding:0;row-gap:16px;flex:none}  .sign-in-outer-wrapper .sign-in-content-wrapper .sign-up-divider{display:flex;flex-direction:row;align-items:center;font-weight:500;font-size:12px;line-height:17px;color:#fff3;column-gap:8px;margin:8px 0}  .sign-in-outer-wrapper .sign-in-content-wrapper .sign-up-divider .divider-line{flex:1;border-top:1px solid rgba(255,255,255,.1)}  .sign-in-outer-wrapper .sign-in-content-wrapper .content-sub{color:#f9f9f966;margin-top:4px;text-align:left;display:flex;flex-direction:row;flex-shrink:0;flex-wrap:wrap;align-items:flex-start;justify-content:center}@media (max-width: 767.9px){  .sign-in-outer-wrapper{flex:1;flex-direction:column;padding:40px 24px;border:0;box-shadow:none;height:100%;row-gap:40px}  .sign-in-outer-wrapper .sign-in-seperator{display:none}  .sign-in-outer-wrapper .sign-in-side-wrapper{flex:none;width:100%}  .sign-in-outer-wrapper .sign-in-logo{flex-grow:0}  .sign-in-outer-wrapper .sign-in-logo img{width:80px;height:64px}  .sign-in-outer-wrapper .sign-in-logo .header .header-sub.mobile-only{display:flex}  .sign-in-outer-wrapper .sign-in-content-wrapper{padding-left:0;border-left:0}  .sign-in-outer-wrapper .sign-in-content-wrapper .content-sub{text-align:center;display:none}  .sign-in-outer-wrapper .sign-in-content-wrapper .content-divider{display:none}}"]}),n})();function Xa(n,r){if(1&n&&e._UZ(0,"header-tile",5),2&n){const t=e.oxw(2);e.Q6J("tileData",t.profileData)}}function er(n,r){if(1&n&&e._UZ(0,"app-gridstack",6,7),2&n){const t=e.oxw(2);e.Q6J("options",t.gridOptions)("tiles",t.tiles)("deviceType",t.deviceType)("isPublicPage",!0)}}const tr=function(n){return{"touch-device":n}};function ir(n,r){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,Xa,1,1,"header-tile",3),e.YNc(2,er,2,4,"app-gridstack",4),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,tr,t.isTouchDevice)),e.xp6(1),e.Q6J("ngIf",t.gridOptions),e.xp6(1),e.Q6J("ngIf",t.gridOptions)}}function nr(n,r){1&n&&(e.TgZ(0,"div",8),e._UZ(1,"page-loader"),e.qZA())}let or=(()=>{class n{constructor(t,i){this.themeService=t,this.dataCarrier=i,this.tiles=[],this.tileItemOptions={mobile:[],desktop:[]},this.isAddTileActive=!1,this.deviceType="desktop",this.selectedView="desktop",this.isMobileViewSelected=!1,this.isHeaderSelected=!1,this.userNameAvailable=!0,this.ngUnsubscribe=new T.x,this.loading=0,this.isLoggedIn=!1,this.isSameUser=!1,this.selectedTheme="default",this.isTouchDevice=this.checkIsTouchDevice()}ngOnInit(){this.setTheme(),this.setDeviceTypes(),this.getUserData()}ngAfterViewInit(){this.windowWidth=window.innerWidth}getUserData(){this.loading++,this.tiles=this.userData.tiles?this.userData.tiles:[],this.tileItemOptions.mobile=this.userData.mobile_layout?this.userData.mobile_layout:[],this.tileItemOptions.desktop=this.userData.desktop_layout?this.userData.desktop_layout:[],this.profileData.user_bio=this.userData.profile_data.user_bio,this.profileData&&this.dataCarrier.setProfileData(this.profileData),this.setGridOptions(this.deviceType),this.loading--}setTheme(){"default"===this.selectedTheme?this.checkDefaultTheme():("dark"!==this.selectedTheme?this.themeService.setLightTheme():this.themeService.setDarkTheme(),this.dataCarrier.setThemChangeEvent(this.selectedTheme))}checkDefaultTheme(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(this.themeService.setDarkTheme(),this.dataCarrier.setThemChangeEvent("dark"),this.selectedTheme="dark"):(this.themeService.setLightTheme(),this.dataCarrier.setThemChangeEvent("light"),this.selectedTheme="light")}checkIsTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}setDeviceTypes(){this.selectedView="desktop",window.innerWidth<767.9?(this.deviceType="mobile",this.selectedView="mobile"):this.deviceType=window.innerWidth<1280?"tablet":"desktop",this.setTileWidth(this.deviceType)}setTileWidth(t,i){if("mobile"===t){const a=i||430,s=2;this.tileWidth=Math.round((window.innerWidth-16)/s),window.innerWidth>a?(this.tileWidth=(a-16)/s,document.documentElement.style.setProperty("--page-padding-side-phone",(window.innerWidth-(a-16))/2+"px")):document.documentElement.style.setProperty("--page-padding-side-phone","8px")}else"tablet"===t?(this.tileWidth=(window.innerWidth-20)/4,window.innerWidth>860?(this.tileWidth=210,document.documentElement.style.setProperty("--page-padding-side-tablet",(window.innerWidth-840)/2+"px")):document.documentElement.style.setProperty("--page-padding-side-tablet","10px")):(this.tileWidth=(window.innerWidth-60)/4,window.innerWidth>1280&&(this.tileWidth=305,document.documentElement.style.setProperty("--page-padding-side",(window.innerWidth-1220)/2+"px")))}setGridOptions(t){let i=4,o=91,a=10,s="desktop";"mobile"===t?(i=2,o=64,a=8,s="mobile"):"tablet"===t&&(o=64);let l=0,d=[];this.tileItemOptions[s].forEach(p=>{let c={};c.id=p.id,c.x=p.x_axis,c.y=Math.round(p.y_axis*this.tileWidth)+l,c.w=p.width,c.h=Math.round(p.height*this.tileWidth),c.type=p.type,c.tile_id=p.id,"group_title"===p.type&&(l+=o,c.h=o,c.w=i),d.push(c)}),this.gridOptions={cellHeight:1,margin:a,float:!1,column:i,disableOneColumnMode:!0,alwaysShowResizeHandle:!1,disableResize:!0,children:d},this.setTileSizes()}setTileSizes(){this.tileSizes=[],this.tileItemOptions[this.selectedView].forEach(t=>{this.tiles.find(l=>l.id==t.id).size="s"+t.width+"x"+t.height})}onResize(t){window.addEventListener("resize",i=>{window.innerWidth!=this.windowWidth&&(this.windowWidth=window.innerWidth,this.isMobileViewSelected?(this.setTileWidth("mobile",362),this.setGridOptions("mobile")):(this.setDeviceTypes(),this.setGridOptions(this.deviceType)),this.refreshGridStack())})}refreshGridStack(){let t=this.gridOptions;this.gridOptions=void 0,setTimeout(()=>{this.gridOptions=t})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.f),e.Y36(y.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["template-preview"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(a){return i.onResize(a)},!1,e.Jf7)},inputs:{userData:"userData",profileData:"profileData"},decls:2,vars:2,consts:[["class","template-grid-container","id","gridContainer",3,"ngClass",4,"ngIf"],["class","page-loader",4,"ngIf"],["id","gridContainer",1,"template-grid-container",3,"ngClass"],["class","header-outer",3,"tileData",4,"ngIf"],["class","gridstack-outer",3,"options","tiles","deviceType","isPublicPage",4,"ngIf"],[1,"header-outer",3,"tileData"],[1,"gridstack-outer",3,"options","tiles","deviceType","isPublicPage"],["gridComp",""],[1,"page-loader"]],template:function(t,i){1&t&&(e.YNc(0,ir,3,5,"div",0),e.YNc(1,nr,2,0,"div",1)),2&t&&(e.Q6J("ngIf",i.userNameAvailable),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.mk,u.O5,X.s,oe.G,Ce],styles:['.template-grid-container{padding:64px var(--page-padding-side) 96px;height:100%;overflow-y:auto;scroll-behavior:auto;position:relative;overflow-x:hidden;display:flex;flex-direction:column;align-items:center}  .template-grid-container .header-outer{width:100%}  .template-grid-container .gridstack-outer{flex:1;width:100%}  .template-grid-container .footer{display:flex;margin:24px calc(0px - var(--page-padding-side)) 0;flex-direction:row;align-items:center;padding:40px 0;column-gap:16px;max-width:1200px;width:100%;border-top:var(--footer-border);color:var(--font-tertiary);font-weight:500;font-size:14px;line-height:120%}  .template-grid-container .footer .footer-logo{display:flex;flex-direction:row;align-items:center;padding:0;gap:4px;cursor:pointer}  .template-grid-container .footer .footer-logo .avatar-image{border-radius:50%;object-fit:cover}  .template-grid-container .footer .footer-logo img{width:20px;height:20px}  .template-grid-container .footer .footer-separator{border-left:var(--seperator-border);height:18px}  .template-grid-container .footer .footer-options{cursor:pointer}@media (max-width: 1279px){  .template-grid-container .footer{margin:24px calc(0px - var(--page-padding-side-tablet)) 0}}@media (max-width: 767.9px){  .template-grid-container .footer{justify-content:center;padding:24px 16px;gap:16px;margin:24px calc(0px - var(--page-padding-side-phone)) 0}  .template-grid-container .footer .footer-logo img{width:18px;height:18px}}  .template-grid-container .floating-bar{display:none;z-index:2}  .template-grid-container::-webkit-scrollbar{width:0px}  .template-grid-container.touch-device .grid-stack-item .grid-stack-item-content{pointer-events:none}  .template-grid-container.touch-device .grid-stack-item.tile-active .grid-stack-item-content{pointer-events:all}  .template-grid-container header-tile.active .header-wrapper{box-shadow:var(--active-tile-shadow);border:var(--active-cards-border)}  .template-grid-container header-tile.active .header-wrapper .header-content-wrapper{border:0}  .template-grid-container .header-floating-bar{position:absolute;transform:translate(-50%);left:50%;z-index:1;top:auto;padding:16px;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.06);box-shadow:0 4px 8px #10101040;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;margin-bottom:24px;color:#f9f9f9}  .template-grid-container .header-floating-bar .header-options{display:flex;flex-direction:row;column-gap:8px;flex:1;background:rgba(255,255,255,.15);border-radius:8px;padding:7px 12px 7px 8px;align-items:center;justify-content:center;cursor:pointer;font-weight:500}  .template-grid-container .header-floating-bar .header-options .bottom-option-icon svg{width:22px;height:22px}  .template-grid-container .header-floating-bar .header-options .bottom-option-label{font-size:14px;line-height:17px}  .template-grid-container .header-floating-bar .header-options:hover{background:rgba(255,255,255,.3)}.bottom-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;z-index:100;transform:translate(-50%)}.add-tile[_ngcontent-%COMP%]{position:absolute;display:flex;right:0;top:0;bottom:0;z-index:101;height:100%;justify-content:flex-end}.add-tile-backdrop[_ngcontent-%COMP%]{position:absolute;display:flex;right:0;top:0;bottom:0;z-index:101;height:100%;background:rgba(21,21,21,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);width:100%}@media (max-width: 1279px){.template-grid-container[_ngcontent-%COMP%]{padding:40px var(--page-padding-side-tablet) 96px}}@media (max-width: 767.9px){.template-grid-container[_ngcontent-%COMP%]{padding:24px var(--page-padding-side-phone) 76px}.bottom-bar[_ngcontent-%COMP%]{width:100%;left:0;transform:translate(0)}.add-tile[_ngcontent-%COMP%]{width:100%;left:0;top:auto;right:auto;max-height:90%;height:auto}}  .template-grid-container.mobile .h1{font-size:24px;line-height:34px}  .template-grid-container.mobile .h2{font-size:20px;line-height:32px}  .template-grid-container.mobile .h3{font-size:18px;line-height:22px}  .template-grid-container.mobile .h4{font-size:16px;line-height:22px}  .template-grid-container.mobile .text-body{font-size:16px;line-height:26px}  .template-grid-container.mobile .text-caption{font-size:14px;line-height:17px}  .grid-stack-placeholder>.placeholder-content{border-radius:32px!important;background-color:var(--cards-placeholder)!important}@media (max-width: 1279px){  .grid-stack-placeholder>.placeholder-content{border-radius:24px!important}}  .grid-stack .grid-stack-item{border-radius:32px}  .grid-stack .grid-stack-item.url-tiles .grid-stack-item-content{cursor:pointer}  .grid-stack .grid-stack-item .grid-stack-item-content{border-radius:32px;overflow-y:hidden}@media (max-width: 1279px){  .grid-stack .grid-stack-item{border-radius:24px}  .grid-stack .grid-stack-item .grid-stack-item-content{border-radius:24px;overflow-y:hidden}}  .grid-stack .grid-stack-item[gs-w="1"]{width:25%;min-width:25%}  .grid-stack .grid-stack-item[gs-w="2"]{width:50%;min-width:50%}  .grid-stack .grid-stack-item[gs-w="3"]{width:75%;min-width:75%}  .grid-stack .grid-stack-item[gs-w="4"]{width:100%;min-width:100%}  .grid-stack .grid-stack-item[gs-x="1"]{left:25%}  .grid-stack .grid-stack-item[gs-x="2"]{left:50%}  .grid-stack .grid-stack-item[gs-x="3"]{left:75%}  .grid-stack .grid-stack-item[gs-x="4"]{left:100%}@media (max-width: 767.9px){  .grid-stack .grid-stack-item[gs-w="2"]{width:100%;min-width:100%}  .grid-stack .grid-stack-item[gs-w="1"]{width:50%;min-width:50%}  .grid-stack .grid-stack-item[gs-x="2"]{left:100%}  .grid-stack .grid-stack-item[gs-x="1"]{left:50%}}.btn[_ngcontent-%COMP%]{color:var(--font-primary)}']}),n})();function ar(n,r){1&n&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&n&&(e.xp6(1),e.hij(" ","Start with a template"," "))}function rr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openPreview(o.details))}),e._uU(1),e.qZA()}2&n&&(e.xp6(1),e.hij(" ","Preview"," "))}function sr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.useTemplate(a.details))}),e._UZ(2,"img",10),e.qZA(),e.TgZ(3,"div",11)(4,"div",12),e._uU(5),e.YNc(6,rr,2,1,"div",13),e.qZA(),e.TgZ(7,"div",14),e._uU(8),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.preview_url,e.LSH),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.is_preview_available),e.xp6(1),e.Q6J("title",t.description),e.xp6(1),e.hij(" ",t.description," ")}}function lr(n,r){if(1&n&&e._UZ(0,"template-preview",16),2&n){const t=e.oxw();e.Q6J("userData",t.templateDetails)("profileData",t.profileData)}}function dr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePreview())}),e._uU(2),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.useTemplate())}),e._uU(4),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ","Close Preview"," "),e.xp6(2),e.hij(" ","Use this template"," "))}function cr(n,r){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"page-loader"),e.qZA())}const ur=[{path:"",component:b,title:"Tiles Editor",children:[{path:"",component:Qa},{path:"set-username",component:$a,title:"Set username"},{path:"select-template",component:(()=>{class n{constructor(t,i,o){this.supabaseService=t,this.toastService=i,this.router=o,this.loading=0,this.isPreviewActive=!1}ngOnInit(){this.getTemplates()}getTemplates(){this.loading++,this.supabaseService.getTemplates().catch(t=>{this.loading--,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(t=>{this.loading--,t&&t.error?this.toastService.addToast({message:t.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}}):(t.data[0].profile_data[0].selected_template&&this.router.navigate(["editor"]),this.templateList=t.data[0].templates,this.profileData=t.data[0].profile_data[0])})}openPreview(t){this.isPreviewActive=!0,this.templateDetails=t}closePreview(){this.isPreviewActive=!1,this.templateDetails=void 0}useTemplate(t){t&&(this.templateDetails=t),this.loading++;const i={group_titles:[],video_tiles:[],link_tiles:[],music_tiles:[],location_tiles:[],photo_tiles:[],social_tiles:[],mobile_layout:[],desktop_layout:[],profile_data:[]},o={};this.templateDetails.tiles.forEach(a=>{const s=JSON.parse(JSON.stringify(a));o[a.id]=this.profileData.username+"-"+a.id,s.tile_id=o[a.id],delete s.id,i[s.type+"s"].push(s)}),this.templateDetails.mobile_layout.forEach(a=>{const s=JSON.parse(JSON.stringify(a));s.tile_id=o[a.id],delete s.id,i.mobile_layout.push(s)}),this.templateDetails.desktop_layout.forEach(a=>{const s=JSON.parse(JSON.stringify(a));s.tile_id=o[a.id],delete s.id,i.desktop_layout.push(s)}),i.profile_data=[this.templateDetails.profile_data],this.supabaseService.insertUserData(i).catch(a=>{this.loading--,this.toastService.addToast({message:"Something went wrong",type:"error",additionalData:{error:new Error("Something went wrong")}})}).then(a=>{a&&a.error?(this.loading--,this.toastService.addToast({message:a.error.message,type:"error",additionalData:{error:new Error("Something went wrong")}})):this.router.navigate(["editor"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.T),e.Y36(w.k),e.Y36(I.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-template-selection"]],decls:7,vars:5,consts:[[1,"template-selection-outer-wrapper"],["class","template-selection-header h2",4,"ngIf"],[1,"template-grid-wrapper"],["class","template-card",4,"ngFor","ngForOf"],["class","template-preview-container",3,"userData","profileData",4,"ngIf"],["class","template-preview-buttons-wrapper",4,"ngIf"],["class","page-loader",4,"ngIf"],[1,"template-selection-header","h2"],[1,"template-card"],[1,"template-image",3,"click"],["width","380","height","400",2,"width","100%","height","auto",3,"src"],[1,"template-content"],[1,"template-content-header","h4"],["class","template-preview-btn text-caption",3,"click",4,"ngIf"],[1,"template-content-desc","text-caption",3,"title"],[1,"template-preview-btn","text-caption",3,"click"],[1,"template-preview-container",3,"userData","profileData"],[1,"template-preview-buttons-wrapper"],[1,"template-preview-button","text-caption",3,"click"],[1,"page-loader"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ar,2,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,sr,9,5,"div",3),e.qZA()(),e.YNc(4,lr,1,2,"template-preview",4),e.YNc(5,dr,5,2,"div",5),e.YNc(6,cr,2,0,"div",6)),2&t&&(e.xp6(1),e.Q6J("ngIf",i.templateList),e.xp6(2),e.Q6J("ngForOf",i.templateList),e.xp6(1),e.Q6J("ngIf",i.isPreviewActive),e.xp6(1),e.Q6J("ngIf",i.isPreviewActive),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[u.sg,u.O5,Ce,or],styles:[".template-selection-outer-wrapper{display:flex;flex-direction:column;align-items:center;padding:64px 64px 96px;row-gap:32px;background:#000000;height:100%;overflow-y:auto;overflow-x:hidden}  .template-selection-outer-wrapper .template-selection-header{display:flex;justify-content:flex-start;max-width:1200px;width:100%;color:#f9f9f9}  .template-selection-outer-wrapper .template-grid-wrapper{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;flex:1;gap:32px;max-width:1200px}  .template-selection-outer-wrapper .template-grid-wrapper .template-card{display:flex;flex-direction:column;flex:1;min-width:280px;max-width:378px;background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.2);border-radius:16px;overflow:hidden}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-image{display:flex;background-color:#252525;cursor:pointer}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-image img{height:100%;width:100%;object-fit:cover}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-content{display:flex;flex-direction:column;padding:16px;gap:8px}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-content .template-content-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:4px;color:#f9f9f9cc}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-content .template-content-header .template-preview-btn{display:flex;flex-direction:row;align-items:center;padding:4px 4px 4px 8px;background:rgba(255,255,255,.05);border-radius:4px;cursor:pointer;color:#f9f9f9cc}  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-content .template-content-desc{color:#f9f9f966;display:-webkit-box;-webkit-line-clamp:2;word-break:break-word;-webkit-box-orient:vertical;overflow:hidden}@media (max-width: 767.9px){  .template-selection-outer-wrapper .template-grid-wrapper .template-card .template-content .template-content-desc{-webkit-line-clamp:5}}@media (max-width: 767.9px){  .template-selection-outer-wrapper{padding:24px 16px;row-gap:16px}  .template-selection-outer-wrapper .template-selection-header{max-width:378px}  .template-selection-outer-wrapper .template-grid-wrapper{flex-direction:column;gap:16px}}.template-preview-container[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0;background:var(--background-primary)}.template-preview-buttons-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:12px 16px 16px;gap:24px;position:fixed;width:100%;left:0;bottom:0;background:rgba(0,0,0,.6);border-top:1px solid rgba(255,255,255,.06);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.template-preview-buttons-wrapper[_ngcontent-%COMP%]   .template-preview-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:8px;gap:8px;background:rgba(255,255,255,.1);border-radius:100px;flex:none;order:0;flex-grow:0;color:#fff;cursor:pointer}"]}),n})(),title:"Select template"},{path:"**",component:v(9004).r,title:"Page not found - Tiles"}]}];let hr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.Bz.forChild(ur),I.Bz]}),n})();var gr=v(1469);let fr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,hr,gr.m,Zn,h.UX]}),n})()},8978:function(le){le.exports=function(Y){var v={};function u(I){if(v[I])return v[I].exports;var D=v[I]={i:I,l:!1,exports:{}};return Y[I].call(D.exports,D,D.exports,u),D.l=!0,D.exports}return u.m=Y,u.c=v,u.d=function(I,D,j){u.o(I,D)||Object.defineProperty(I,D,{enumerable:!0,get:j})},u.r=function(I){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},u.t=function(I,D){if(1&D&&(I=u(I)),8&D||4&D&&"object"==typeof I&&I&&I.__esModule)return I;var j=Object.create(null);if(u.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:I}),2&D&&"string"!=typeof I)for(var Q in I)u.d(j,Q,function(te){return I[te]}.bind(null,Q));return j},u.n=function(I){var D=I&&I.__esModule?function(){return I.default}:function(){return I};return u.d(D,"a",D),D},u.o=function(I,D){return Object.prototype.hasOwnProperty.call(I,D)},u.p="",u(u.s=0)}([function(Y,v,u){"use strict";var I,e;function D(e){return["image/png","image/jpeg","image/gif"].some(f=>f===e)}u.r(v),u.d(v,"canvastoDataURL",function(){return Q}),u.d(v,"canvastoFile",function(){return te}),u.d(v,"dataURLtoFile",function(){return B}),u.d(v,"dataURLtoImage",function(){return ie}),u.d(v,"downloadFile",function(){return we}),u.d(v,"filetoDataURL",function(){return ne}),u.d(v,"imagetoCanvas",function(){return W}),u.d(v,"urltoBlob",function(){return de}),u.d(v,"urltoImage",function(){return Te}),u.d(v,"compress",function(){return ye}),u.d(v,"compressAccurately",function(){return pe}),u.d(v,"EImageType",function(){return I}),(e=I||(I={})).PNG="image/png",e.JPEG="image/jpeg",e.GIF="image/gif";function Q(e,f=.92,b=I.JPEG){return function(e,f,b,m){return new(b||(b=Promise))(function(T,S){function L(y){try{A(m.next(y))}catch(w){S(w)}}function E(y){try{A(m.throw(y))}catch(w){S(w)}}function A(y){var w;y.done?T(y.value):(w=y.value,w instanceof b?w:new b(function(R){R(w)})).then(L,E)}A((m=m.apply(e,f||[])).next())})}(this,void 0,void 0,function*(){return D(b)||(b=I.JPEG),e.toDataURL(b,f)})}function te(e,f=.92,b=I.JPEG){return new Promise(m=>e.toBlob(T=>m(T),b,f))}function B(e,f){return function(e,f,b,m){return new(b||(b=Promise))(function(T,S){function L(y){try{A(m.next(y))}catch(w){S(w)}}function E(y){try{A(m.throw(y))}catch(w){S(w)}}function A(y){var w;y.done?T(y.value):(w=y.value,w instanceof b?w:new b(function(R){R(w)})).then(L,E)}A((m=m.apply(e,f||[])).next())})}(this,void 0,void 0,function*(){const b=e.split(",");let m=b[0].match(/:(.*?);/)[1];const T=atob(b[1]);let S=T.length;const L=new Uint8Array(S);for(;S--;)L[S]=T.charCodeAt(S);return D(f)&&(m=f),new Blob([L],{type:m})})}function ie(e){return new Promise((f,b)=>{const m=new Image;m.onload=()=>f(m),m.onerror=()=>b(new Error("dataURLtoImage(): dataURL is illegal")),m.src=e})}function we(e,f){const b=document.createElement("a");b.href=window.URL.createObjectURL(e),b.download=f||Date.now().toString(36),document.body.appendChild(b);const m=document.createEvent("MouseEvents");m.initEvent("click",!1,!1),b.dispatchEvent(m),document.body.removeChild(b)}function ne(e){return new Promise(f=>{const b=new FileReader;b.onloadend=m=>f(m.target.result),b.readAsDataURL(e)})}function W(e,f={}){return function(e,f,b,m){return new(b||(b=Promise))(function(T,S){function L(y){try{A(m.next(y))}catch(w){S(w)}}function E(y){try{A(m.throw(y))}catch(w){S(w)}}function A(y){var w;y.done?T(y.value):(w=y.value,w instanceof b?w:new b(function(R){R(w)})).then(L,E)}A((m=m.apply(e,f||[])).next())})}(this,void 0,void 0,function*(){const b=Object.assign({},f),m=document.createElement("canvas"),T=m.getContext("2d");let S,L;for(const E in b)Object.prototype.hasOwnProperty.call(b,E)&&(b[E]=Number(b[E]));if(b.scale){const E=b.scale>0&&b.scale<10?b.scale:1;L=e.width*E,S=e.height*E}else L=b.width||b.height*e.width/e.height||e.width,S=b.height||b.width*e.height/e.width||e.height;switch([5,6,7,8].some(E=>E===b.orientation)?(m.height=L,m.width=S):(m.height=S,m.width=L),b.orientation){case 3:T.rotate(180*Math.PI/180),T.drawImage(e,-m.width,-m.height,m.width,m.height);break;case 6:T.rotate(90*Math.PI/180),T.drawImage(e,0,-m.width,m.height,m.width);break;case 8:T.rotate(270*Math.PI/180),T.drawImage(e,-m.height,0,m.height,m.width);break;case 2:T.translate(m.width,0),T.scale(-1,1),T.drawImage(e,0,0,m.width,m.height);break;case 4:T.translate(m.width,0),T.scale(-1,1),T.rotate(180*Math.PI/180),T.drawImage(e,-m.width,-m.height,m.width,m.height);break;case 5:T.translate(m.width,0),T.scale(-1,1),T.rotate(90*Math.PI/180),T.drawImage(e,0,-m.width,m.height,m.width);break;case 7:T.translate(m.width,0),T.scale(-1,1),T.rotate(270*Math.PI/180),T.drawImage(e,-m.height,0,m.height,m.width);break;default:T.drawImage(e,0,0,m.width,m.height)}return m})}function de(e){return fetch(e).then(f=>f.blob())}function Te(e){return new Promise((f,b)=>{const m=new Image;m.onload=()=>f(m),m.onerror=()=>b(new Error("urltoImage(): Image failed to load, please check the image URL")),m.src=e})}var ce=function(e,f,b,m){return new(b||(b=Promise))(function(T,S){function L(y){try{A(m.next(y))}catch(w){S(w)}}function E(y){try{A(m.throw(y))}catch(w){S(w)}}function A(y){var w;y.done?T(y.value):(w=y.value,w instanceof b?w:new b(function(R){R(w)})).then(L,E)}A((m=m.apply(e,f||[])).next())})};function ye(e,f={}){return ce(this,void 0,void 0,function*(){if(!(e instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if("object"!=typeof f&&(f=Object.assign({quality:f})),f.quality=Number(f.quality),Number.isNaN(f.quality))return e;const b=yield ne(e);let m=b.split(",")[0].match(/:(.*?);/)[1],T=I.JPEG;D(f.type)&&(T=f.type,m=f.type);const S=yield ie(b),L=yield W(S,Object.assign({},f)),E=yield Q(L,f.quality,T),A=yield B(E,m);return A.size>e.size?e:A})}function pe(e,f={}){return ce(this,void 0,void 0,function*(){if(!(e instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if("object"!=typeof f&&(f=Object.assign({size:f})),f.size=Number(f.size),Number.isNaN(f.size)||1024*f.size>e.size)return e;f.accuracy=Number(f.accuracy),(!f.accuracy||f.accuracy<.8||f.accuracy>.99)&&(f.accuracy=.95);const b=f.size*(2-f.accuracy)*1024,m=1024*f.size,T=f.size*f.accuracy*1024,S=yield ne(e);let L=S.split(",")[0].match(/:(.*?);/)[1],E=I.JPEG;D(f.type)&&(E=f.type,L=f.type);const A=yield ie(S),y=yield W(A,Object.assign({},f));let w,R=.5;const X=[null,null];for(let N=1;N<=7;N++){w=yield Q(y,R,E);const K=.75*w.length;if(7===N){(b<K||T>K)&&(w=[w,...X].filter(ae=>ae).sort((ae,Ie)=>Math.abs(.75*ae.length-m)-Math.abs(.75*Ie.length-m))[0]);break}if(b<K)X[1]=w,R-=Math.pow(.5,N+1);else{if(!(T>K))break;X[0]=w,R+=Math.pow(.5,N+1)}}const oe=yield B(w,L);return oe.size>e.size?e:oe})}}])},5165:(le,Y,v)=>{le.exports=v(8978)}}]);